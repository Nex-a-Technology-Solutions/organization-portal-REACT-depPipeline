import{r as O0,a as I0,g as F0}from"./vendor-CRB3T2We.js";import{r as h,R as sl,a as Pa,b as L0,u as hr,L as ai,c as Zt,d as Ws,e as $0,f as fm,B as V0,g as B0,h as Ie}from"./router-C47u64IR.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var po={exports:{}},On={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc;function U0(){if(Mc)return On;Mc=1;var e=O0(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(l,c,d){var u,m={},f=null,y=null;d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(y=c.ref);for(u in c)r.call(c,u)&&!o.hasOwnProperty(u)&&(m[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)m[u]===void 0&&(m[u]=c[u]);return{$$typeof:t,type:l,key:f,ref:y,props:m,_owner:a.current}}return On.Fragment=s,On.jsx=i,On.jsxs=i,On}var Oc;function z0(){return Oc||(Oc=1,po.exports=U0()),po.exports}var n=z0(),Or={},Ic;function W0(){if(Ic)return Or;Ic=1;var e=I0();return Or.createRoot=e.createRoot,Or.hydrateRoot=e.hydrateRoot,Or}var H0=W0();const q0=F0(H0);function it(e){return"/"+e.toLowerCase().replace(/ /g,"-")}function pm(e,t){return function(){return e.apply(t,arguments)}}const{toString:G0}=Object.prototype,{getPrototypeOf:nl}=Object,{iterator:Ea,toStringTag:gm}=Symbol,Ta=(e=>t=>{const s=G0.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Dt=e=>(e=e.toLowerCase(),t=>Ta(t)===e),Da=e=>t=>typeof t===e,{isArray:bn}=Array,mn=Da("undefined");function fr(e){return e!==null&&!mn(e)&&e.constructor!==null&&!mn(e.constructor)&&nt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xm=Dt("ArrayBuffer");function Y0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xm(e.buffer),t}const K0=Da("string"),nt=Da("function"),ym=Da("number"),pr=e=>e!==null&&typeof e=="object",X0=e=>e===!0||e===!1,Kr=e=>{if(Ta(e)!=="object")return!1;const t=nl(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gm in e)&&!(Ea in e)},J0=e=>{if(!pr(e)||fr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Z0=Dt("Date"),Q0=Dt("File"),ey=Dt("Blob"),ty=Dt("FileList"),sy=e=>pr(e)&&nt(e.pipe),ny=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||nt(e.append)&&((t=Ta(e))==="formdata"||t==="object"&&nt(e.toString)&&e.toString()==="[object FormData]"))},ry=Dt("URLSearchParams"),[ay,oy,iy,ly]=["ReadableStream","Request","Response","Headers"].map(Dt),cy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gr(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),bn(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(fr(e))return;const o=s?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(r=0;r<i;r++)l=o[r],t.call(null,e[l],l,e)}}function vm(e,t){if(fr(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const Ts=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bm=e=>!mn(e)&&e!==Ts;function oi(){const{caseless:e,skipUndefined:t}=bm(this)&&this||{},s={},r=(a,o)=>{const i=e&&vm(s,o)||o;Kr(s[i])&&Kr(a)?s[i]=oi(s[i],a):Kr(a)?s[i]=oi({},a):bn(a)?s[i]=a.slice():(!t||!mn(a))&&(s[i]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&gr(arguments[a],r);return s}const dy=(e,t,s,{allOwnKeys:r}={})=>(gr(t,(a,o)=>{s&&nt(a)?e[o]=pm(a,s):e[o]=a},{allOwnKeys:r}),e),uy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),my=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},hy=(e,t,s,r)=>{let a,o,i;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&nl(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},fy=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},py=e=>{if(!e)return null;if(bn(e))return e;let t=e.length;if(!ym(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},gy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nl(Uint8Array)),xy=(e,t)=>{const r=(e&&e[Ea]).call(e);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(e,o[0],o[1])}},yy=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},vy=Dt("HTMLFormElement"),by=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),Fc=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),wy=Dt("RegExp"),wm=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};gr(s,(a,o)=>{let i;(i=t(a,o,e))!==!1&&(r[o]=i||a)}),Object.defineProperties(e,r)},jy=e=>{wm(e,(t,s)=>{if(nt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(nt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Ny=(e,t)=>{const s={},r=a=>{a.forEach(o=>{s[o]=!0})};return bn(e)?r(e):r(String(e).split(t)),s},_y=()=>{},Sy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cy(e){return!!(e&&nt(e.append)&&e[gm]==="FormData"&&e[Ea])}const ky=e=>{const t=new Array(10),s=(r,a)=>{if(pr(r)){if(t.indexOf(r)>=0)return;if(fr(r))return r;if(!("toJSON"in r)){t[a]=r;const o=bn(r)?[]:{};return gr(r,(i,l)=>{const c=s(i,a+1);!mn(c)&&(o[l]=c)}),t[a]=void 0,o}}return r};return s(e,0)},Py=Dt("AsyncFunction"),Ey=e=>e&&(pr(e)||nt(e))&&nt(e.then)&&nt(e.catch),jm=((e,t)=>e?setImmediate:t?((s,r)=>(Ts.addEventListener("message",({source:a,data:o})=>{a===Ts&&o===s&&r.length&&r.shift()()},!1),a=>{r.push(a),Ts.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",nt(Ts.postMessage)),Ty=typeof queueMicrotask<"u"?queueMicrotask.bind(Ts):typeof process<"u"&&process.nextTick||jm,Dy=e=>e!=null&&nt(e[Ea]),F={isArray:bn,isArrayBuffer:xm,isBuffer:fr,isFormData:ny,isArrayBufferView:Y0,isString:K0,isNumber:ym,isBoolean:X0,isObject:pr,isPlainObject:Kr,isEmptyObject:J0,isReadableStream:ay,isRequest:oy,isResponse:iy,isHeaders:ly,isUndefined:mn,isDate:Z0,isFile:Q0,isBlob:ey,isRegExp:wy,isFunction:nt,isStream:sy,isURLSearchParams:ry,isTypedArray:gy,isFileList:ty,forEach:gr,merge:oi,extend:dy,trim:cy,stripBOM:uy,inherits:my,toFlatObject:hy,kindOf:Ta,kindOfTest:Dt,endsWith:fy,toArray:py,forEachEntry:xy,matchAll:yy,isHTMLForm:vy,hasOwnProperty:Fc,hasOwnProp:Fc,reduceDescriptors:wm,freezeMethods:jy,toObjectSet:Ny,toCamelCase:by,noop:_y,toFiniteNumber:Sy,findKey:vm,global:Ts,isContextDefined:bm,isSpecCompliantForm:Cy,toJSONObject:ky,isAsyncFn:Py,isThenable:Ey,setImmediate:jm,asap:Ty,isIterable:Dy};function de(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}F.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const Nm=de.prototype,_m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_m[e]={value:e}});Object.defineProperties(de,_m);Object.defineProperty(Nm,"isAxiosError",{value:!0});de.from=(e,t,s,r,a,o)=>{const i=Object.create(Nm);F.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return de.call(i,l,c,s,r,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const Ay=null;function ii(e){return F.isPlainObject(e)||F.isArray(e)}function Sm(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function Lc(e,t,s){return e?e.concat(t).map(function(a,o){return a=Sm(a),!s&&o?"["+a+"]":a}).join(s?".":""):t}function Ry(e){return F.isArray(e)&&!e.some(ii)}const My=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function Aa(e,t,s){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=F.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!F.isUndefined(g[p])});const r=s.metaTokens,a=s.visitor||u,o=s.dots,i=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(F.isDate(x))return x.toISOString();if(F.isBoolean(x))return x.toString();if(!c&&F.isBlob(x))throw new de("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(x)||F.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,g){let v=x;if(x&&!g&&typeof x=="object"){if(F.endsWith(p,"{}"))p=r?p:p.slice(0,-2),x=JSON.stringify(x);else if(F.isArray(x)&&Ry(x)||(F.isFileList(x)||F.endsWith(p,"[]"))&&(v=F.toArray(x)))return p=Sm(p),v.forEach(function(b,S){!(F.isUndefined(b)||b===null)&&t.append(i===!0?Lc([p],S,o):i===null?p:p+"[]",d(b))}),!1}return ii(x)?!0:(t.append(Lc(g,p,o),d(x)),!1)}const m=[],f=Object.assign(My,{defaultVisitor:u,convertValue:d,isVisitable:ii});function y(x,p){if(!F.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));m.push(x),F.forEach(x,function(v,w){(!(F.isUndefined(v)||v===null)&&a.call(t,v,F.isString(w)?w.trim():w,p,f))===!0&&y(v,p?p.concat(w):[w])}),m.pop()}}if(!F.isObject(e))throw new TypeError("data must be an object");return y(e),t}function $c(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function rl(e,t){this._pairs=[],e&&Aa(e,this,t)}const Cm=rl.prototype;Cm.append=function(t,s){this._pairs.push([t,s])};Cm.toString=function(t){const s=t?function(r){return t.call(this,r,$c)}:$c;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function Oy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function km(e,t,s){if(!t)return e;const r=s&&s.encode||Oy;F.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let o;if(a?o=a(t,s):o=F.isURLSearchParams(t)?t.toString():new rl(t,s).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Vc{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Pm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Iy=typeof URLSearchParams<"u"?URLSearchParams:rl,Fy=typeof FormData<"u"?FormData:null,Ly=typeof Blob<"u"?Blob:null,$y={isBrowser:!0,classes:{URLSearchParams:Iy,FormData:Fy,Blob:Ly},protocols:["http","https","file","blob","url","data"]},al=typeof window<"u"&&typeof document<"u",li=typeof navigator=="object"&&navigator||void 0,Vy=al&&(!li||["ReactNative","NativeScript","NS"].indexOf(li.product)<0),By=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uy=al&&window.location.href||"http://localhost",zy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:al,hasStandardBrowserEnv:Vy,hasStandardBrowserWebWorkerEnv:By,navigator:li,origin:Uy},Symbol.toStringTag,{value:"Module"})),We={...zy,...$y};function Wy(e,t){return Aa(e,new We.classes.URLSearchParams,{visitor:function(s,r,a,o){return We.isNode&&F.isBuffer(s)?(this.append(r,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Hy(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function qy(e){const t={},s=Object.keys(e);let r;const a=s.length;let o;for(r=0;r<a;r++)o=s[r],t[o]=e[o];return t}function Em(e){function t(s,r,a,o){let i=s[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=s.length;return i=!i&&F.isArray(a)?a.length:i,c?(F.hasOwnProp(a,i)?a[i]=[a[i],r]:a[i]=r,!l):((!a[i]||!F.isObject(a[i]))&&(a[i]=[]),t(s,r,a[i],o)&&F.isArray(a[i])&&(a[i]=qy(a[i])),!l)}if(F.isFormData(e)&&F.isFunction(e.entries)){const s={};return F.forEachEntry(e,(r,a)=>{t(Hy(r),a,s,0)}),s}return null}function Gy(e,t,s){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const xr={transitional:Pm,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,o=F.isObject(t);if(o&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return a?JSON.stringify(Em(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Wy(t,this.formSerializer).toString();if((l=F.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Aa(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||a?(s.setContentType("application/json",!1),Gy(t)):t}],transformResponse:[function(t){const s=this.transitional||xr.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(r&&!this.responseType||a)){const i=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?de.from(l,de.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{xr.headers[e]={}});const Yy=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ky=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),s=i.substring(0,a).trim().toLowerCase(),r=i.substring(a+1).trim(),!(!s||t[s]&&Yy[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},Bc=Symbol("internals");function In(e){return e&&String(e).trim().toLowerCase()}function Xr(e){return e===!1||e==null?e:F.isArray(e)?e.map(Xr):String(e)}function Xy(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const Jy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function go(e,t,s,r,a){if(F.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!F.isString(t)){if(F.isString(r))return t.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(t)}}function Zy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function Qy(e,t){const s=F.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,o,i){return this[r].call(this,t,a,o,i)},configurable:!0})})}let rt=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function o(l,c,d){const u=In(c);if(!u)throw new Error("header name must be a non-empty string");const m=F.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=Xr(l))}const i=(l,c)=>F.forEach(l,(d,u)=>o(d,u,c));if(F.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(F.isString(t)&&(t=t.trim())&&!Jy(t))i(Ky(t),s);else if(F.isObject(t)&&F.isIterable(t)){let l={},c,d;for(const u of t){if(!F.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?F.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,s)}else t!=null&&o(s,t,r);return this}get(t,s){if(t=In(t),t){const r=F.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return Xy(a);if(F.isFunction(s))return s.call(this,a,r);if(F.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=In(t),t){const r=F.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||go(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function o(i){if(i=In(i),i){const l=F.findKey(r,i);l&&(!s||go(r,r[l],l,s))&&(delete r[l],a=!0)}}return F.isArray(t)?t.forEach(o):o(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const o=s[r];(!t||go(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const s=this,r={};return F.forEach(this,(a,o)=>{const i=F.findKey(r,o);if(i){s[i]=Xr(a),delete s[o];return}const l=t?Zy(o):String(o).trim();l!==o&&delete s[o],s[l]=Xr(a),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return F.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&F.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Bc]=this[Bc]={accessors:{}}).accessors,a=this.prototype;function o(i){const l=In(i);r[l]||(Qy(a,i),r[l]=!0)}return F.isArray(t)?t.forEach(o):o(t),this}};rt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(rt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});F.freezeMethods(rt);function xo(e,t){const s=this||xr,r=t||s,a=rt.from(r.headers);let o=r.data;return F.forEach(e,function(l){o=l.call(s,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function Tm(e){return!!(e&&e.__CANCEL__)}function wn(e,t,s){de.call(this,e??"canceled",de.ERR_CANCELED,t,s),this.name="CanceledError"}F.inherits(wn,de,{__CANCEL__:!0});function Dm(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new de("Request failed with status code "+s.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function ev(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tv(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=r[o];i||(i=d),s[a]=c,r[a]=d;let m=o,f=0;for(;m!==a;)f+=s[m++],m=m%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),d-i<t)return;const y=u&&d-u;return y?Math.round(f*1e3/y):void 0}}function sv(e,t){let s=0,r=1e3/t,a,o;const i=(d,u=Date.now())=>{s=u,a=null,o&&(clearTimeout(o),o=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-s;m>=r?i(d,u):(a=d,o||(o=setTimeout(()=>{o=null,i(a)},r-m)))},()=>a&&i(a)]}const la=(e,t,s=3)=>{let r=0;const a=tv(50,250);return sv(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-r,d=a(c),u=i<=l;r=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(m)},s)},Uc=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},zc=e=>(...t)=>F.asap(()=>e(...t)),nv=We.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,We.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,rv=We.hasStandardBrowserEnv?{write(e,t,s,r,a,o,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];F.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),F.isString(r)&&l.push(`path=${r}`),F.isString(a)&&l.push(`domain=${a}`),o===!0&&l.push("secure"),F.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function av(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ov(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Am(e,t,s){let r=!av(t);return e&&(r||s==!1)?ov(e,t):t}const Wc=e=>e instanceof rt?{...e}:e;function Fs(e,t){t=t||{};const s={};function r(d,u,m,f){return F.isPlainObject(d)&&F.isPlainObject(u)?F.merge.call({caseless:f},d,u):F.isPlainObject(u)?F.merge({},u):F.isArray(u)?u.slice():u}function a(d,u,m,f){if(F.isUndefined(u)){if(!F.isUndefined(d))return r(void 0,d,m,f)}else return r(d,u,m,f)}function o(d,u){if(!F.isUndefined(u))return r(void 0,u)}function i(d,u){if(F.isUndefined(u)){if(!F.isUndefined(d))return r(void 0,d)}else return r(void 0,u)}function l(d,u,m){if(m in t)return r(d,u);if(m in e)return r(void 0,d)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,u,m)=>a(Wc(d),Wc(u),m,!0)};return F.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||a,f=m(e[u],t[u],u);F.isUndefined(f)&&m!==l||(s[u]=f)}),s}const Rm=e=>{const t=Fs({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=rt.from(i),t.url=km(Am(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),F.isFormData(s)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(F.isFunction(s.getHeaders)){const c=s.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&i.set(u,m)})}}if(We.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(t)),r||r!==!1&&nv(t.url))){const c=a&&o&&rv.read(o);c&&i.set(a,c)}return t},iv=typeof XMLHttpRequest<"u",lv=iv&&function(e){return new Promise(function(s,r){const a=Rm(e);let o=a.data;const i=rt.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,m,f,y,x;function p(){y&&y(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function v(){if(!g)return;const b=rt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:e,request:g};Dm(function(k){s(k),p()},function(k){r(k),p()},_),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(r(new de("Request aborted",de.ECONNABORTED,e,g)),g=null)},g.onerror=function(S){const _=S&&S.message?S.message:"Network Error",P=new de(_,de.ERR_NETWORK,e,g);P.event=S||null,r(P),g=null},g.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const _=a.transitional||Pm;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),r(new de(S,_.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,e,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&F.forEach(i.toJSON(),function(S,_){g.setRequestHeader(_,S)}),F.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),d&&([f,x]=la(d,!0),g.addEventListener("progress",f)),c&&g.upload&&([m,y]=la(c),g.upload.addEventListener("progress",m),g.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(u=b=>{g&&(r(!b||b.type?new wn(null,e,g):b),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const w=ev(a.url);if(w&&We.protocols.indexOf(w)===-1){r(new de("Unsupported protocol "+w+":",de.ERR_BAD_REQUEST,e));return}g.send(o||null)})},cv=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const o=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;r.abort(u instanceof de?u:new wn(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,o(new de(`timeout ${t} of ms exceeded`,de.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),e=null)};e.forEach(d=>d.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>F.asap(l),c}},dv=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},uv=async function*(e,t){for await(const s of mv(e))yield*dv(s,t)},mv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Hc=(e,t,s,r)=>{const a=uv(e,t);let o=0,i,l=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let m=u.byteLength;if(s){let f=o+=m;s(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},qc=64*1024,{isFunction:Ir}=F,hv=(({Request:e,Response:t})=>({Request:e,Response:t}))(F.global),{ReadableStream:Gc,TextEncoder:Yc}=F.global,Kc=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fv=e=>{e=F.merge.call({skipUndefined:!0},hv,e);const{fetch:t,Request:s,Response:r}=e,a=t?Ir(t):typeof fetch=="function",o=Ir(s),i=Ir(r);if(!a)return!1;const l=a&&Ir(Gc),c=a&&(typeof Yc=="function"?(x=>p=>x.encode(p))(new Yc):async x=>new Uint8Array(await new s(x).arrayBuffer())),d=o&&l&&Kc(()=>{let x=!1;const p=new s(We.origin,{body:new Gc,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=i&&l&&Kc(()=>F.isReadableStream(new r("").body)),m={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(p,g)=>{let v=p&&p[x];if(v)return v.call(p);throw new de(`Response type '${x}' is not supported`,de.ERR_NOT_SUPPORT,g)})});const f=async x=>{if(x==null)return 0;if(F.isBlob(x))return x.size;if(F.isSpecCompliantForm(x))return(await new s(We.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(F.isArrayBufferView(x)||F.isArrayBuffer(x))return x.byteLength;if(F.isURLSearchParams(x)&&(x=x+""),F.isString(x))return(await c(x)).byteLength},y=async(x,p)=>{const g=F.toFiniteNumber(x.getContentLength());return g??f(p)};return async x=>{let{url:p,method:g,data:v,signal:w,cancelToken:b,timeout:S,onDownloadProgress:_,onUploadProgress:P,responseType:k,headers:j,withCredentials:E="same-origin",fetchOptions:B}=Rm(x),I=t||fetch;k=k?(k+"").toLowerCase():"text";let R=cv([w,b&&b.toAbortSignal()],S),O=null;const $=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let T;try{if(P&&d&&g!=="get"&&g!=="head"&&(T=await y(j,v))!==0){let L=new s(p,{method:"POST",body:v,duplex:"half"}),U;if(F.isFormData(v)&&(U=L.headers.get("content-type"))&&j.setContentType(U),L.body){const[G,H]=Uc(T,la(zc(P)));v=Hc(L.body,qc,G,H)}}F.isString(E)||(E=E?"include":"omit");const D=o&&"credentials"in s.prototype,C={...B,signal:R,method:g.toUpperCase(),headers:j.normalize().toJSON(),body:v,duplex:"half",credentials:D?E:void 0};O=o&&new s(p,C);let N=await(o?I(O,B):I(p,C));const A=u&&(k==="stream"||k==="response");if(u&&(_||A&&$)){const L={};["status","statusText","headers"].forEach(Q=>{L[Q]=N[Q]});const U=F.toFiniteNumber(N.headers.get("content-length")),[G,H]=_&&Uc(U,la(zc(_),!0))||[];N=new r(Hc(N.body,qc,G,()=>{H&&H(),$&&$()}),L)}k=k||"text";let M=await m[F.findKey(m,k)||"text"](N,x);return!A&&$&&$(),await new Promise((L,U)=>{Dm(L,U,{data:M,headers:rt.from(N.headers),status:N.status,statusText:N.statusText,config:x,request:O})})}catch(D){throw $&&$(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,x,O),{cause:D.cause||D}):de.from(D,D&&D.code,x,O)}}},pv=new Map,Mm=e=>{let t=e&&e.env||{};const{fetch:s,Request:r,Response:a}=t,o=[r,a,s];let i=o.length,l=i,c,d,u=pv;for(;l--;)c=o[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:fv(t)),u=d;return d};Mm();const ol={http:Ay,xhr:lv,fetch:{get:Mm}};F.forEach(ol,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xc=e=>`- ${e}`,gv=e=>F.isFunction(e)||e===null||e===!1;function xv(e,t){e=F.isArray(e)?e:[e];const{length:s}=e;let r,a;const o={};for(let i=0;i<s;i++){r=e[i];let l;if(a=r,!gv(r)&&(a=ol[(l=String(r)).toLowerCase()],a===void 0))throw new de(`Unknown adapter '${l}'`);if(a&&(F.isFunction(a)||(a=a.get(t))))break;o[l||"#"+i]=a}if(!a){const i=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(Xc).join(`
`):" "+Xc(i[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Om={getAdapter:xv,adapters:ol};function yo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wn(null,e)}function Jc(e){return yo(e),e.headers=rt.from(e.headers),e.data=xo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Om.getAdapter(e.adapter||xr.adapter,e)(e).then(function(r){return yo(e),r.data=xo.call(e,e.transformResponse,r),r.headers=rt.from(r.headers),r},function(r){return Tm(r)||(yo(e),r&&r.response&&(r.response.data=xo.call(e,e.transformResponse,r.response),r.response.headers=rt.from(r.response.headers))),Promise.reject(r)})}const Im="1.13.2",Ra={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ra[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Zc={};Ra.transitional=function(t,s,r){function a(o,i){return"[Axios v"+Im+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,l)=>{if(t===!1)throw new de(a(i," has been removed"+(s?" in "+s:"")),de.ERR_DEPRECATED);return s&&!Zc[i]&&(Zc[i]=!0,console.warn(a(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(o,i,l):!0}};Ra.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function yv(e,t,s){if(typeof e!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new de("option "+o+" must be "+c,de.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new de("Unknown option "+o,de.ERR_BAD_OPTION)}}const Jr={assertOptions:yv,validators:Ra},Mt=Jr.validators;let Rs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vc,response:new Vc}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Fs(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:o}=s;r!==void 0&&Jr.assertOptions(r,{silentJSONParsing:Mt.transitional(Mt.boolean),forcedJSONParsing:Mt.transitional(Mt.boolean),clarifyTimeoutError:Mt.transitional(Mt.boolean)},!1),a!=null&&(F.isFunction(a)?s.paramsSerializer={serialize:a}:Jr.assertOptions(a,{encode:Mt.function,serialize:Mt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Jr.assertOptions(s,{baseUrl:Mt.spelling("baseURL"),withXsrfToken:Mt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=o&&F.merge(o.common,o[s.method]);o&&F.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),s.headers=rt.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(s)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,m=0,f;if(!c){const x=[Jc.bind(this),void 0];for(x.unshift(...l),x.push(...d),f=x.length,u=Promise.resolve(s);m<f;)u=u.then(x[m++],x[m++]);return u}f=l.length;let y=s;for(;m<f;){const x=l[m++],p=l[m++];try{y=x(y)}catch(g){p.call(this,g);break}}try{u=Jc.call(this,y)}catch(x){return Promise.reject(x)}for(m=0,f=d.length;m<f;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=Fs(this.defaults,t);const s=Am(t.baseURL,t.url,t.allowAbsoluteUrls);return km(s,t.params,t.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(t){Rs.prototype[t]=function(s,r){return this.request(Fs(r||{},{method:t,url:s,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(t){function s(r){return function(o,i,l){return this.request(Fs(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Rs.prototype[t]=s(),Rs.prototype[t+"Form"]=s(!0)});let vv=class Fm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const i=new Promise(l=>{r.subscribe(l),o=l}).then(a);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,l){r.reason||(r.reason=new wn(o,i,l),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Fm(function(a){t=a}),cancel:t}}};function bv(e){return function(s){return e.apply(null,s)}}function wv(e){return F.isObject(e)&&e.isAxiosError===!0}const ci={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ci).forEach(([e,t])=>{ci[t]=e});function Lm(e){const t=new Rs(e),s=pm(Rs.prototype.request,t);return F.extend(s,Rs.prototype,t,{allOwnKeys:!0}),F.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Lm(Fs(e,a))},s}const Ee=Lm(xr);Ee.Axios=Rs;Ee.CanceledError=wn;Ee.CancelToken=vv;Ee.isCancel=Tm;Ee.VERSION=Im;Ee.toFormData=Aa;Ee.AxiosError=de;Ee.Cancel=Ee.CanceledError;Ee.all=function(t){return Promise.all(t)};Ee.spread=bv;Ee.isAxiosError=wv;Ee.mergeConfig=Fs;Ee.AxiosHeaders=rt;Ee.formToJSON=e=>Em(F.isHTMLForm(e)?new FormData(e):e);Ee.getAdapter=Om.getAdapter;Ee.HttpStatusCode=ci;Ee.default=Ee;const{Axios:H5,AxiosError:q5,CanceledError:G5,isCancel:Y5,CancelToken:K5,VERSION:X5,all:J5,Cancel:Z5,isAxiosError:Q5,spread:e6,toFormData:t6,AxiosHeaders:s6,HttpStatusCode:n6,formToJSON:r6,getAdapter:a6,mergeConfig:o6}=Ee,sn="https://nexa-autolabstudios-enterprise-api.fly.dev/api",ae=Ee.create({baseURL:sn,headers:{"Content-Type":"application/json"}}),di=()=>localStorage.getItem("access_token"),$m=()=>localStorage.getItem("refresh_token"),ks=(e,t)=>{localStorage.setItem("access_token",e),t&&localStorage.setItem("refresh_token",t)},ui=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")};ae.interceptors.request.use(e=>{const t=di();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ae.interceptors.response.use(e=>e,async e=>{var s;const t=e.config;if(((s=e.response)==null?void 0:s.status)===401&&!t._retry){t._retry=!0;try{const r=$m();if(r){const a=await Ee.post(`${sn}/auth/token/refresh/`,{refresh:r}),{access:o}=a.data;return ks(o,r),t.headers.Authorization=`Bearer ${o}`,ae(t)}}catch(r){return ui(),window.location.href="/login",Promise.reject(r)}}return Promise.reject(e)});class is{constructor(t){this.endpoint=t}async getAll(t={}){return(await ae.get(this.endpoint,{params:t})).data}async getById(t){return(await ae.get(`${this.endpoint}${t}/`)).data}async get(t){return this.getById(t)}async patch(t,s){return this.partialUpdate(t,s)}async list(t=null,s=null){const r={};t&&(r.ordering=t),s&&(r.limit=s);const a=await ae.get(this.endpoint,{params:r});return a.data.results||a.data}async filter(t,s){const r={...t};s&&(r.limit=s);const a=await ae.get(this.endpoint,{params:r});return a.data.results||a.data}async create(t){return(await ae.post(this.endpoint,t)).data}async update(t,s){return(await ae.put(`${this.endpoint}${t}/`,s)).data}async partialUpdate(t,s){return(await ae.patch(`${this.endpoint}${t}/`,s)).data}async delete(t){return(await ae.delete(`${this.endpoint}${t}/`)).data}}const dt={async register(e){var t;try{return(await ae.post("/auth/register/",e)).data}catch(s){throw((t=s.response)==null?void 0:t.data)||s}},async login(e){var t,s;try{const r=await ae.post("/auth/login/",e),{access:a,refresh:o}=r.data;return ks(a,o),r.data}catch(r){throw console.error("Login error:",(t=r.response)==null?void 0:t.data),((s=r.response)==null?void 0:s.data)||r}},async logout(){ui()},async getProfile(){var e;try{return(await ae.get("/auth/profile/")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t}},async refreshToken(){var e;try{const t=$m();if(!t)throw new Error("No refresh token available");const s=await ae.post("/auth/token/refresh/",{refresh:t}),{access:r}=s.data;return ks(r,t),s.data}catch(t){throw ui(),((e=t.response)==null?void 0:e.data)||t}},async forgotPassword(e){var t,s;try{return(await ae.post("/auth/forgot-password/",{email:e})).data}catch(r){throw console.error("Forgot password error:",(t=r.response)==null?void 0:t.data),((s=r.response)==null?void 0:s.data)||r}},async resetPassword(e,t){var s,r;try{return(await ae.post("/auth/reset-password/",{token:e,new_password:t})).data}catch(a){throw console.error("Reset password error:",(s=a.response)==null?void 0:s.data),((r=a.response)==null?void 0:r.data)||a}},async me(){return this.getProfile()},async getCurrentUser(){return this.getProfile()},async update(e){return this.updateProfile(e)},async updateMyUserData(e){return this.updateProfile(e)},async list(){var e;try{return(await ae.get("/auth/users/")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t}},async getAll(){return this.list()},loginWithRedirect(e){window.location.href="/login"},async updateProfile(e){var t,s;try{const{username:r,role:a,access_level:o,is_active:i,...l}=e;return console.log("Sending profile update data:",l),(await ae.put("/auth/profile/update/",l)).data}catch(r){throw console.error("Profile update error:",((t=r.response)==null?void 0:t.data)||r),((s=r.response)==null?void 0:s.data)||r}},async updateUser(e,t){var s;try{return(await ae.patch(`/auth/users/${e}/`,t)).data}catch(r){throw((s=r.response)==null?void 0:s.data)||r}},async changePassword(e){var t;try{return(await ae.post("/auth/change-password/",e)).data}catch(s){throw((t=s.response)==null?void 0:t.data)||s}},isAuthenticated(){return!!di()},getToken(){return di()},async googleLogin(e){var t,s;try{console.log("Sending authorization code to backend:",e);const r=await ae.post("/auth/google/",{code:e,grant_type:"authorization_code",redirect_uri:window.location.origin+"/auth/google/callback"}),{access:a,refresh:o}=r.data;return ks(a,o),r.data}catch(r){throw console.error("Google login error:",(t=r.response)==null?void 0:t.data),((s=r.response)==null?void 0:s.data)||r}},async microsoftLogin(e){var t,s;try{const r=await ae.post("/auth/microsoft/",{token:e}),{access:a,refresh:o}=r.data;return ks(a,o),r.data}catch(r){throw console.error("Microsoft login error:",(t=r.response)==null?void 0:t.data),((s=r.response)==null?void 0:s.data)||r}},async appleLogin(e,t=null){var s,r;try{const a=await ae.post("/auth/apple/",{identity_token:e,full_name:t}),{access:o,refresh:i}=a.data;return ks(o,i),a.data}catch(a){throw console.error("Apple login error:",(s=a.response)==null?void 0:s.data),((r=a.response)==null?void 0:r.data)||a}},async sendPhoneOTP(e){var t,s;try{return(await ae.post("/auth/phone/send-otp/",{phone_number:e})).data}catch(r){throw console.error("Send OTP error:",(t=r.response)==null?void 0:t.data),((s=r.response)==null?void 0:s.data)||r}},async verifyPhoneOTP(e,t){var s,r;try{const a=await ae.post("/auth/phone/verify/",{phone_number:e,otp:t}),{access:o,refresh:i}=a.data;return ks(o,i),a.data}catch(a){throw console.error("Verify OTP error:",(s=a.response)==null?void 0:s.data),((r=a.response)==null?void 0:r.data)||a}}},At={Project:new is("/projects/"),Task:new is("/tasks/"),TimeEntry:new is("/time-entries/"),Proposal:new is("/proposals/"),Invoice:new is("/invoices/"),Expense:new is("/expenses/"),Client:new is("/clients/"),ProjectRequest:new is("/project-requests/"),async getDashboardStats(){return(await ae.get("/dashboard/stats/")).data}},Ft={auth:dt,entities:At,setBaseURL(e){ae.defaults.baseURL=e},getClient(){return ae}},Oe=At.Project,Le=At.Task,hs=At.TimeEntry,St=At.Proposal,Ue=At.Invoice,Ma=At.Expense,bt=At.Client,il=At.ProjectRequest,Ge={async list(){var e;try{return(await ae.get("/settings/")).data}catch(t){throw console.error("Settings list error:",t),((e=t.response)==null?void 0:e.data)||t}},async get(){var e;try{return(await ae.get("/settings/")).data[0]}catch(t){throw console.error("Settings get error:",t),((e=t.response)==null?void 0:e.data)||t}},async create(e){var t;try{return(await ae.put("/settings/",e)).data}catch(s){throw console.error("Settings create error:",s),((t=s.response)==null?void 0:t.data)||s}},async update(e,t){var s;try{return(await ae.put("/settings/",t)).data}catch(r){throw console.error("Settings update error:",r),((s=r.response)==null?void 0:s.data)||r}},async patch(e,t){var s;try{return(await ae.patch("/settings/",t)).data}catch(r){throw console.error("Settings patch error:",r),((s=r.response)==null?void 0:s.data)||r}}},ms={async getAll(e={}){return(await ae.get("/notifications/",{params:e})).data},async markAsRead(e){return(await ae.patch(`/notifications/${e}/mark_read/`)).data},async markAllRead(){return(await ae.patch("/notifications/mark_all_read/")).data},async clearAll(){return(await ae.delete("/notifications/clear_all/")).data},async getUnreadCount(){return(await ae.get("/notifications/unread_count/")).data},async getSummary(){return(await ae.get("/notifications/summary/")).data},async list(e=null,t=null,s={}){const r={...s};return e&&(e.startsWith("-")&&e.substring(1),e.startsWith("-"),r.ordering=e),t&&(r.limit=t),(await ae.get("/notifications/",{params:r})).data},async filter(e={},t=null,s=null){const r={...e};return t&&(r.ordering=t),s&&(r.limit=s),(await ae.get("/notifications/",{params:r})).data},async create(e){return(await ae.post("/notifications/",e)).data},async update(e,t){return(await ae.patch(`/notifications/${e}/`,t)).data},async delete(e){return(await ae.delete(`/notifications/${e}/`)).data}},Xn={async getAll(e={}){return(await ae.get("/user-invitations/",{params:e})).data},async filter(e,t){const s=await ae.get("/user-invitations/",{params:{...e,limit:t}});return s.data.results||s.data},async send(e){return(await ae.post("/user-invitations/",e)).data},async update(e,t){return(await ae.patch(`/user-invitations/${e}/`,t)).data},async accept(e){return(await ae.post(`/user-invitations/accept/${e}/`)).data},async list(e=null,t=null){const s={};e&&(s.ordering=e),t&&(s.limit=t);const r=await ae.get("/user-invitations/",{params:s});return r.data.results||r.data}},mi={async validate(e,t){var s,r;try{console.log("Validating proposal:",{proposalId:e,email:t});const a=await Ee.get(`${sn}/validate-proposal/?proposalId=${e}&email=${encodeURIComponent(t)}`,{headers:{"Content-Type":"application/json"}});return console.log("Validation response:",a.data),a.data}catch(a){throw console.error("Proposal validation error:",((s=a.response)==null?void 0:s.data)||a),((r=a.response)==null?void 0:r.data)||a}},async accept(e,t){try{console.log("=== DEBUGGING PROPOSAL ACCEPTANCE ==="),console.log("Accepting proposal with data:",{proposalId:e,email:t}),console.log("API_BASE_URL:",sn),console.log("Full URL:",`${sn}/accept-proposal/`);const s={proposalId:e,email:t},r={headers:{"Content-Type":"application/json"}};console.log("Request data:",s),console.log("Request config:",r);const a=await Ee.patch(`${sn}/accept-proposal/`,s,r);return console.log("✅ Accept response successful:",a.data),console.log("Response status:",a.status),console.log("Response headers:",a.headers),a.data}catch(s){if(console.error("❌ PROPOSAL ACCEPTANCE FAILED"),console.error("Error object:",s),s.response){console.error("Response status:",s.response.status),console.error("Response statusText:",s.response.statusText),console.error("Response headers:",s.response.headers),console.error("Response data:",s.response.data),console.error("Raw response:",{data:s.response.data,status:s.response.status,statusText:s.response.statusText,headers:s.response.headers,config:s.response.config});let r="Unknown error occurred";throw typeof s.response.data=="string"?r=s.response.data:s.response.data&&s.response.data.detail?r=s.response.data.detail:s.response.data&&s.response.data.error?r=s.response.data.error:s.response.data&&s.response.data.message&&(r=s.response.data.message),console.error("Parsed error message:",r),{message:r,status:s.response.status,statusText:s.response.statusText,data:s.response.data}}else throw s.request?(console.error("No response received:",s.request),{message:"No response from server",type:"network"}):(console.error("Request setup error:",s.message),{message:s.message,type:"setup"})}}},hi={async validate(e){try{return(await ae.get("/validate-invitation/",{params:{email:e}})).data}catch(t){throw t.response&&t.response.data?new Error(t.response.data.error||"Failed to validate invitation"):new Error("Failed to validate invitation")}},async updateStatus(e,t){try{return(await ae.patch("/update-invitation-status/",{email:e,status:t})).data}catch(s){throw s.response&&s.response.data?new Error(s.response.data.error||"Failed to update invitation status"):new Error("Failed to update invitation status")}}},_e=dt,ca=Object.freeze(Object.defineProperty({__proto__:null,Client:bt,Expense:Ma,Invoice:Ue,Notification:ms,Project:Oe,ProjectRequest:il,Proposal:St,PublicInvitation:hi,PublicProposal:mi,Settings:Ge,Task:Le,TimeEntry:hs,User:_e,UserInvitation:Xn,auth:dt,djangoClient:Ft,entities:At},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vm=(...e)=>e.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...Nv,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:Vm("lucide",a),...l},[...i.map(([d,u])=>h.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const s=h.forwardRef(({className:r,...a},o)=>h.createElement(_v,{ref:o,iconNode:t,className:Vm(`lucide-${jv(e)}`,r),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jn=J("ArrowLeft",Sv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kv=J("ArrowRight",Cv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ev=J("Award",Pv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Dv=J("Bell",Tv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Bm=J("Briefcase",Av);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Um=J("Building",Rv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hs=J("Calendar",Mv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Iv=J("Camera",Ov);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ls=J("Check",Fv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ll=J("ChevronDown",Lv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vv=J("ChevronLeft",$v);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Uv=J("ChevronRight",Bv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Wv=J("ChevronUp",zv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ke=J("CircleAlert",Hv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qs=J("CircleCheckBig",qv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cl=J("CircleCheck",Gv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Kv=J("CircleX",Yv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Jv=J("Circle",Xv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ut=J("Clock",Zv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],eb=J("Copy",Qv);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],sb=J("CreditCard",tb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jt=J("DollarSign",nb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ab=J("Download",rb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ib=J("EllipsisVertical",ob);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],cb=J("ExternalLink",lb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zn=J("Eye",db);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ze=J("FileText",ub);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Zn=J("FolderOpen",mb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],fb=J("Image",hb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],gb=J("Info",pb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],yb=J("LayoutDashboard",xb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],bb=J("Link",vb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],jb=J("List",wb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],He=J("LoaderCircle",Nb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qn=J("Lock",_b);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Cb=J("LogIn",Sb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Qc=J("LogOut",kb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],wt=J("Mail",Pb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zm=J("MapPin",Eb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],Db=J("PackagePlus",Tb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Rb=J("Palette",Ab);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Ob=J("PanelLeft",Mb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Fb=J("Pause",Ib);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],hn=J("Phone",Lb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Vb=J("Play",$b);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gs=J("Plus",Bb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],zb=J("PowerOff",Ub);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Ct=J("Receipt",Wb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wm=J("Save",Hb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Oa=J("Search",qb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dl=J("Send",Gb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ul=J("Settings",Yb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],da=J("Shield",Kb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Jb=J("Sparkles",Xb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Qb=J("SquarePen",Zb);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],tw=J("Square",ew);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nw=J("Target",sw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fi=J("Trash2",rw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],ow=J("TrendingDown",aw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ml=J("TrendingUp",iw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hm=J("TriangleAlert",lw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],jn=J("Upload",cw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yr=J("UserPlus",dw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],es=J("User",uw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ms=J("Users",mw);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vt=J("X",hw);function ed(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ys(...e){return t=>{let s=!1;const r=e.map(a=>{const o=ed(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():ed(e[a],null)}}}}function Ne(...e){return h.useCallback(Ys(...e),e)}var fw=Symbol.for("react.lazy"),ua=sl[" use ".trim().toString()];function pw(e){return typeof e=="object"&&e!==null&&"then"in e}function qm(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===fw&&"_payload"in e&&pw(e._payload)}function Ia(e){const t=gw(e),s=h.forwardRef((r,a)=>{let{children:o,...i}=r;qm(o)&&typeof ua=="function"&&(o=ua(o._payload));const l=h.Children.toArray(o),c=l.find(yw);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var Nn=Ia("Slot");function gw(e){const t=h.forwardRef((s,r)=>{let{children:a,...o}=s;if(qm(a)&&typeof ua=="function"&&(a=ua(a._payload)),h.isValidElement(a)){const i=bw(a),l=vw(o,a.props);return a.type!==h.Fragment&&(l.ref=r?Ys(r,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xw=Symbol("radix.slottable");function yw(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xw}function vw(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function bw(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Gm(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Gm(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Ym(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Gm(e))&&(r&&(r+=" "),r+=t);return r}const td=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sd=Ym,Ks=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return sd(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(d=>{const u=s==null?void 0:s[d],m=o==null?void 0:o[d];if(u===null)return null;const f=td(u)||td(m);return a[d][f]}),l=s&&Object.entries(s).reduce((d,u)=>{let[m,f]=u;return f===void 0||(d[m]=f),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:m,className:f,...y}=u;return Object.entries(y).every(x=>{let[p,g]=x;return Array.isArray(g)?g.includes({...o,...l}[p]):{...o,...l}[p]===g})?[...d,m,f]:d},[]);return sd(e,i,c,s==null?void 0:s.class,s==null?void 0:s.className)},vo=768;function ww(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const s=window.matchMedia(`(max-width: ${vo-1}px)`),r=()=>{t(window.innerWidth<vo)};return s.addEventListener("change",r),t(window.innerWidth<vo),()=>s.removeEventListener("change",r)},[]),!!e}const jw=(e,t)=>{const s=new Array(e.length+t.length);for(let r=0;r<e.length;r++)s[r]=e[r];for(let r=0;r<t.length;r++)s[e.length+r]=t[r];return s},Nw=(e,t)=>({classGroupId:e,validator:t}),Km=(e=new Map,t=null,s)=>({nextPart:e,validators:t,classGroupId:s}),ma="-",nd=[],_w="arbitrary..",Sw=e=>{const t=kw(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return Cw(i);const l=i.split(ma),c=l[0]===""&&l.length>1?1:0;return Xm(l,c,t)},getConflictingClassGroupIds:(i,l)=>{if(l){const c=r[i],d=s[i];return c?d?jw(d,c):c:d||nd}return s[i]||nd}}},Xm=(e,t,s)=>{if(e.length-t===0)return s.classGroupId;const a=e[t],o=s.nextPart.get(a);if(o){const d=Xm(e,t+1,o);if(d)return d}const i=s.validators;if(i===null)return;const l=t===0?e.join(ma):e.slice(t).join(ma),c=i.length;for(let d=0;d<c;d++){const u=i[d];if(u.validator(l))return u.classGroupId}},Cw=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),s=t.indexOf(":"),r=t.slice(0,s);return r?_w+r:void 0})(),kw=e=>{const{theme:t,classGroups:s}=e;return Pw(s,t)},Pw=(e,t)=>{const s=Km();for(const r in e){const a=e[r];hl(a,s,r,t)}return s},hl=(e,t,s,r)=>{const a=e.length;for(let o=0;o<a;o++){const i=e[o];Ew(i,t,s,r)}},Ew=(e,t,s,r)=>{if(typeof e=="string"){Tw(e,t,s);return}if(typeof e=="function"){Dw(e,t,s,r);return}Aw(e,t,s,r)},Tw=(e,t,s)=>{const r=e===""?t:Jm(t,e);r.classGroupId=s},Dw=(e,t,s,r)=>{if(Rw(e)){hl(e(r),t,s,r);return}t.validators===null&&(t.validators=[]),t.validators.push(Nw(s,e))},Aw=(e,t,s,r)=>{const a=Object.entries(e),o=a.length;for(let i=0;i<o;i++){const[l,c]=a[i];hl(c,Jm(t,l),s,r)}},Jm=(e,t)=>{let s=e;const r=t.split(ma),a=r.length;for(let o=0;o<a;o++){const i=r[o];let l=s.nextPart.get(i);l||(l=Km(),s.nextPart.set(i,l)),s=l}return s},Rw=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Mw=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),r=Object.create(null);const a=(o,i)=>{s[o]=i,t++,t>e&&(t=0,r=s,s=Object.create(null))};return{get(o){let i=s[o];if(i!==void 0)return i;if((i=r[o])!==void 0)return a(o,i),i},set(o,i){o in s?s[o]=i:a(o,i)}}},pi="!",rd=":",Ow=[],ad=(e,t,s,r,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:r,isExternal:a}),Iw=e=>{const{prefix:t,experimentalParseClassName:s}=e;let r=a=>{const o=[];let i=0,l=0,c=0,d;const u=a.length;for(let p=0;p<u;p++){const g=a[p];if(i===0&&l===0){if(g===rd){o.push(a.slice(c,p)),c=p+1;continue}if(g==="/"){d=p;continue}}g==="["?i++:g==="]"?i--:g==="("?l++:g===")"&&l--}const m=o.length===0?a:a.slice(c);let f=m,y=!1;m.endsWith(pi)?(f=m.slice(0,-1),y=!0):m.startsWith(pi)&&(f=m.slice(1),y=!0);const x=d&&d>c?d-c:void 0;return ad(o,y,f,x)};if(t){const a=t+rd,o=r;r=i=>i.startsWith(a)?o(i.slice(a.length)):ad(Ow,!1,i,void 0,!0)}if(s){const a=r;r=o=>s({className:o,parseClassName:a})}return r},Fw=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((s,r)=>{t.set(s,1e6+r)}),s=>{const r=[];let a=[];for(let o=0;o<s.length;o++){const i=s[o],l=i[0]==="[",c=t.has(i);l||c?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(i)):a.push(i)}return a.length>0&&(a.sort(),r.push(...a)),r}},Lw=e=>({cache:Mw(e.cacheSize),parseClassName:Iw(e),sortModifiers:Fw(e),...Sw(e)}),$w=/\s+/,Vw=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,i=[],l=e.trim().split($w);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:m,modifiers:f,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:p}=s(u);if(m){c=u+(c.length>0?" "+c:c);continue}let g=!!p,v=r(g?x.substring(0,p):x);if(!v){if(!g){c=u+(c.length>0?" "+c:c);continue}if(v=r(x),!v){c=u+(c.length>0?" "+c:c);continue}g=!1}const w=f.length===0?"":f.length===1?f[0]:o(f).join(":"),b=y?w+pi:w,S=b+v;if(i.indexOf(S)>-1)continue;i.push(S);const _=a(v,g);for(let P=0;P<_.length;++P){const k=_[P];i.push(b+k)}c=u+(c.length>0?" "+c:c)}return c},Bw=(...e)=>{let t=0,s,r,a="";for(;t<e.length;)(s=e[t++])&&(r=Zm(s))&&(a&&(a+=" "),a+=r);return a},Zm=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=Zm(e[r]))&&(s&&(s+=" "),s+=t);return s},Uw=(e,...t)=>{let s,r,a,o;const i=c=>{const d=t.reduce((u,m)=>m(u),e());return s=Lw(d),r=s.cache.get,a=s.cache.set,o=l,l(c)},l=c=>{const d=r(c);if(d)return d;const u=Vw(c,s);return a(c,u),u};return o=i,(...c)=>o(Bw(...c))},zw=[],Fe=e=>{const t=s=>s[e]||zw;return t.isThemeGetter=!0,t},Qm=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eh=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ww=/^\d+\/\d+$/,Hw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Yw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xs=e=>Ww.test(e),ue=e=>!!e&&!Number.isNaN(Number(e)),ls=e=>!!e&&Number.isInteger(Number(e)),bo=e=>e.endsWith("%")&&ue(e.slice(0,-1)),Kt=e=>Hw.test(e),Xw=()=>!0,Jw=e=>qw.test(e)&&!Gw.test(e),th=()=>!1,Zw=e=>Yw.test(e),Qw=e=>Kw.test(e),ej=e=>!te(e)&&!se(e),tj=e=>_n(e,rh,th),te=e=>Qm.test(e),Ss=e=>_n(e,ah,Jw),wo=e=>_n(e,oj,ue),od=e=>_n(e,sh,th),sj=e=>_n(e,nh,Qw),Fr=e=>_n(e,oh,Zw),se=e=>eh.test(e),Fn=e=>Sn(e,ah),nj=e=>Sn(e,ij),id=e=>Sn(e,sh),rj=e=>Sn(e,rh),aj=e=>Sn(e,nh),Lr=e=>Sn(e,oh,!0),_n=(e,t,s)=>{const r=Qm.exec(e);return r?r[1]?t(r[1]):s(r[2]):!1},Sn=(e,t,s=!1)=>{const r=eh.exec(e);return r?r[1]?t(r[1]):s:!1},sh=e=>e==="position"||e==="percentage",nh=e=>e==="image"||e==="url",rh=e=>e==="length"||e==="size"||e==="bg-size",ah=e=>e==="length",oj=e=>e==="number",ij=e=>e==="family-name",oh=e=>e==="shadow",lj=()=>{const e=Fe("color"),t=Fe("font"),s=Fe("text"),r=Fe("font-weight"),a=Fe("tracking"),o=Fe("leading"),i=Fe("breakpoint"),l=Fe("container"),c=Fe("spacing"),d=Fe("radius"),u=Fe("shadow"),m=Fe("inset-shadow"),f=Fe("text-shadow"),y=Fe("drop-shadow"),x=Fe("blur"),p=Fe("perspective"),g=Fe("aspect"),v=Fe("ease"),w=Fe("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...S(),se,te],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],j=()=>[se,te,c],E=()=>[Xs,"full","auto",...j()],B=()=>[ls,"none","subgrid",se,te],I=()=>["auto",{span:["full",ls,se,te]},ls,se,te],R=()=>[ls,"auto",se,te],O=()=>["auto","min","max","fr",se,te],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],T=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...j()],C=()=>[Xs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],N=()=>[e,se,te],A=()=>[...S(),id,od,{position:[se,te]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",rj,tj,{size:[se,te]}],U=()=>[bo,Fn,Ss],G=()=>["","none","full",d,se,te],H=()=>["",ue,Fn,Ss],Q=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[ue,bo,id,od],Y=()=>["","none",x,se,te],ce=()=>["none",ue,se,te],re=()=>["none",ue,se,te],me=()=>[ue,se,te],fe=()=>[Xs,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Kt],breakpoint:[Kt],color:[Xw],container:[Kt],"drop-shadow":[Kt],ease:["in","out","in-out"],font:[ej],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Kt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Kt],shadow:[Kt],spacing:["px",ue],text:[Kt],"text-shadow":[Kt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xs,te,se,g]}],container:["container"],columns:[{columns:[ue,te,se,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[ls,"auto",se,te]}],basis:[{basis:[Xs,"full","auto",l,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ue,Xs,"auto","initial","none",te]}],grow:[{grow:["",ue,se,te]}],shrink:[{shrink:["",ue,se,te]}],order:[{order:[ls,"first","last","none",se,te]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...T(),"normal"]}],"justify-self":[{"justify-self":["auto",...T()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...T(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...T(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...T(),"baseline"]}],"place-self":[{"place-self":["auto",...T()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[l,"screen",...C()]}],"min-w":[{"min-w":[l,"screen","none",...C()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",s,Fn,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,se,wo]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bo,te]}],"font-family":[{font:[nj,te,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,se,te]}],"line-clamp":[{"line-clamp":[ue,"none",se,wo]}],leading:[{leading:[o,...j()]}],"list-image":[{"list-image":["none",se,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[ue,"from-font","auto",se,Ss]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[ue,"auto",se,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:A()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ls,se,te],radial:["",se,te],conic:[ls,se,te]},aj,sj]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ue,se,te]}],"outline-w":[{outline:["",ue,Fn,Ss]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",u,Lr,Fr]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",m,Lr,Fr]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[ue,Ss]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",f,Lr,Fr]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[ue,se,te]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[se,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:A()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,te]}],filter:[{filter:["","none",se,te]}],blur:[{blur:Y()}],brightness:[{brightness:[ue,se,te]}],contrast:[{contrast:[ue,se,te]}],"drop-shadow":[{"drop-shadow":["","none",y,Lr,Fr]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",ue,se,te]}],"hue-rotate":[{"hue-rotate":[ue,se,te]}],invert:[{invert:["",ue,se,te]}],saturate:[{saturate:[ue,se,te]}],sepia:[{sepia:["",ue,se,te]}],"backdrop-filter":[{"backdrop-filter":["","none",se,te]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[ue,se,te]}],"backdrop-contrast":[{"backdrop-contrast":[ue,se,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ue,se,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ue,se,te]}],"backdrop-invert":[{"backdrop-invert":["",ue,se,te]}],"backdrop-opacity":[{"backdrop-opacity":[ue,se,te]}],"backdrop-saturate":[{"backdrop-saturate":[ue,se,te]}],"backdrop-sepia":[{"backdrop-sepia":["",ue,se,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ue,"initial",se,te]}],ease:[{ease:["linear","initial",v,se,te]}],delay:[{delay:[ue,se,te]}],animate:[{animate:["none",w,se,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,se,te]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:me()}],"skew-x":[{"skew-x":me()}],"skew-y":[{"skew-y":me()}],transform:[{transform:[se,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,te]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[ue,Fn,Ss,wo]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},cj=Uw(lj);function K(...e){return cj(Ym(e))}const gi=Ks("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),V=h.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},o)=>{const i=r?Nn:"button";return n.jsx(i,{className:K(gi({variant:t,size:s,className:e})),ref:o,...a})});V.displayName="Button";const q=h.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:K("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));q.displayName="Input";var dj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uj=dj.reduce((e,t)=>{const s=Ia(`Primitive.${t}`),r=h.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),mj="Separator",ld="horizontal",hj=["horizontal","vertical"],ih=h.forwardRef((e,t)=>{const{decorative:s,orientation:r=ld,...a}=e,o=fj(r)?r:ld,l=s?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return n.jsx(uj.div,{"data-orientation":o,...l,...a,ref:t})});ih.displayName=mj;function fj(e){return hj.includes(e)}var lh=ih;const Fa=h.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},a)=>n.jsx(lh,{ref:a,decorative:s,orientation:t,className:K("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Fa.displayName=lh.displayName;function le(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function pj(e,t){const s=h.createContext(t),r=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return n.jsx(s.Provider,{value:c,children:i})};r.displayName=e+"Provider";function a(o){const i=h.useContext(s);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function as(e,t=[]){let s=[];function r(o,i){const l=h.createContext(i),c=s.length;s=[...s,i];const d=m=>{var v;const{scope:f,children:y,...x}=m,p=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,g=h.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:y})};d.displayName=o+"Provider";function u(m,f){var p;const y=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,x=h.useContext(y);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=s.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,gj(a,...t)]}function gj(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var Xe=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},xj=sl[" useId ".trim().toString()]||(()=>{}),yj=0;function Bt(e){const[t,s]=h.useState(xj());return Xe(()=>{s(r=>r??String(yj++))},[e]),e||(t?`radix-${t}`:"")}var vj=sl[" useInsertionEffect ".trim().toString()]||Xe;function ps({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,o,i]=bj({defaultProp:t,onChange:s}),l=e!==void 0,c=l?e:a;{const u=h.useRef(e!==void 0);h.useEffect(()=>{const m=u.current;m!==l&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const d=h.useCallback(u=>{var m;if(l){const f=wj(u)?u(e):u;f!==e&&((m=i.current)==null||m.call(i,f))}else o(u)},[l,e,o,i]);return[c,d]}function bj({defaultProp:e,onChange:t}){const[s,r]=h.useState(e),a=h.useRef(s),o=h.useRef(t);return vj(()=>{o.current=t},[t]),h.useEffect(()=>{var i;a.current!==s&&((i=o.current)==null||i.call(o,s),a.current=s)},[s,a]),[s,r,o]}function wj(e){return typeof e=="function"}function jj(e){const t=Nj(e),s=h.forwardRef((r,a)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(Sj);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function Nj(e){const t=h.forwardRef((s,r)=>{const{children:a,...o}=s;if(h.isValidElement(a)){const i=kj(a),l=Cj(o,a.props);return a.type!==h.Fragment&&(l.ref=r?Ys(r,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _j=Symbol("radix.slottable");function Sj(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_j}function Cj(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function kj(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Pj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=Pj.reduce((e,t)=>{const s=jj(`Primitive.${t}`),r=h.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ej(e,t){e&&Pa.flushSync(()=>e.dispatchEvent(t))}function gs(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function Tj(e,t=globalThis==null?void 0:globalThis.document){const s=gs(e);h.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var Dj="DismissableLayer",xi="dismissableLayer.update",Aj="dismissableLayer.pointerDownOutside",Rj="dismissableLayer.focusOutside",cd,ch=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vr=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,d=h.useContext(ch),[u,m]=h.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=h.useState({}),x=Ne(t,k=>m(k)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(g),w=u?p.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,S=w>=v,_=Ij(k=>{const j=k.target,E=[...d.branches].some(B=>B.contains(j));!S||E||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},f),P=Fj(k=>{const j=k.target;[...d.branches].some(B=>B.contains(j))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},f);return Tj(k=>{w===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),h.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(cd=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),dd(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=cd)}},[u,f,s,d]),h.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),dd())},[u,d]),h.useEffect(()=>{const k=()=>y({});return document.addEventListener(xi,k),()=>document.removeEventListener(xi,k)},[]),n.jsx(he.div,{...c,ref:x,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,P.onFocusCapture),onBlurCapture:le(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,_.onPointerDownCapture)})});vr.displayName=Dj;var Mj="DismissableLayerBranch",Oj=h.forwardRef((e,t)=>{const s=h.useContext(ch),r=h.useRef(null),a=Ne(t,r);return h.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),n.jsx(he.div,{...e,ref:a})});Oj.displayName=Mj;function Ij(e,t=globalThis==null?void 0:globalThis.document){const s=gs(e),r=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){dh(Aj,s,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function Fj(e,t=globalThis==null?void 0:globalThis.document){const s=gs(e),r=h.useRef(!1);return h.useEffect(()=>{const a=o=>{o.target&&!r.current&&dh(Rj,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dd(){const e=new CustomEvent(xi);document.dispatchEvent(e)}function dh(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?Ej(a,o):a.dispatchEvent(o)}var jo="focusScope.autoFocusOnMount",No="focusScope.autoFocusOnUnmount",ud={bubbles:!1,cancelable:!0},Lj="FocusScope",La=h.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),d=gs(a),u=gs(o),m=h.useRef(null),f=Ne(t,p=>c(p)),y=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let p=function(b){if(y.paused||!l)return;const S=b.target;l.contains(S)?m.current=S:ds(m.current,{select:!0})},g=function(b){if(y.paused||!l)return;const S=b.relatedTarget;S!==null&&(l.contains(S)||ds(m.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&ds(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const w=new MutationObserver(v);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),w.disconnect()}}},[r,l,y.paused]),h.useEffect(()=>{if(l){hd.add(y);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(jo,ud);l.addEventListener(jo,d),l.dispatchEvent(v),v.defaultPrevented||($j(Wj(uh(l)),{select:!0}),document.activeElement===p&&ds(l))}return()=>{l.removeEventListener(jo,d),setTimeout(()=>{const v=new CustomEvent(No,ud);l.addEventListener(No,u),l.dispatchEvent(v),v.defaultPrevented||ds(p??document.body,{select:!0}),l.removeEventListener(No,u),hd.remove(y)},0)}}},[l,d,u,y]);const x=h.useCallback(p=>{if(!s&&!r||y.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(g&&v){const w=p.currentTarget,[b,S]=Vj(w);b&&S?!p.shiftKey&&v===S?(p.preventDefault(),s&&ds(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),s&&ds(S,{select:!0})):v===w&&p.preventDefault()}},[s,r,y.paused]);return n.jsx(he.div,{tabIndex:-1,...i,ref:f,onKeyDown:x})});La.displayName=Lj;function $j(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(ds(r,{select:t}),document.activeElement!==s)return}function Vj(e){const t=uh(e),s=md(t,e),r=md(t.reverse(),e);return[s,r]}function uh(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function md(e,t){for(const s of e)if(!Bj(s,{upTo:t}))return s}function Bj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Uj(e){return e instanceof HTMLInputElement&&"select"in e}function ds(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&Uj(e)&&t&&e.select()}}var hd=zj();function zj(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=fd(e,t),e.unshift(t)},remove(t){var s;e=fd(e,t),(s=e[0])==null||s.resume()}}}function fd(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function Wj(e){return e.filter(t=>t.tagName!=="A")}var Hj="Portal",br=h.forwardRef((e,t)=>{var l;const{container:s,...r}=e,[a,o]=h.useState(!1);Xe(()=>o(!0),[]);const i=s||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?L0.createPortal(n.jsx(he.div,{...r,ref:t}),i):null});br.displayName=Hj;function qj(e,t){return h.useReducer((s,r)=>t[s][r]??s,e)}var Gt=e=>{const{present:t,children:s}=e,r=Gj(t),a=typeof s=="function"?s({present:r.isPresent}):h.Children.only(s),o=Ne(r.ref,Yj(a));return typeof s=="function"||r.isPresent?h.cloneElement(a,{ref:o}):null};Gt.displayName="Presence";function Gj(e){const[t,s]=h.useState(),r=h.useRef(null),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=qj(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const d=$r(r.current);o.current=l==="mounted"?d:"none"},[l]),Xe(()=>{const d=r.current,u=a.current;if(u!==e){const f=o.current,y=$r(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Xe(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,m=y=>{const p=$r(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},f=y=>{y.target===t&&(o.current=$r(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(d=>{r.current=d?getComputedStyle(d):null,s(d)},[])}}function $r(e){return(e==null?void 0:e.animationName)||"none"}function Yj(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var _o=0;function fl(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??pd()),document.body.insertAdjacentElement("beforeend",e[1]??pd()),_o++,()=>{_o===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_o--}},[])}function pd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ot=function(){return Ot=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Ot.apply(this,arguments)};function mh(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function Kj(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Zr="right-scroll-bar-position",Qr="width-before-scroll-bar",Xj="with-scroll-bars-hidden",Jj="--removed-body-scroll-bar-size";function So(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Zj(e,t){var s=h.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var Qj=typeof window<"u"?h.useLayoutEffect:h.useEffect,gd=new WeakMap;function e1(e,t){var s=Zj(null,function(r){return e.forEach(function(a){return So(a,r)})});return Qj(function(){var r=gd.get(s);if(r){var a=new Set(r),o=new Set(e),i=s.current;a.forEach(function(l){o.has(l)||So(l,null)}),o.forEach(function(l){a.has(l)||So(l,i)})}gd.set(s,e)},[e]),s}function t1(e){return e}function s1(e,t){t===void 0&&(t=t1);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var i=t(o,r);return s.push(i),function(){s=s.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;s.length;){var i=s;s=[],i.forEach(o)}s={push:function(l){return o(l)},filter:function(){return s}}},assignMedium:function(o){r=!0;var i=[];if(s.length){var l=s;s=[],l.forEach(o),i=s}var c=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),s}}}};return a}function n1(e){e===void 0&&(e={});var t=s1(null);return t.options=Ot({async:!0,ssr:!1},e),t}var hh=function(e){var t=e.sideCar,s=mh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Ot({},s))};hh.isSideCarExport=!0;function r1(e,t){return e.useMedium(t),hh}var fh=n1(),Co=function(){},$a=h.forwardRef(function(e,t){var s=h.useRef(null),r=h.useState({onScrollCapture:Co,onWheelCapture:Co,onTouchMoveCapture:Co}),a=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,m=e.shards,f=e.sideCar,y=e.noRelative,x=e.noIsolation,p=e.inert,g=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,b=e.gapMode,S=mh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,P=e1([s,t]),k=Ot(Ot({},S),a);return h.createElement(h.Fragment,null,u&&h.createElement(_,{sideCar:fh,removeScrollBar:d,shards:m,noRelative:y,noIsolation:x,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:s,gapMode:b}),i?h.cloneElement(h.Children.only(l),Ot(Ot({},k),{ref:P})):h.createElement(w,Ot({},k,{className:c,ref:P}),l))});$a.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$a.classNames={fullWidth:Qr,zeroRight:Zr};var a1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function o1(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a1();return t&&e.setAttribute("nonce",t),e}function i1(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function l1(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var c1=function(){var e=0,t=null;return{add:function(s){e==0&&(t=o1())&&(i1(t,s),l1(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},d1=function(){var e=c1();return function(t,s){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},ph=function(){var e=d1(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},u1={left:0,top:0,right:0,gap:0},ko=function(e){return parseInt(e||"",10)||0},m1=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ko(s),ko(r),ko(a)]},h1=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return u1;var t=m1(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},f1=ph(),cn="data-scroll-locked",p1=function(e,t,s,r){var a=e.left,o=e.top,i=e.right,l=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(Xj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(cn,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zr,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Qr,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Zr," .").concat(Zr,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qr," .").concat(Qr,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(cn,`] {
    `).concat(Jj,": ").concat(l,`px;
  }
`)},xd=function(){var e=parseInt(document.body.getAttribute(cn)||"0",10);return isFinite(e)?e:0},g1=function(){h.useEffect(function(){return document.body.setAttribute(cn,(xd()+1).toString()),function(){var e=xd()-1;e<=0?document.body.removeAttribute(cn):document.body.setAttribute(cn,e.toString())}},[])},x1=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;g1();var o=h.useMemo(function(){return h1(a)},[a]);return h.createElement(f1,{styles:p1(o,!t,a,s?"":"!important")})},yi=!1;if(typeof window<"u")try{var Vr=Object.defineProperty({},"passive",{get:function(){return yi=!0,!0}});window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{yi=!1}var Js=yi?{passive:!1}:!1,y1=function(e){return e.tagName==="TEXTAREA"},gh=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!y1(e)&&s[t]==="visible")},v1=function(e){return gh(e,"overflowY")},b1=function(e){return gh(e,"overflowX")},yd=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=xh(e,r);if(a){var o=yh(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},w1=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},j1=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},xh=function(e,t){return e==="v"?v1(t):b1(t)},yh=function(e,t){return e==="v"?w1(t):j1(t)},N1=function(e,t){return e==="h"&&t==="rtl"?-1:1},_1=function(e,t,s,r,a){var o=N1(e,window.getComputedStyle(t).direction),i=o*r,l=s.target,c=t.contains(l),d=!1,u=i>0,m=0,f=0;do{if(!l)break;var y=yh(e,l),x=y[0],p=y[1],g=y[2],v=p-g-o*x;(x||v)&&xh(e,l)&&(m+=v,f+=x);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(m)<1||!u&&Math.abs(f)<1)&&(d=!0),d},Br=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vd=function(e){return[e.deltaX,e.deltaY]},bd=function(e){return e&&"current"in e?e.current:e},S1=function(e,t){return e[0]===t[0]&&e[1]===t[1]},C1=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},k1=0,Zs=[];function P1(e){var t=h.useRef([]),s=h.useRef([0,0]),r=h.useRef(),a=h.useState(k1++)[0],o=h.useState(ph)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Kj([e.lockRef.current],(e.shards||[]).map(bd),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var v=Br(p),w=s.current,b="deltaX"in p?p.deltaX:w[0]-v[0],S="deltaY"in p?p.deltaY:w[1]-v[1],_,P=p.target,k=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in p&&k==="h"&&P.type==="range")return!1;var j=yd(k,P);if(!j)return!0;if(j?_=k:(_=k==="v"?"h":"v",j=yd(k,P)),!j)return!1;if(!r.current&&"changedTouches"in p&&(b||S)&&(r.current=_),!_)return!0;var E=r.current||_;return _1(E,g,p,E==="h"?b:S)},[]),c=h.useCallback(function(p){var g=p;if(!(!Zs.length||Zs[Zs.length-1]!==o)){var v="deltaY"in g?vd(g):Br(g),w=t.current.filter(function(_){return _.name===g.type&&(_.target===g.target||g.target===_.shadowParent)&&S1(_.delta,v)})[0];if(w&&w.should){g.cancelable&&g.preventDefault();return}if(!w){var b=(i.current.shards||[]).map(bd).filter(Boolean).filter(function(_){return _.contains(g.target)}),S=b.length>0?l(g,b[0]):!i.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),d=h.useCallback(function(p,g,v,w){var b={name:p,delta:g,target:v,should:w,shadowParent:E1(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),u=h.useCallback(function(p){s.current=Br(p),r.current=void 0},[]),m=h.useCallback(function(p){d(p.type,vd(p),p.target,l(p,e.lockRef.current))},[]),f=h.useCallback(function(p){d(p.type,Br(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return Zs.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Js),document.addEventListener("touchmove",c,Js),document.addEventListener("touchstart",u,Js),function(){Zs=Zs.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,Js),document.removeEventListener("touchmove",c,Js),document.removeEventListener("touchstart",u,Js)}},[]);var y=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(o,{styles:C1(a)}):null,y?h.createElement(x1,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function E1(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const T1=r1(fh,P1);var Va=h.forwardRef(function(e,t){return h.createElement($a,Ot({},e,{ref:t,sideCar:T1}))});Va.classNames=$a.classNames;var D1=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qs=new WeakMap,Ur=new WeakMap,zr={},Po=0,vh=function(e){return e&&(e.host||vh(e.parentNode))},A1=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=vh(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},R1=function(e,t,s,r){var a=A1(t,Array.isArray(e)?e:[e]);zr[s]||(zr[s]=new WeakMap);var o=zr[s],i=[],l=new Set,c=new Set(a),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(l.has(f))u(f);else try{var y=f.getAttribute(r),x=y!==null&&y!=="false",p=(Qs.get(f)||0)+1,g=(o.get(f)||0)+1;Qs.set(f,p),o.set(f,g),i.push(f),p===1&&x&&Ur.set(f,!0),g===1&&f.setAttribute(s,"true"),x||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),l.clear(),Po++,function(){i.forEach(function(m){var f=Qs.get(m)-1,y=o.get(m)-1;Qs.set(m,f),o.set(m,y),f||(Ur.has(m)||m.removeAttribute(r),Ur.delete(m)),y||m.removeAttribute(s)}),Po--,Po||(Qs=new WeakMap,Qs=new WeakMap,Ur=new WeakMap,zr={})}},pl=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=D1(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),R1(r,a,s,"aria-hidden")):function(){return null}};function M1(e){const t=O1(e),s=h.forwardRef((r,a)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(F1);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function O1(e){const t=h.forwardRef((s,r)=>{const{children:a,...o}=s;if(h.isValidElement(a)){const i=$1(a),l=L1(o,a.props);return a.type!==h.Fragment&&(l.ref=r?Ys(r,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var I1=Symbol("radix.slottable");function F1(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===I1}function L1(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function $1(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Ba="Dialog",[bh]=as(Ba),[V1,Rt]=bh(Ba),wh=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[d,u]=ps({prop:r,defaultProp:a??!1,onChange:o,caller:Ba});return n.jsx(V1,{scope:t,triggerRef:l,contentRef:c,contentId:Bt(),titleId:Bt(),descriptionId:Bt(),open:d,onOpenChange:u,onOpenToggle:h.useCallback(()=>u(m=>!m),[u]),modal:i,children:s})};wh.displayName=Ba;var jh="DialogTrigger",B1=h.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Rt(jh,s),o=Ne(t,a.triggerRef);return n.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yl(a.open),...r,ref:o,onClick:le(e.onClick,a.onOpenToggle)})});B1.displayName=jh;var gl="DialogPortal",[U1,Nh]=bh(gl,{forceMount:void 0}),_h=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:a}=e,o=Rt(gl,t);return n.jsx(U1,{scope:t,forceMount:s,children:h.Children.map(r,i=>n.jsx(Gt,{present:s||o.open,children:n.jsx(br,{asChild:!0,container:a,children:i})}))})};_h.displayName=gl;var ha="DialogOverlay",Sh=h.forwardRef((e,t)=>{const s=Nh(ha,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=Rt(ha,e.__scopeDialog);return o.modal?n.jsx(Gt,{present:r||o.open,children:n.jsx(W1,{...a,ref:t})}):null});Sh.displayName=ha;var z1=M1("DialogOverlay.RemoveScroll"),W1=h.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Rt(ha,s);return n.jsx(Va,{as:z1,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(he.div,{"data-state":yl(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),$s="DialogContent",Ch=h.forwardRef((e,t)=>{const s=Nh($s,e.__scopeDialog),{forceMount:r=s.forceMount,...a}=e,o=Rt($s,e.__scopeDialog);return n.jsx(Gt,{present:r||o.open,children:o.modal?n.jsx(H1,{...a,ref:t}):n.jsx(q1,{...a,ref:t})})});Ch.displayName=$s;var H1=h.forwardRef((e,t)=>{const s=Rt($s,e.__scopeDialog),r=h.useRef(null),a=Ne(t,s.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return pl(o)},[]),n.jsx(kh,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=s.triggerRef.current)==null||i.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:le(e.onFocusOutside,o=>o.preventDefault())})}),q1=h.forwardRef((e,t)=>{const s=Rt($s,e.__scopeDialog),r=h.useRef(!1),a=h.useRef(!1);return n.jsx(kh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=s.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),kh=h.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=Rt($s,s),c=h.useRef(null),d=Ne(t,c);return fl(),n.jsxs(n.Fragment,{children:[n.jsx(La,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(vr,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yl(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(G1,{titleId:l.titleId}),n.jsx(K1,{contentRef:c,descriptionId:l.descriptionId})]})]})}),xl="DialogTitle",Ph=h.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Rt(xl,s);return n.jsx(he.h2,{id:a.titleId,...r,ref:t})});Ph.displayName=xl;var Eh="DialogDescription",Th=h.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Rt(Eh,s);return n.jsx(he.p,{id:a.descriptionId,...r,ref:t})});Th.displayName=Eh;var Dh="DialogClose",Ah=h.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,a=Rt(Dh,s);return n.jsx(he.button,{type:"button",...r,ref:t,onClick:le(e.onClick,()=>a.onOpenChange(!1))})});Ah.displayName=Dh;function yl(e){return e?"open":"closed"}var Rh="DialogTitleWarning",[i6,Mh]=pj(Rh,{contentName:$s,titleName:xl,docsSlug:"dialog"}),G1=({titleId:e})=>{const t=Mh(Rh),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Y1="DialogDescriptionWarning",K1=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Mh(Y1).contentName}}.`;return h.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Oh=wh,Ih=_h,Ua=Sh,za=Ch,Wa=Ph,Ha=Th,Fh=Ah;const X1=Oh,J1=Ih,Lh=h.forwardRef(({className:e,...t},s)=>n.jsx(Ua,{className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));Lh.displayName=Ua.displayName;const Z1=Ks("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$h=h.forwardRef(({side:e="right",className:t,children:s,...r},a)=>n.jsxs(J1,{children:[n.jsx(Lh,{}),n.jsxs(za,{ref:a,className:K(Z1({side:e}),t),...r,children:[n.jsxs(Fh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Vt,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]}),s]})]}));$h.displayName=za.displayName;const Q1=h.forwardRef(({className:e,...t},s)=>n.jsx(Wa,{ref:s,className:K("text-lg font-semibold text-foreground",e),...t}));Q1.displayName=Wa.displayName;const eN=h.forwardRef(({className:e,...t},s)=>n.jsx(Ha,{ref:s,className:K("text-sm text-muted-foreground",e),...t}));eN.displayName=Ha.displayName;function wd({className:e,...t}){return n.jsx("div",{className:K("animate-pulse rounded-md bg-primary/10",e),...t})}const tN=["top","right","bottom","left"],xs=Math.min,lt=Math.max,fa=Math.round,Wr=Math.floor,Ut=e=>({x:e,y:e}),sN={left:"right",right:"left",bottom:"top",top:"bottom"},nN={start:"end",end:"start"};function vi(e,t,s){return lt(e,xs(t,s))}function ts(e,t){return typeof e=="function"?e(t):e}function ss(e){return e.split("-")[0]}function Cn(e){return e.split("-")[1]}function vl(e){return e==="x"?"y":"x"}function bl(e){return e==="y"?"height":"width"}const rN=new Set(["top","bottom"]);function Lt(e){return rN.has(ss(e))?"y":"x"}function wl(e){return vl(Lt(e))}function aN(e,t,s){s===void 0&&(s=!1);const r=Cn(e),a=wl(e),o=bl(a);let i=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=pa(i)),[i,pa(i)]}function oN(e){const t=pa(e);return[bi(e),t,bi(t)]}function bi(e){return e.replace(/start|end/g,t=>nN[t])}const jd=["left","right"],Nd=["right","left"],iN=["top","bottom"],lN=["bottom","top"];function cN(e,t,s){switch(e){case"top":case"bottom":return s?t?Nd:jd:t?jd:Nd;case"left":case"right":return t?iN:lN;default:return[]}}function dN(e,t,s,r){const a=Cn(e);let o=cN(ss(e),s==="start",r);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(bi)))),o}function pa(e){return e.replace(/left|right|bottom|top/g,t=>sN[t])}function uN(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vh(e){return typeof e!="number"?uN(e):{top:e,right:e,bottom:e,left:e}}function ga(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function _d(e,t,s){let{reference:r,floating:a}=e;const o=Lt(t),i=wl(t),l=bl(i),c=ss(t),d=o==="y",u=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let y;switch(c){case"top":y={x:u,y:r.y-a.height};break;case"bottom":y={x:u,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-a.width,y:m};break;default:y={x:r.x,y:r.y}}switch(Cn(t)){case"start":y[i]-=f*(s&&d?-1:1);break;case"end":y[i]+=f*(s&&d?-1:1);break}return y}const mN=async(e,t,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:i}=s,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:m}=_d(d,r,c),f=r,y={},x=0;for(let p=0;p<l.length;p++){const{name:g,fn:v}=l[p],{x:w,y:b,data:S,reset:_}=await v({x:u,y:m,initialPlacement:r,placement:f,strategy:a,middlewareData:y,rects:d,platform:i,elements:{reference:e,floating:t}});u=w??u,m=b??m,y={...y,[g]:{...y[g],...S}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(d=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:u,y:m}=_d(d,f,c)),p=-1)}return{x:u,y:m,placement:f,strategy:a,middlewareData:y}};async function er(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:f=!1,padding:y=0}=ts(t,e),x=Vh(y),g=l[f?m==="floating"?"reference":"floating":m],v=ga(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(g)))==null||s?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),w=m==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=ga(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(v.top-_.top+x.top)/S.y,bottom:(_.bottom-v.bottom+x.bottom)/S.y,left:(v.left-_.left+x.left)/S.x,right:(_.right-v.right+x.right)/S.x}}const hN=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ts(e,t)||{};if(d==null)return{};const m=Vh(u),f={x:s,y:r},y=wl(a),x=bl(y),p=await i.getDimensions(d),g=y==="y",v=g?"top":"left",w=g?"bottom":"right",b=g?"clientHeight":"clientWidth",S=o.reference[x]+o.reference[y]-f[y]-o.floating[x],_=f[y]-o.reference[y],P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=P?P[b]:0;(!k||!await(i.isElement==null?void 0:i.isElement(P)))&&(k=l.floating[b]||o.floating[x]);const j=S/2-_/2,E=k/2-p[x]/2-1,B=xs(m[v],E),I=xs(m[w],E),R=B,O=k-p[x]-I,$=k/2-p[x]/2+j,T=vi(R,$,O),D=!c.arrow&&Cn(a)!=null&&$!==T&&o.reference[x]/2-($<R?B:I)-p[x]/2<0,C=D?$<R?$-R:$-O:0;return{[y]:f[y]+C,data:{[y]:T,centerOffset:$-T-C,...D&&{alignmentOffset:C}},reset:D}}}),fN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...g}=ts(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const v=ss(a),w=Lt(l),b=ss(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=f||(b||!p?[pa(l)]:oN(l)),P=x!=="none";!f&&P&&_.push(...dN(l,p,x,S));const k=[l,..._],j=await er(t,g),E=[];let B=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(j[v]),m){const $=aN(a,i,S);E.push(j[$[0]],j[$[1]])}if(B=[...B,{placement:a,overflows:E}],!E.every($=>$<=0)){var I,R;const $=(((I=o.flip)==null?void 0:I.index)||0)+1,T=k[$];if(T&&(!(m==="alignment"?w!==Lt(T):!1)||B.every(N=>Lt(N.placement)===w?N.overflows[0]>0:!0)))return{data:{index:$,overflows:B},reset:{placement:T}};let D=(R=B.filter(C=>C.overflows[0]<=0).sort((C,N)=>C.overflows[1]-N.overflows[1])[0])==null?void 0:R.placement;if(!D)switch(y){case"bestFit":{var O;const C=(O=B.filter(N=>{if(P){const A=Lt(N.placement);return A===w||A==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(A=>A>0).reduce((A,M)=>A+M,0)]).sort((N,A)=>N[1]-A[1])[0])==null?void 0:O[0];C&&(D=C);break}case"initialPlacement":D=l;break}if(a!==D)return{reset:{placement:D}}}return{}}}};function Sd(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Cd(e){return tN.some(t=>e[t]>=0)}const pN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...a}=ts(e,t);switch(r){case"referenceHidden":{const o=await er(t,{...a,elementContext:"reference"}),i=Sd(o,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Cd(i)}}}case"escaped":{const o=await er(t,{...a,altBoundary:!0}),i=Sd(o,s.floating);return{data:{escapedOffsets:i,escaped:Cd(i)}}}default:return{}}}}},Bh=new Set(["left","top"]);async function gN(e,t){const{placement:s,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=ss(s),l=Cn(s),c=Lt(s)==="y",d=Bh.has(i)?-1:1,u=o&&c?-1:1,m=ts(t,e);let{mainAxis:f,crossAxis:y,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof x=="number"&&(y=l==="end"?x*-1:x),c?{x:y*u,y:f*d}:{x:f*d,y:y*u}}const xN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await gN(t,e);return i===((s=l.offset)==null?void 0:s.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},yN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:g=>{let{x:v,y:w}=g;return{x:v,y:w}}},...c}=ts(e,t),d={x:s,y:r},u=await er(t,c),m=Lt(ss(a)),f=vl(m);let y=d[f],x=d[m];if(o){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",w=y+u[g],b=y-u[v];y=vi(w,y,b)}if(i){const g=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=x+u[g],b=x-u[v];x=vi(w,x,b)}const p=l.fn({...t,[f]:y,[m]:x});return{...p,data:{x:p.x-s,y:p.y-r,enabled:{[f]:o,[m]:i}}}}}},vN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=ts(e,t),u={x:s,y:r},m=Lt(a),f=vl(m);let y=u[f],x=u[m];const p=ts(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=f==="y"?"height":"width",S=o.reference[f]-o.floating[b]+g.mainAxis,_=o.reference[f]+o.reference[b]-g.mainAxis;y<S?y=S:y>_&&(y=_)}if(d){var v,w;const b=f==="y"?"width":"height",S=Bh.has(ss(a)),_=o.reference[m]-o.floating[b]+(S&&((v=i.offset)==null?void 0:v[m])||0)+(S?0:g.crossAxis),P=o.reference[m]+o.reference[b]+(S?0:((w=i.offset)==null?void 0:w[m])||0)-(S?g.crossAxis:0);x<_?x=_:x>P&&(x=P)}return{[f]:y,[m]:x}}}},bN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...d}=ts(e,t),u=await er(t,d),m=ss(a),f=Cn(a),y=Lt(a)==="y",{width:x,height:p}=o.floating;let g,v;m==="top"||m==="bottom"?(g=m,v=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,g=f==="end"?"top":"bottom");const w=p-u.top-u.bottom,b=x-u.left-u.right,S=xs(p-u[g],w),_=xs(x-u[v],b),P=!t.middlewareData.shift;let k=S,j=_;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(j=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=w),P&&!f){const B=lt(u.left,0),I=lt(u.right,0),R=lt(u.top,0),O=lt(u.bottom,0);y?j=x-2*(B!==0||I!==0?B+I:lt(u.left,u.right)):k=p-2*(R!==0||O!==0?R+O:lt(u.top,u.bottom))}await c({...t,availableWidth:j,availableHeight:k});const E=await i.getDimensions(l.floating);return x!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function qa(){return typeof window<"u"}function kn(e){return Uh(e)?(e.nodeName||"").toLowerCase():"#document"}function ct(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yt(e){var t;return(t=(Uh(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Uh(e){return qa()?e instanceof Node||e instanceof ct(e).Node:!1}function kt(e){return qa()?e instanceof Element||e instanceof ct(e).Element:!1}function Ht(e){return qa()?e instanceof HTMLElement||e instanceof ct(e).HTMLElement:!1}function kd(e){return!qa()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ct(e).ShadowRoot}const wN=new Set(["inline","contents"]);function wr(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=Pt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!wN.has(a)}const jN=new Set(["table","td","th"]);function NN(e){return jN.has(kn(e))}const _N=[":popover-open",":modal"];function Ga(e){return _N.some(t=>{try{return e.matches(t)}catch{return!1}})}const SN=["transform","translate","scale","rotate","perspective"],CN=["transform","translate","scale","rotate","perspective","filter"],kN=["paint","layout","strict","content"];function jl(e){const t=Nl(),s=kt(e)?Pt(e):e;return SN.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||CN.some(r=>(s.willChange||"").includes(r))||kN.some(r=>(s.contain||"").includes(r))}function PN(e){let t=ys(e);for(;Ht(t)&&!fn(t);){if(jl(t))return t;if(Ga(t))return null;t=ys(t)}return null}function Nl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EN=new Set(["html","body","#document"]);function fn(e){return EN.has(kn(e))}function Pt(e){return ct(e).getComputedStyle(e)}function Ya(e){return kt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ys(e){if(kn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kd(e)&&e.host||Yt(e);return kd(t)?t.host:t}function zh(e){const t=ys(e);return fn(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ht(t)&&wr(t)?t:zh(t)}function tr(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=zh(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),i=ct(a);if(o){const l=wi(i);return t.concat(i,i.visualViewport||[],wr(a)?a:[],l&&s?tr(l):[])}return t.concat(a,tr(a,[],s))}function wi(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Wh(e){const t=Pt(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ht(e),o=a?e.offsetWidth:s,i=a?e.offsetHeight:r,l=fa(s)!==o||fa(r)!==i;return l&&(s=o,r=i),{width:s,height:r,$:l}}function _l(e){return kt(e)?e:e.contextElement}function dn(e){const t=_l(e);if(!Ht(t))return Ut(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:o}=Wh(t);let i=(o?fa(s.width):s.width)/r,l=(o?fa(s.height):s.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const TN=Ut(0);function Hh(e){const t=ct(e);return!Nl()||!t.visualViewport?TN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function DN(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==ct(e)?!1:t}function Vs(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=_l(e);let i=Ut(1);t&&(r?kt(r)&&(i=dn(r)):i=dn(e));const l=DN(o,s,r)?Hh(o):Ut(0);let c=(a.left+l.x)/i.x,d=(a.top+l.y)/i.y,u=a.width/i.x,m=a.height/i.y;if(o){const f=ct(o),y=r&&kt(r)?ct(r):r;let x=f,p=wi(x);for(;p&&r&&y!==x;){const g=dn(p),v=p.getBoundingClientRect(),w=Pt(p),b=v.left+(p.clientLeft+parseFloat(w.paddingLeft))*g.x,S=v.top+(p.clientTop+parseFloat(w.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,m*=g.y,c+=b,d+=S,x=ct(p),p=wi(x)}}return ga({width:u,height:m,x:c,y:d})}function Ka(e,t){const s=Ya(e).scrollLeft;return t?t.left+s:Vs(Yt(e)).left+s}function qh(e,t){const s=e.getBoundingClientRect(),r=s.left+t.scrollLeft-Ka(e,s),a=s.top+t.scrollTop;return{x:r,y:a}}function AN(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const o=a==="fixed",i=Yt(r),l=t?Ga(t.floating):!1;if(r===i||l&&o)return s;let c={scrollLeft:0,scrollTop:0},d=Ut(1);const u=Ut(0),m=Ht(r);if((m||!m&&!o)&&((kn(r)!=="body"||wr(i))&&(c=Ya(r)),Ht(r))){const y=Vs(r);d=dn(r),u.x=y.x+r.clientLeft,u.y=y.y+r.clientTop}const f=i&&!m&&!o?qh(i,c):Ut(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:s.y*d.y-c.scrollTop*d.y+u.y+f.y}}function RN(e){return Array.from(e.getClientRects())}function MN(e){const t=Yt(e),s=Ya(e),r=e.ownerDocument.body,a=lt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=lt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-s.scrollLeft+Ka(e);const l=-s.scrollTop;return Pt(r).direction==="rtl"&&(i+=lt(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:i,y:l}}const Pd=25;function ON(e,t){const s=ct(e),r=Yt(e),a=s.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=Nl();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Ka(r);if(d<=0){const u=r.ownerDocument,m=u.body,f=getComputedStyle(m),y=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(r.clientWidth-m.clientWidth-y);x<=Pd&&(o-=x)}else d<=Pd&&(o+=d);return{width:o,height:i,x:l,y:c}}const IN=new Set(["absolute","fixed"]);function FN(e,t){const s=Vs(e,!0,t==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,o=Ht(e)?dn(e):Ut(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,d=r*o.y;return{width:i,height:l,x:c,y:d}}function Ed(e,t,s){let r;if(t==="viewport")r=ON(e,s);else if(t==="document")r=MN(Yt(e));else if(kt(t))r=FN(t,s);else{const a=Hh(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ga(r)}function Gh(e,t){const s=ys(e);return s===t||!kt(s)||fn(s)?!1:Pt(s).position==="fixed"||Gh(s,t)}function LN(e,t){const s=t.get(e);if(s)return s;let r=tr(e,[],!1).filter(l=>kt(l)&&kn(l)!=="body"),a=null;const o=Pt(e).position==="fixed";let i=o?ys(e):e;for(;kt(i)&&!fn(i);){const l=Pt(i),c=jl(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&IN.has(a.position)||wr(i)&&!c&&Gh(e,i))?r=r.filter(u=>u!==i):a=l,i=ys(i)}return t.set(e,r),r}function $N(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const i=[...s==="clippingAncestors"?Ga(t)?[]:LN(t,this._c):[].concat(s),r],l=i[0],c=i.reduce((d,u)=>{const m=Ed(t,u,a);return d.top=lt(m.top,d.top),d.right=xs(m.right,d.right),d.bottom=xs(m.bottom,d.bottom),d.left=lt(m.left,d.left),d},Ed(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function VN(e){const{width:t,height:s}=Wh(e);return{width:t,height:s}}function BN(e,t,s){const r=Ht(t),a=Yt(t),o=s==="fixed",i=Vs(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Ut(0);function d(){c.x=Ka(a)}if(r||!r&&!o)if((kn(t)!=="body"||wr(a))&&(l=Ya(t)),r){const y=Vs(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else a&&d();o&&!r&&a&&d();const u=a&&!r&&!o?qh(a,l):Ut(0),m=i.left+l.scrollLeft-c.x-u.x,f=i.top+l.scrollTop-c.y-u.y;return{x:m,y:f,width:i.width,height:i.height}}function Eo(e){return Pt(e).position==="static"}function Td(e,t){if(!Ht(e)||Pt(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Yt(e)===s&&(s=s.ownerDocument.body),s}function Yh(e,t){const s=ct(e);if(Ga(e))return s;if(!Ht(e)){let a=ys(e);for(;a&&!fn(a);){if(kt(a)&&!Eo(a))return a;a=ys(a)}return s}let r=Td(e,t);for(;r&&NN(r)&&Eo(r);)r=Td(r,t);return r&&fn(r)&&Eo(r)&&!jl(r)?s:r||PN(e)||s}const UN=async function(e){const t=this.getOffsetParent||Yh,s=this.getDimensions,r=await s(e.floating);return{reference:BN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zN(e){return Pt(e).direction==="rtl"}const WN={convertOffsetParentRelativeRectToViewportRelativeRect:AN,getDocumentElement:Yt,getClippingRect:$N,getOffsetParent:Yh,getElementRects:UN,getClientRects:RN,getDimensions:VN,getScale:dn,isElement:kt,isRTL:zN};function Kh(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HN(e,t){let s=null,r;const a=Yt(e);function o(){var l;clearTimeout(r),(l=s)==null||l.disconnect(),s=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:u,top:m,width:f,height:y}=d;if(l||t(),!f||!y)return;const x=Wr(m),p=Wr(a.clientWidth-(u+f)),g=Wr(a.clientHeight-(m+y)),v=Wr(u),b={rootMargin:-x+"px "+-p+"px "+-g+"px "+-v+"px",threshold:lt(0,xs(1,c))||1};let S=!0;function _(P){const k=P[0].intersectionRatio;if(k!==c){if(!S)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Kh(d,e.getBoundingClientRect())&&i(),S=!1}try{s=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{s=new IntersectionObserver(_,b)}s.observe(e)}return i(!0),o}function qN(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=_l(e),u=a||o?[...d?tr(d):[],...tr(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",s,{passive:!0}),o&&v.addEventListener("resize",s)});const m=d&&l?HN(d,s):null;let f=-1,y=null;i&&(y=new ResizeObserver(v=>{let[w]=v;w&&w.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(t)})),s()}),d&&!c&&y.observe(d),y.observe(t));let x,p=c?Vs(e):null;c&&g();function g(){const v=Vs(e);p&&!Kh(p,v)&&s(),p=v,x=requestAnimationFrame(g)}return s(),()=>{var v;u.forEach(w=>{a&&w.removeEventListener("scroll",s),o&&w.removeEventListener("resize",s)}),m==null||m(),(v=y)==null||v.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const GN=xN,YN=yN,KN=fN,XN=bN,JN=pN,Dd=hN,ZN=vN,QN=(e,t,s)=>{const r=new Map,a={platform:WN,...s},o={...a.platform,_c:r};return mN(e,t,{...a,platform:o})};var e2=typeof document<"u",t2=function(){},ea=e2?h.useLayoutEffect:t2;function xa(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!xa(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!xa(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Xh(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ad(e,t){const s=Xh(e);return Math.round(t*s)/s}function To(e){const t=h.useRef(e);return ea(()=>{t.current=e}),t}function s2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,m]=h.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[f,y]=h.useState(r);xa(f,r)||y(r);const[x,p]=h.useState(null),[g,v]=h.useState(null),w=h.useCallback(N=>{N!==P.current&&(P.current=N,p(N))},[]),b=h.useCallback(N=>{N!==k.current&&(k.current=N,v(N))},[]),S=o||x,_=i||g,P=h.useRef(null),k=h.useRef(null),j=h.useRef(u),E=c!=null,B=To(c),I=To(a),R=To(d),O=h.useCallback(()=>{if(!P.current||!k.current)return;const N={placement:t,strategy:s,middleware:f};I.current&&(N.platform=I.current),QN(P.current,k.current,N).then(A=>{const M={...A,isPositioned:R.current!==!1};$.current&&!xa(j.current,M)&&(j.current=M,Pa.flushSync(()=>{m(M)}))})},[f,t,s,I,R]);ea(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,m(N=>({...N,isPositioned:!1})))},[d]);const $=h.useRef(!1);ea(()=>($.current=!0,()=>{$.current=!1}),[]),ea(()=>{if(S&&(P.current=S),_&&(k.current=_),S&&_){if(B.current)return B.current(S,_,O);O()}},[S,_,O,B,E]);const T=h.useMemo(()=>({reference:P,floating:k,setReference:w,setFloating:b}),[w,b]),D=h.useMemo(()=>({reference:S,floating:_}),[S,_]),C=h.useMemo(()=>{const N={position:s,left:0,top:0};if(!D.floating)return N;const A=Ad(D.floating,u.x),M=Ad(D.floating,u.y);return l?{...N,transform:"translate("+A+"px, "+M+"px)",...Xh(D.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:A,top:M}},[s,l,D.floating,u.x,u.y]);return h.useMemo(()=>({...u,update:O,refs:T,elements:D,floatingStyles:C}),[u,O,T,D,C])}const n2=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?Dd({element:r.current,padding:a}).fn(s):{}:r?Dd({element:r,padding:a}).fn(s):{}}}},r2=(e,t)=>({...GN(e),options:[e,t]}),a2=(e,t)=>({...YN(e),options:[e,t]}),o2=(e,t)=>({...ZN(e),options:[e,t]}),i2=(e,t)=>({...KN(e),options:[e,t]}),l2=(e,t)=>({...XN(e),options:[e,t]}),c2=(e,t)=>({...JN(e),options:[e,t]}),d2=(e,t)=>({...n2(e),options:[e,t]});var u2="Arrow",Jh=h.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...o}=e;return n.jsx(he.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jh.displayName=u2;var m2=Jh;function Zh(e){const[t,s]=h.useState(void 0);return Xe(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var Sl="Popper",[Qh,Pn]=as(Sl),[h2,ef]=Qh(Sl),tf=e=>{const{__scopePopper:t,children:s}=e,[r,a]=h.useState(null);return n.jsx(h2,{scope:t,anchor:r,onAnchorChange:a,children:s})};tf.displayName=Sl;var sf="PopperAnchor",nf=h.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,o=ef(sf,s),i=h.useRef(null),l=Ne(t,i),c=h.useRef(null);return h.useEffect(()=>{const d=c.current;c.current=(r==null?void 0:r.current)||i.current,d!==c.current&&o.onAnchorChange(c.current)}),r?null:n.jsx(he.div,{...a,ref:l})});nf.displayName=sf;var Cl="PopperContent",[f2,p2]=Qh(Cl),rf=h.forwardRef((e,t)=>{var W,Y,ce,re,me,fe;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:y="optimized",onPlaced:x,...p}=e,g=ef(Cl,s),[v,w]=h.useState(null),b=Ne(t,et=>w(et)),[S,_]=h.useState(null),P=Zh(S),k=(P==null?void 0:P.width)??0,j=(P==null?void 0:P.height)??0,E=r+(o!=="center"?"-"+o:""),B=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(d)?d:[d],R=I.length>0,O={padding:B,boundary:I.filter(x2),altBoundary:R},{refs:$,floatingStyles:T,placement:D,isPositioned:C,middlewareData:N}=s2({strategy:"fixed",placement:E,whileElementsMounted:(...et)=>qN(...et,{animationFrame:y==="always"}),elements:{reference:g.anchor},middleware:[r2({mainAxis:a+j,alignmentAxis:i}),c&&a2({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?o2():void 0,...O}),c&&i2({...O}),l2({...O,apply:({elements:et,rects:Ae,availableWidth:os,availableHeight:Rn})=>{const{width:Mn,height:M0}=Ae.reference,Mr=et.floating.style;Mr.setProperty("--radix-popper-available-width",`${os}px`),Mr.setProperty("--radix-popper-available-height",`${Rn}px`),Mr.setProperty("--radix-popper-anchor-width",`${Mn}px`),Mr.setProperty("--radix-popper-anchor-height",`${M0}px`)}}),S&&d2({element:S,padding:l}),y2({arrowWidth:k,arrowHeight:j}),f&&c2({strategy:"referenceHidden",...O})]}),[A,M]=lf(D),L=gs(x);Xe(()=>{C&&(L==null||L())},[C,L]);const U=(W=N.arrow)==null?void 0:W.x,G=(Y=N.arrow)==null?void 0:Y.y,H=((ce=N.arrow)==null?void 0:ce.centerOffset)!==0,[Q,ee]=h.useState();return Xe(()=>{v&&ee(window.getComputedStyle(v).zIndex)},[v]),n.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:C?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(re=N.transformOrigin)==null?void 0:re.x,(me=N.transformOrigin)==null?void 0:me.y].join(" "),...((fe=N.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(f2,{scope:s,placedSide:A,onArrowChange:_,arrowX:U,arrowY:G,shouldHideArrow:H,children:n.jsx(he.div,{"data-side":A,"data-align":M,...p,ref:b,style:{...p.style,animation:C?void 0:"none"}})})})});rf.displayName=Cl;var af="PopperArrow",g2={top:"bottom",right:"left",bottom:"top",left:"right"},of=h.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,o=p2(af,r),i=g2[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(m2,{...a,ref:s,style:{...a.style,display:"block"}})})});of.displayName=af;function x2(e){return e!==null}var y2=e=>({name:"transformOrigin",options:e,fn(t){var g,v,w;const{placement:s,rects:r,middlewareData:a}=t,i=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,u]=lf(s),m={start:"0%",center:"50%",end:"100%"}[u],f=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,y=(((w=a.arrow)==null?void 0:w.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=i?m:`${f}px`,p=`${-c}px`):d==="top"?(x=i?m:`${f}px`,p=`${r.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=i?m:`${y}px`):d==="left"&&(x=`${r.floating.width+c}px`,p=i?m:`${y}px`),{data:{x,y:p}}}});function lf(e){const[t,s="center"]=e.split("-");return[t,s]}var kl=tf,Xa=nf,Pl=rf,El=of,v2=Symbol("radix.slottable");function b2(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=v2,t}var cf=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),w2="VisuallyHidden",df=h.forwardRef((e,t)=>n.jsx(he.span,{...e,ref:t,style:{...cf,...e.style}}));df.displayName=w2;var j2=df,[Ja]=as("Tooltip",[Pn]),Za=Pn(),uf="TooltipProvider",N2=700,ji="tooltip.open",[_2,Tl]=Ja(uf),mf=e=>{const{__scopeTooltip:t,delayDuration:s=N2,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(_2,{scope:t,isOpenDelayedRef:i,delayDuration:s,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:o})};mf.displayName=uf;var sr="Tooltip",[S2,jr]=Ja(sr),hf=e=>{const{__scopeTooltip:t,children:s,open:r,defaultOpen:a,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=Tl(sr,e.__scopeTooltip),d=Za(t),[u,m]=h.useState(null),f=Bt(),y=h.useRef(0),x=i??c.disableHoverableContent,p=l??c.delayDuration,g=h.useRef(!1),[v,w]=ps({prop:r,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(ji))):c.onClose(),o==null||o(k)},caller:sr}),b=h.useMemo(()=>v?g.current?"delayed-open":"instant-open":"closed",[v]),S=h.useCallback(()=>{window.clearTimeout(y.current),y.current=0,g.current=!1,w(!0)},[w]),_=h.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w(!1)},[w]),P=h.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{g.current=!0,w(!0),y.current=0},p)},[p,w]);return h.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),n.jsx(kl,{...d,children:n.jsx(S2,{scope:t,contentId:f,open:v,stateAttribute:b,trigger:u,onTriggerChange:m,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayedRef.current?P():S()},[c.isOpenDelayedRef,P,S]),onTriggerLeave:h.useCallback(()=>{x?_():(window.clearTimeout(y.current),y.current=0)},[_,x]),onOpen:S,onClose:_,disableHoverableContent:x,children:s})})};hf.displayName=sr;var Ni="TooltipTrigger",ff=h.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=jr(Ni,s),o=Tl(Ni,s),i=Za(s),l=h.useRef(null),c=Ne(t,l,a.onTriggerChange),d=h.useRef(!1),u=h.useRef(!1),m=h.useCallback(()=>d.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(Xa,{asChild:!0,...i,children:n.jsx(he.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:le(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:le(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:le(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:le(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:le(e.onBlur,a.onClose),onClick:le(e.onClick,a.onClose)})})});ff.displayName=Ni;var Dl="TooltipPortal",[C2,k2]=Ja(Dl,{forceMount:void 0}),pf=e=>{const{__scopeTooltip:t,forceMount:s,children:r,container:a}=e,o=jr(Dl,t);return n.jsx(C2,{scope:t,forceMount:s,children:n.jsx(Gt,{present:s||o.open,children:n.jsx(br,{asChild:!0,container:a,children:r})})})};pf.displayName=Dl;var pn="TooltipContent",gf=h.forwardRef((e,t)=>{const s=k2(pn,e.__scopeTooltip),{forceMount:r=s.forceMount,side:a="top",...o}=e,i=jr(pn,e.__scopeTooltip);return n.jsx(Gt,{present:r||i.open,children:i.disableHoverableContent?n.jsx(xf,{side:a,...o,ref:t}):n.jsx(P2,{side:a,...o,ref:t})})}),P2=h.forwardRef((e,t)=>{const s=jr(pn,e.__scopeTooltip),r=Tl(pn,e.__scopeTooltip),a=h.useRef(null),o=Ne(t,a),[i,l]=h.useState(null),{trigger:c,onClose:d}=s,u=a.current,{onPointerInTransitChange:m}=r,f=h.useCallback(()=>{l(null),m(!1)},[m]),y=h.useCallback((x,p)=>{const g=x.currentTarget,v={x:x.clientX,y:x.clientY},w=R2(v,g.getBoundingClientRect()),b=M2(v,w),S=O2(p.getBoundingClientRect()),_=F2([...b,...S]);l(_),m(!0)},[m]);return h.useEffect(()=>()=>f(),[f]),h.useEffect(()=>{if(c&&u){const x=g=>y(g,u),p=g=>y(g,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,y,f]),h.useEffect(()=>{if(i){const x=p=>{const g=p.target,v={x:p.clientX,y:p.clientY},w=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),b=!I2(v,i);w?f():b&&(f(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,i,d,f]),n.jsx(xf,{...e,ref:o})}),[E2,T2]=Ja(sr,{isInside:!1}),D2=b2("TooltipContent"),xf=h.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=jr(pn,s),d=Za(s),{onClose:u}=c;return h.useEffect(()=>(document.addEventListener(ji,u),()=>document.removeEventListener(ji,u)),[u]),h.useEffect(()=>{if(c.trigger){const m=f=>{const y=f.target;y!=null&&y.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),n.jsx(vr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:n.jsxs(Pl,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(D2,{children:r}),n.jsx(E2,{scope:s,isInside:!0,children:n.jsx(j2,{id:c.contentId,role:"tooltip",children:a||r})})]})})});gf.displayName=pn;var yf="TooltipArrow",A2=h.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=Za(s);return T2(yf,s).isInside?null:n.jsx(El,{...a,...r,ref:t})});A2.displayName=yf;function R2(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(s,r,a,o)){case o:return"left";case a:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function M2(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function O2(e){const{top:t,right:s,bottom:r,left:a}=e;return[{x:a,y:t},{x:s,y:t},{x:s,y:r},{x:a,y:r}]}function I2(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],d=l.x,u=l.y,m=c.x,f=c.y;u>r!=f>r&&s<(m-d)*(r-u)/(f-u)+d&&(a=!a)}return a}function F2(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),L2(t)}function L2(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;s.length>=2;){const o=s[s.length-1],i=s[s.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))s.pop();else break}s.push(a)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var $2=mf,V2=hf,B2=ff,U2=pf,vf=gf;const z2=$2,W2=V2,H2=B2,bf=h.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(U2,{children:n.jsx(vf,{ref:r,sideOffset:t,className:K("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));bf.displayName=vf.displayName;const q2="sidebar_state",G2=3600*24*7,Y2="16rem",K2="18rem",X2="3rem",J2="b",wf=h.createContext(null);function Qa(){const e=h.useContext(wf);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const jf=h.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:s,className:r,style:a,children:o,...i},l)=>{const c=ww(),[d,u]=h.useState(!1),[m,f]=h.useState(e),y=t??m,x=h.useCallback(w=>{const b=typeof w=="function"?w(y):w;s?s(b):f(b),document.cookie=`${q2}=${b}; path=/; max-age=${G2}`},[s,y]),p=h.useCallback(()=>c?u(w=>!w):x(w=>!w),[c,x,u]);h.useEffect(()=>{const w=b=>{b.key===J2&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),p())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[p]);const g=y?"expanded":"collapsed",v=h.useMemo(()=>({state:g,open:y,setOpen:x,isMobile:c,openMobile:d,setOpenMobile:u,toggleSidebar:p}),[g,y,x,c,d,u,p]);return n.jsx(wf.Provider,{value:v,children:n.jsx(z2,{delayDuration:0,children:n.jsx("div",{style:{"--sidebar-width":Y2,"--sidebar-width-icon":X2,...a},className:K("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...i,children:o})})})});jf.displayName="SidebarProvider";const Nf=h.forwardRef(({side:e="left",variant:t="sidebar",collapsible:s="offcanvas",className:r,children:a,...o},i)=>{const{isMobile:l,state:c,openMobile:d,setOpenMobile:u}=Qa();return s==="none"?n.jsx("div",{className:K("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...o,children:a}):l?n.jsx(X1,{open:d,onOpenChange:u,...o,children:n.jsx($h,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":K2},side:e,children:n.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):n.jsxs("div",{ref:i,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?s:"","data-variant":t,"data-side":e,children:[n.jsx("div",{className:K("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),n.jsx("div",{className:K("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:n.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});Nf.displayName="Sidebar";const _f=h.forwardRef(({className:e,onClick:t,...s},r)=>{const{toggleSidebar:a}=Qa();return n.jsxs(V,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:K("h-7 w-7",e),onClick:o=>{t==null||t(o),a()},...s,children:[n.jsx(Ob,{}),n.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});_f.displayName="SidebarTrigger";const Z2=h.forwardRef(({className:e,...t},s)=>{const{toggleSidebar:r}=Qa();return n.jsx("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:K("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Z2.displayName="SidebarRail";const Q2=h.forwardRef(({className:e,...t},s)=>n.jsx("main",{ref:s,className:K("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Q2.displayName="SidebarInset";const e_=h.forwardRef(({className:e,...t},s)=>n.jsx(q,{ref:s,"data-sidebar":"input",className:K("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));e_.displayName="SidebarInput";const Sf=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,"data-sidebar":"header",className:K("flex flex-col gap-2 p-2",e),...t}));Sf.displayName="SidebarHeader";const Cf=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,"data-sidebar":"footer",className:K("flex flex-col gap-2 p-2",e),...t}));Cf.displayName="SidebarFooter";const t_=h.forwardRef(({className:e,...t},s)=>n.jsx(Fa,{ref:s,"data-sidebar":"separator",className:K("mx-2 w-auto bg-sidebar-border",e),...t}));t_.displayName="SidebarSeparator";const kf=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,"data-sidebar":"content",className:K("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));kf.displayName="SidebarContent";const Pf=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,"data-sidebar":"group",className:K("relative flex w-full min-w-0 flex-col p-2",e),...t}));Pf.displayName="SidebarGroup";const Ef=h.forwardRef(({className:e,asChild:t=!1,...s},r)=>{const a=t?Nn:"div";return n.jsx(a,{ref:r,"data-sidebar":"group-label",className:K("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...s})});Ef.displayName="SidebarGroupLabel";const s_=h.forwardRef(({className:e,asChild:t=!1,...s},r)=>{const a=t?Nn:"button";return n.jsx(a,{ref:r,"data-sidebar":"group-action",className:K("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...s})});s_.displayName="SidebarGroupAction";const Tf=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,"data-sidebar":"group-content",className:K("w-full text-sm",e),...t}));Tf.displayName="SidebarGroupContent";const Df=h.forwardRef(({className:e,...t},s)=>n.jsx("ul",{ref:s,"data-sidebar":"menu",className:K("flex w-full min-w-0 flex-col gap-1",e),...t}));Df.displayName="SidebarMenu";const Af=h.forwardRef(({className:e,...t},s)=>n.jsx("li",{ref:s,"data-sidebar":"menu-item",className:K("group/menu-item relative",e),...t}));Af.displayName="SidebarMenuItem";const n_=Ks("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Rf=h.forwardRef(({asChild:e=!1,isActive:t=!1,variant:s="default",size:r="default",tooltip:a,className:o,...i},l)=>{const c=e?Nn:"button",{isMobile:d,state:u}=Qa(),m=n.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:K(n_({variant:s,size:r}),o),...i});return a?(typeof a=="string"&&(a={children:a}),n.jsxs(W2,{children:[n.jsx(H2,{asChild:!0,children:m}),n.jsx(bf,{side:"right",align:"center",hidden:u!=="collapsed"||d,...a})]})):m});Rf.displayName="SidebarMenuButton";const r_=h.forwardRef(({className:e,asChild:t=!1,showOnHover:s=!1,...r},a)=>{const o=t?Nn:"button";return n.jsx(o,{ref:a,"data-sidebar":"menu-action",className:K("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});r_.displayName="SidebarMenuAction";const a_=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,"data-sidebar":"menu-badge",className:K("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));a_.displayName="SidebarMenuBadge";const o_=h.forwardRef(({className:e,showIcon:t=!1,...s},r)=>{const a=h.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return n.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:K("flex h-8 items-center gap-2 rounded-md px-2",e),...s,children:[t&&n.jsx(wd,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),n.jsx(wd,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});o_.displayName="SidebarMenuSkeleton";const i_=h.forwardRef(({className:e,...t},s)=>n.jsx("ul",{ref:s,"data-sidebar":"menu-sub",className:K("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));i_.displayName="SidebarMenuSub";const l_=h.forwardRef(({...e},t)=>n.jsx("li",{ref:t,...e}));l_.displayName="SidebarMenuSubItem";const c_=h.forwardRef(({asChild:e=!1,size:t="md",isActive:s,className:r,...a},o)=>{const i=e?Nn:"a";return n.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":s,className:K("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...a})});c_.displayName="SidebarMenuSubButton";const d_=Ks("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,...s}){return n.jsx("div",{className:K(d_({variant:t}),e),...s})}const u_=Ks("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$e=h.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,role:"alert",className:K(u_({variant:t}),e),...s}));$e.displayName="Alert";const m_=h.forwardRef(({className:e,...t},s)=>n.jsx("h5",{ref:s,className:K("mb-1 font-medium leading-none tracking-tight",e),...t}));m_.displayName="AlertTitle";const Ve=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("text-sm [&_p]:leading-relaxed",e),...t}));Ve.displayName="AlertDescription";function h_(){const e=()=>{const s=JSON.parse(localStorage.getItem("original_user")||"null");s&&sessionStorage.setItem("current_user",JSON.stringify(s)),localStorage.removeItem("impersonated_user"),localStorage.removeItem("original_user"),localStorage.removeItem("is_impersonating"),window.location.reload()},t=JSON.parse(localStorage.getItem("impersonated_user")||"null");return!t||localStorage.getItem("is_impersonating")!=="true"?null:n.jsxs($e,{className:"bg-orange-50 border-orange-200 rounded-none border-x-0 border-t-0",children:[n.jsx(Hm,{className:"h-4 w-4 text-orange-600"}),n.jsxs(Ve,{className:"flex items-center justify-between w-full",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zn,{className:"w-4 h-4 text-orange-600"}),n.jsxs("span",{className:"font-medium text-orange-800",children:["Admin View: You are viewing the app as"," ",n.jsx("strong",{children:t.full_name||t.name})," ","(",t.access_level||"client",")"]})]}),n.jsxs(V,{size:"sm",variant:"outline",onClick:e,className:"ml-4 bg-white hover:bg-orange-50 border-orange-200 text-orange-700 hover:text-orange-800",children:[n.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Return to Admin View"]})]})]})}const f_=[{title:"Dashboard",url:it("Dashboard"),icon:yb,roles:["admin","staff","client"]},{title:"Projects",url:it("Projects"),icon:Zn,roles:["admin","staff","client"]},{title:"Proposals",url:it("Proposals"),icon:ze,roles:["admin","staff"]},{title:"Invoices",url:it("Invoices"),icon:Ct,roles:["admin","staff"]},{title:"Time Tracking",url:it("TimeTracking"),icon:ut,roles:["admin","staff"]},{title:"Books",url:it("Books"),icon:Ct,roles:["admin"]},{title:"Clients",url:it("Clients"),icon:Bm,roles:["admin","staff"]},{title:"Team",url:it("Team"),icon:Ms,roles:["admin"]},{title:"Settings",url:it("Settings"),icon:ul,roles:["admin"]}],p_=["/login","/forgotpassword","/register","/clientProposalAcceptance","/userInviteAcceptance","/forgot-password","/reset-password"],Do=["/"];function g_({children:e,currentPageName:t}){var k,j;const s=hr(),[r,a]=h.useState(null),[o,i]=h.useState(null),[l,c]=h.useState(!0),[d,u]=h.useState(!0),[m,f]=h.useState(!1);h.useEffect(()=>{const E=p_.some(B=>s.pathname===B||s.pathname.startsWith(B));Do.some(B=>s.pathname===B||s.pathname.startsWith(B)),u(!E),f(!E),E?y():x()},[s.pathname]);const y=async()=>{try{const E=await Ge.list();E&&E.length>0&&i(E[0])}catch(E){console.error("Error loading settings:",E)}c(!1)},x=async()=>{var E,B;try{const I=localStorage.getItem("is_impersonating")==="true",R=JSON.parse(localStorage.getItem("impersonated_user")||"null");let O;if(I&&R)O=R;else try{O=await _e.me()}catch($){if(Do.some(D=>s.pathname===D||s.pathname.startsWith(D))){await y();return}else if(!_e.isAuthenticated()){await new Promise(D=>setTimeout(D,2e3)),a(null),c(!1);return}throw $}try{const $=await Ge.list();$&&$.length>0&&i($[0])}catch($){console.error("Error loading settings:",$)}if(!O.access_level){let $=!1;try{const T=await bt.filter({email:O.email},1);if(T&&T.length>0){const D={access_level:"client"};I||(await _e.updateMyUserData(D),await bt.update(T[0].id,{user_id:O.id})),O={...O,...D},$=!0}}catch(T){console.error("Error checking client record:",T)}if(!$)try{const T=await Xn.filter({email:O.email,status:"pending"},1);if(T&&T.length>0){const D=T[0],C={access_level:D.role,phone:D.phone||"",hourly_rate:D.hourly_rate||0,specialization:D.specialization||""};I||(await _e.updateMyUserData(C),await Xn.update(D.id,{status:"accepted"})),O={...O,...C},$=!0}}catch(T){console.error("Error checking invitations:",T)}if(!$)try{const T=await _e.list();if(T&&T.length===1&&!I){const D={access_level:"admin",phone:"000-000-0000",hourly_rate:0,specialization:"Admin"};await _e.updateMyUserData(D),O={...O,...D},$=!0}}catch(T){console.error("Error checking user list:",T)}if(!$)try{const T={access_level:"staff",phone:"",hourly_rate:0,specialization:""};I||await _e.updateMyUserData(T),O={...O,...T},$=!0}catch(T){console.error("Error assigning default role:",T)}if(!$){I||await _e.logout(),a(null),c(!1);return}}a(O)}catch(I){console.error("User not logged in or error loading user:",I),(((E=I.response)==null?void 0:E.status)===401||((B=I.response)==null?void 0:B.status)===403)&&await _e.logout(),a(null)}c(!1)},p=async()=>{await _e.logout(),window.location.href="/login"},g=f_.filter(E=>(r==null?void 0:r.access_level)&&E.roles.includes(r.access_level)),v=(o==null?void 0:o.company_name)||"Nex-a Portal";o==null||o.company_logo_url;const w=(o==null?void 0:o.primary_color)||"#72FD67",b=(o==null?void 0:o.dark_mode)||!1,S=b?`
    .dark-mode {
      background: #1a1a1a !important;
    }
    
    .dark-mode .bg-gradient-to-br {
      background: linear-gradient(135deg, #1a1a1a, #2a2a2a) !important;
    }
    
    .dark-mode .bg-\\[\\#F2F2F2\\] {
      background: #1a1a1a !important;
    }
    
    .dark-mode .bg-gradient-to-br.from-\\[\\#F2F2F2\\] {
      background: linear-gradient(135deg, #1a1a1a, #2a2a2a) !important;
    }
    
    .dark-mode .bg-gradient-to-br.from-\\[\\#F5F7FA\\] {
      background: linear-gradient(135deg, #1a1a1a, #2a2a2a) !important;
    }
    
    .dark-mode .bg-gradient-to-br.from-slate-50 {
      background: linear-gradient(135deg, #1a1a1a, #2a2a2a) !important;
    }
  `:"",_=`
    .loader-5 {
      animation: rotate 1.8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      height: 60px;
      width: 60px;
      filter: drop-shadow(0 4px 12px rgba(114, 253, 103, 0.25));
    }

    .loader-5:before,
    .loader-5:after {
      border-radius: 50%;
      content: "";
      display: block;
      height: 24px;
      width: 24px;
    }
    
    .loader-5:before {
      animation: ball1 1.8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      background: linear-gradient(135deg, #72FD67, #5DE055);
      box-shadow: 36px 0 0 rgba(114, 253, 103, 0.2);
      margin-bottom: 12px;
      filter: drop-shadow(0 2px 8px rgba(114, 253, 103, 0.4));
    }
    
    .loader-5:after {
      animation: ball2 1.8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      background: linear-gradient(135deg, #5DE055, #72FD67);
      box-shadow: 36px 0 0 rgba(93, 224, 85, 0.2);
      filter: drop-shadow(0 2px 8px rgba(93, 224, 85, 0.4));
    }

    @keyframes rotate {
      0% {
        transform: rotate(0deg) scale(0.9);
      }
      50% {
        transform: rotate(360deg) scale(1.1);
      }
      100% {
        transform: rotate(720deg) scale(0.9);
      }
    }

    @keyframes ball1 {
      0% {
        box-shadow: 36px 0 0 rgba(114, 253, 103, 0.2);
        transform: translate(0, 0);
      }
      50% {
        box-shadow: 0 0 0 rgba(114, 253, 103, 0.6);
        margin-bottom: 0;
        transform: translate(18px, 18px) scale(1.2);
      }
      100% {
        box-shadow: 36px 0 0 rgba(114, 253, 103, 0.2);
        margin-bottom: 12px;
        transform: translate(0, 0);
      }
    }

    @keyframes ball2 {
      0% {
        box-shadow: 36px 0 0 rgba(93, 224, 85, 0.2);
        transform: translate(0, 0);
      }
      50% {
        box-shadow: 0 0 0 rgba(93, 224, 85, 0.6);
        margin-top: -24px;
        transform: translate(18px, 18px) scale(1.2);
      }
      100% {
        box-shadow: 36px 0 0 rgba(93, 224, 85, 0.2);
        margin-top: 0;
        transform: translate(0, 0);
      }
    }
  `;if(l)return n.jsxs("div",{className:`min-h-screen flex items-center justify-center ${b?"dark-mode":"bg-[#F2F2F2]"}`,children:[n.jsx("style",{children:`
            @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
            * {
              font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;
            }
            ${S}
            ${_}
          `}),n.jsx("div",{className:"loader-5"})]});if(!m)return n.jsxs("div",{className:`min-h-screen ${b?"dark-mode":"bg-gradient-to-br from-[#F2F2F2] to-gray-100"}`,children:[n.jsx("style",{children:`
            @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
            * {
              font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;
            }
            ${S}
          `}),e]});const P=Do.some(E=>s.pathname===E||s.pathname.startsWith(E));return d&&!r&&!l&&!P?n.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center text-center p-4 ${b?"dark-mode":"bg-gradient-to-br from-[#F2F2F2] to-gray-100"}`,children:[n.jsx("style",{children:`
            @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
            * {
              font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;
            }
            ${S}
            ${_}
          `}),n.jsx("div",{className:"loader-5 mb-8"}),n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-[#1E1E1D] mb-3",children:"Setting up your account..."}),n.jsx("p",{className:"text-gray-600 mt-3 mb-8 max-w-md text-sm sm:text-base font-medium px-4",children:"Please wait while we verify your access and prepare your dashboard."})]}):n.jsxs(jf,{children:[n.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
          * {
            font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;
          }
          ${S}
        `}),n.jsxs("div",{className:`min-h-screen flex flex-col w-full ${b?"dark-mode":"bg-gradient-to-br from-[#F2F2F2] to-gray-100"}`,children:[n.jsx(h_,{}),n.jsxs("div",{className:"flex flex-1",children:[n.jsxs(Nf,{className:"border-r hidden md:flex border-gray-200 bg-white/90 backdrop-blur-xl",children:[n.jsx(Sf,{className:"p-4 lg:p-6 border-gray-200 border-b",children:n.jsx("div",{className:"flex flex-col mt-10 mb-5 items-center text-center",children:n.jsxs("div",{children:[n.jsx("h2",{className:"font-bold text-[#1E1E1D] text-lg",children:v}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Business Portal"})]})})}),n.jsx(kf,{className:"p-2 lg:p-3",children:n.jsxs(Pf,{children:[n.jsx(Ef,{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-3 py-2 hidden lg:block",children:"Navigation"}),n.jsx(Tf,{children:n.jsx(Df,{className:"space-y-1",children:g.map(E=>n.jsx(Af,{children:n.jsx(Rf,{asChild:!0,className:`transition-all duration-200 rounded-xl ${s.pathname===E.url?`bg-[${w}] text-[#1E1E1D] font-semibold shadow-md`:"text-gray-600 hover:bg-gray-100 hover:text-[#1E1E1D]"}`,style:s.pathname===E.url?{backgroundColor:w}:{},children:n.jsxs(ai,{to:E.url,className:"flex items-center gap-3 px-2 lg:px-3 py-2 lg:py-3",children:[n.jsx(E.icon,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{className:"font-medium text-sm lg:text-base hidden lg:block",children:E.title})]})})},E.title))})})]})}),n.jsx(Cf,{className:"p-3 lg:p-4 border-gray-200 border-t",children:r?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 lg:p-3 bg-[#F2F2F2] rounded-xl",children:[n.jsx("div",{className:"w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center flex-shrink-0",style:{background:`linear-gradient(135deg, ${w}, #5DE055)`},children:n.jsx("span",{className:"text-[#1E1E1D] font-bold text-xs lg:text-sm",children:((k=r.full_name)==null?void 0:k.charAt(0))||"U"})}),n.jsxs("div",{className:"flex-1 min-w-0 hidden lg:block",children:[n.jsx("p",{className:"font-semibold text-[#1E1E1D] text-sm truncate",children:r.full_name}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(je,{variant:"secondary",className:`text-xs ${r.access_level==="admin"?"text-[#1E1E1D]":r.access_level==="staff"?"bg-blue-100 text-blue-700":r.access_level==="client"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,style:r.access_level==="admin"?{backgroundColor:w}:{},children:r.access_level})})]})]}),n.jsxs(V,{variant:"ghost",onClick:p,className:"w-full justify-center lg:justify-start gap-2 text-gray-600 hover:text-[#1E1E1D] hover:bg-gray-100 p-2",children:[n.jsx(Qc,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden lg:inline",children:"Sign Out"})]})]}):n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"text-center p-3 bg-[#F2F2F2] rounded-xl",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Signing you in, please be patient ..."}),n.jsx(V,{onClick:()=>window.location.href="/login",size:"sm",className:"w-full bg-[#1E1E1D] hover:bg-gray-800 text-white",children:"Sign In"})]})})})]}),n.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[n.jsx("header",{className:"backdrop-blur-xl px-4 py-3 md:hidden bg-white/90 border-gray-200 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_f,{className:"hover:bg-gray-100 p-2 rounded-lg transition-colors duration-200"}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("h1",{className:"text-lg font-bold text-[#1E1E1D]",children:v})})]}),r&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{background:`linear-gradient(135deg, ${w}, #5DE055)`},children:n.jsx("span",{className:"text-[#1E1E1D] font-bold text-sm",children:((j=r.full_name)==null?void 0:j.charAt(0))||"U"})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:p,className:"text-gray-600 hover:text-[#1E1E1D]",children:n.jsx(Qc,{className:"w-4 h-4"})})]})]})}),n.jsx("div",{className:"flex-1 overflow-auto",children:e})]})]})]})]})}const Z=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Z.displayName="Card";const pe=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("flex flex-col space-y-1.5 p-6",e),...t}));pe.displayName="CardHeader";const xe=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("font-semibold leading-none tracking-tight",e),...t}));xe.displayName="CardTitle";const Mf=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("text-sm text-muted-foreground",e),...t}));Mf.displayName="CardDescription";const ne=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("p-6 pt-0",e),...t}));ne.displayName="CardContent";const Of=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("flex items-center p-6 pt-0",e),...t}));Of.displayName="CardFooter";const If=h.createContext({});function x_(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const Al=typeof window<"u",y_=Al?h.useLayoutEffect:h.useEffect,Rl=h.createContext(null);function Ml(e,t){e.indexOf(t)===-1&&e.push(t)}function Ol(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ns=(e,t,s)=>s>t?t:s<e?e:s;let Il=()=>{};const rs={},Ff=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Lf(e){return typeof e=="object"&&e!==null}const $f=e=>/^0[^.\s]+$/u.test(e);function Fl(e){let t;return()=>(t===void 0&&(t=e()),t)}const vt=e=>e,v_=(e,t)=>s=>t(e(s)),Nr=(...e)=>e.reduce(v_),nr=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class Ll{constructor(){this.subscriptions=[]}add(t){return Ml(this.subscriptions,t),()=>Ol(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let o=0;o<a;o++){const i=this.subscriptions[o];i&&i(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zt=e=>e*1e3,yt=e=>e/1e3;function Vf(e,t){return t?e*(1e3/t):0}const Bf=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,b_=1e-7,w_=12;function j_(e,t,s,r,a){let o,i,l=0;do i=t+(s-t)/2,o=Bf(i,r,a)-e,o>0?s=i:t=i;while(Math.abs(o)>b_&&++l<w_);return i}function _r(e,t,s,r){if(e===t&&s===r)return vt;const a=o=>j_(o,0,1,e,s);return o=>o===0||o===1?o:Bf(a(o),t,r)}const Uf=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zf=e=>t=>1-e(1-t),Wf=_r(.33,1.53,.69,.99),$l=zf(Wf),Hf=Uf($l),qf=e=>(e*=2)<1?.5*$l(e):.5*(2-Math.pow(2,-10*(e-1))),Vl=e=>1-Math.sin(Math.acos(e)),Gf=zf(Vl),Yf=Uf(Vl),N_=_r(.42,0,1,1),__=_r(0,0,.58,1),Kf=_r(.42,0,.58,1),S_=e=>Array.isArray(e)&&typeof e[0]!="number",Xf=e=>Array.isArray(e)&&typeof e[0]=="number",C_={linear:vt,easeIn:N_,easeInOut:Kf,easeOut:__,circIn:Vl,circInOut:Yf,circOut:Gf,backIn:$l,backInOut:Hf,backOut:Wf,anticipate:qf},k_=e=>typeof e=="string",Rd=e=>{if(Xf(e)){Il(e.length===4);const[t,s,r,a]=e;return _r(t,s,r,a)}else if(k_(e))return C_[e];return e},Hr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function P_(e,t){let s=new Set,r=new Set,a=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){i.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,m=!1,f=!1)=>{const x=f&&a?s:r;return m&&i.add(u),x.has(u)||x.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(l=u,a){o=!0;return}a=!0,[s,r]=[r,s],s.forEach(c),s.clear(),a=!1,o&&(o=!1,d.process(u))}};return d}const E_=40;function Jf(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>s=!0,i=Hr.reduce((b,S)=>(b[S]=P_(o),b),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:m,preRender:f,render:y,postRender:x}=i,p=()=>{const b=rs.useManualTiming?a.timestamp:performance.now();s=!1,rs.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(b-a.timestamp,E_),1)),a.timestamp=b,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),m.process(a),f.process(a),y.process(a),x.process(a),a.isProcessing=!1,s&&t&&(r=!1,e(p))},g=()=>{s=!0,r=!0,a.isProcessing||e(p)};return{schedule:Hr.reduce((b,S)=>{const _=i[S];return b[S]=(P,k=!1,j=!1)=>(s||g(),_.schedule(P,k,j)),b},{}),cancel:b=>{for(let S=0;S<Hr.length;S++)i[Hr[S]].cancel(b)},state:a,steps:i}}const{schedule:Pe,cancel:vs,state:Be,steps:Ao}=Jf(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0);let ta;function T_(){ta=void 0}const tt={now:()=>(ta===void 0&&tt.set(Be.isProcessing||rs.useManualTiming?Be.timestamp:performance.now()),ta),set:e=>{ta=e,queueMicrotask(T_)}},Zf=e=>t=>typeof t=="string"&&t.startsWith(e),Bl=Zf("--"),D_=Zf("var(--"),Ul=e=>D_(e)?A_.test(e.split("/*")[0].trim()):!1,A_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,En={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rr={...En,transform:e=>ns(0,1,e)},qr={...En,default:1},Wn=e=>Math.round(e*1e5)/1e5,zl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R_(e){return e==null}const M_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wl=(e,t)=>s=>!!(typeof s=="string"&&M_.test(s)&&s.startsWith(e)||t&&!R_(s)&&Object.prototype.hasOwnProperty.call(s,t)),Qf=(e,t,s)=>r=>{if(typeof r!="string")return r;const[a,o,i,l]=r.match(zl);return{[e]:parseFloat(a),[t]:parseFloat(o),[s]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},O_=e=>ns(0,255,e),Ro={...En,transform:e=>Math.round(O_(e))},Ds={test:Wl("rgb","red"),parse:Qf("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Ro.transform(e)+", "+Ro.transform(t)+", "+Ro.transform(s)+", "+Wn(rr.transform(r))+")"};function I_(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const _i={test:Wl("#"),parse:I_,transform:Ds.transform},Sr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),us=Sr("deg"),Wt=Sr("%"),oe=Sr("px"),F_=Sr("vh"),L_=Sr("vw"),Md={...Wt,parse:e=>Wt.parse(e)/100,transform:e=>Wt.transform(e*100)},nn={test:Wl("hsl","hue"),parse:Qf("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Wt.transform(Wn(t))+", "+Wt.transform(Wn(s))+", "+Wn(rr.transform(r))+")"},Me={test:e=>Ds.test(e)||_i.test(e)||nn.test(e),parse:e=>Ds.test(e)?Ds.parse(e):nn.test(e)?nn.parse(e):_i.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ds.transform(e):nn.transform(e),getAnimatableNone:e=>{const t=Me.parse(e);return t.alpha=0,Me.transform(t)}},$_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V_(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(zl))==null?void 0:t.length)||0)+(((s=e.match($_))==null?void 0:s.length)||0)>0}const ep="number",tp="color",B_="var",U_="var(",Od="${}",z_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ar(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},a=[];let o=0;const l=t.replace(z_,c=>(Me.test(c)?(r.color.push(o),a.push(tp),s.push(Me.parse(c))):c.startsWith(U_)?(r.var.push(o),a.push(B_),s.push(c)):(r.number.push(o),a.push(ep),s.push(parseFloat(c))),++o,Od)).split(Od);return{values:s,split:l,indexes:r,types:a}}function sp(e){return ar(e).values}function np(e){const{split:t,types:s}=ar(e),r=t.length;return a=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],a[i]!==void 0){const l=s[i];l===ep?o+=Wn(a[i]):l===tp?o+=Me.transform(a[i]):o+=a[i]}return o}}const W_=e=>typeof e=="number"?0:Me.test(e)?Me.getAnimatableNone(e):e;function H_(e){const t=sp(e);return np(e)(t.map(W_))}const bs={test:V_,parse:sp,createTransformer:np,getAnimatableNone:H_};function Mo(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function q_({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,o=0,i=0;if(!t)a=o=i=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=Mo(c,l,e+1/3),o=Mo(c,l,e),i=Mo(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function ya(e,t){return s=>s>0?t:e}const Te=(e,t,s)=>e+(t-e)*s,Oo=(e,t,s)=>{const r=e*e,a=s*(t*t-r)+r;return a<0?0:Math.sqrt(a)},G_=[_i,Ds,nn],Y_=e=>G_.find(t=>t.test(e));function Id(e){const t=Y_(e);if(!t)return!1;let s=t.parse(e);return t===nn&&(s=q_(s)),s}const Fd=(e,t)=>{const s=Id(e),r=Id(t);if(!s||!r)return ya(e,t);const a={...s};return o=>(a.red=Oo(s.red,r.red,o),a.green=Oo(s.green,r.green,o),a.blue=Oo(s.blue,r.blue,o),a.alpha=Te(s.alpha,r.alpha,o),Ds.transform(a))},Si=new Set(["none","hidden"]);function K_(e,t){return Si.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function X_(e,t){return s=>Te(e,t,s)}function Hl(e){return typeof e=="number"?X_:typeof e=="string"?Ul(e)?ya:Me.test(e)?Fd:Q_:Array.isArray(e)?rp:typeof e=="object"?Me.test(e)?Fd:J_:ya}function rp(e,t){const s=[...e],r=s.length,a=e.map((o,i)=>Hl(o)(o,t[i]));return o=>{for(let i=0;i<r;i++)s[i]=a[i](o);return s}}function J_(e,t){const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Hl(e[a])(e[a],t[a]));return a=>{for(const o in r)s[o]=r[o](a);return s}}function Z_(e,t){const s=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],i=e.indexes[o][r[o]],l=e.values[i]??0;s[a]=l,r[o]++}return s}const Q_=(e,t)=>{const s=bs.createTransformer(t),r=ar(e),a=ar(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Si.has(e)&&!a.values.length||Si.has(t)&&!r.values.length?K_(e,t):Nr(rp(Z_(r,a),a.values),s):ya(e,t)};function ap(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Te(e,t,s):Hl(e)(e,t)}const eS=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Pe.update(t,s),stop:()=>vs(t),now:()=>Be.isProcessing?Be.timestamp:tt.now()}},op=(e,t,s=10)=>{let r="";const a=Math.max(Math.round(t/s),2);for(let o=0;o<a;o++)r+=Math.round(e(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},va=2e4;function ql(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<va;)t+=s,r=e.next(t);return t>=va?1/0:t}function tS(e,t=100,s){const r=s({...e,keyframes:[0,t]}),a=Math.min(ql(r),va);return{type:"keyframes",ease:o=>r.next(a*o).value/t,duration:yt(a)}}const sS=5;function ip(e,t,s){const r=Math.max(t-sS,0);return Vf(s-e(r),t-r)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Io=.001;function nS({duration:e=De.duration,bounce:t=De.bounce,velocity:s=De.velocity,mass:r=De.mass}){let a,o,i=1-t;i=ns(De.minDamping,De.maxDamping,i),e=ns(De.minDuration,De.maxDuration,yt(e)),i<1?(a=d=>{const u=d*i,m=u*e,f=u-s,y=Ci(d,i),x=Math.exp(-m);return Io-f/y*x},o=d=>{const m=d*i*e,f=m*s+s,y=Math.pow(i,2)*Math.pow(d,2)*e,x=Math.exp(-m),p=Ci(Math.pow(d,2),i);return(-a(d)+Io>0?-1:1)*((f-y)*x)/p}):(a=d=>{const u=Math.exp(-d*e),m=(d-s)*e+1;return-Io+u*m},o=d=>{const u=Math.exp(-d*e),m=(s-d)*(e*e);return u*m});const l=5/e,c=aS(a,o,l);if(e=zt(e),isNaN(c))return{stiffness:De.stiffness,damping:De.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:i*2*Math.sqrt(r*d),duration:e}}}const rS=12;function aS(e,t,s){let r=s;for(let a=1;a<rS;a++)r=r-e(r)/t(r);return r}function Ci(e,t){return e*Math.sqrt(1-t*t)}const oS=["duration","bounce"],iS=["stiffness","damping","mass"];function Ld(e,t){return t.some(s=>e[s]!==void 0)}function lS(e){let t={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...e};if(!Ld(e,iS)&&Ld(e,oS))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),a=r*r,o=2*ns(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:De.mass,stiffness:a,damping:o}}else{const s=nS(e);t={...t,...s,mass:De.mass},t.isResolvedFromDuration=!0}return t}function ba(e=De.visualDuration,t=De.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=s;const o=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:d,mass:u,duration:m,velocity:f,isResolvedFromDuration:y}=lS({...s,velocity:-yt(s.velocity||0)}),x=f||0,p=d/(2*Math.sqrt(c*u)),g=i-o,v=yt(Math.sqrt(c/u)),w=Math.abs(g)<5;r||(r=w?De.restSpeed.granular:De.restSpeed.default),a||(a=w?De.restDelta.granular:De.restDelta.default);let b;if(p<1){const _=Ci(v,p);b=P=>{const k=Math.exp(-p*v*P);return i-k*((x+p*v*g)/_*Math.sin(_*P)+g*Math.cos(_*P))}}else if(p===1)b=_=>i-Math.exp(-v*_)*(g+(x+v*g)*_);else{const _=v*Math.sqrt(p*p-1);b=P=>{const k=Math.exp(-p*v*P),j=Math.min(_*P,300);return i-k*((x+p*v*g)*Math.sinh(j)+_*g*Math.cosh(j))/_}}const S={calculatedDuration:y&&m||null,next:_=>{const P=b(_);if(y)l.done=_>=m;else{let k=_===0?x:0;p<1&&(k=_===0?zt(x):ip(b,_,P));const j=Math.abs(k)<=r,E=Math.abs(i-P)<=a;l.done=j&&E}return l.value=l.done?i:P,l},toString:()=>{const _=Math.min(ql(S),va),P=op(k=>S.next(_*k).value,_,30);return _+"ms "+P},toTransition:()=>{}};return S}ba.applyToOptions=e=>{const t=tS(e,100,ba);return e.ease=t.ease,e.duration=zt(t.duration),e.type="keyframes",e};function ki({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}){const m=e[0],f={done:!1,value:m},y=j=>l!==void 0&&j<l||c!==void 0&&j>c,x=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let p=s*t;const g=m+p,v=i===void 0?g:i(g);v!==g&&(p=v-m);const w=j=>-p*Math.exp(-j/r),b=j=>v+w(j),S=j=>{const E=w(j),B=b(j);f.done=Math.abs(E)<=d,f.value=f.done?v:B};let _,P;const k=j=>{y(f.value)&&(_=j,P=ba({keyframes:[f.value,x(f.value)],velocity:ip(b,j,f.value),damping:a,stiffness:o,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:j=>{let E=!1;return!P&&_===void 0&&(E=!0,S(j),k(j)),_!==void 0&&j>=_?P.next(j-_):(!E&&S(j),f)}}}function cS(e,t,s){const r=[],a=s||rs.mix||ap,o=e.length-1;for(let i=0;i<o;i++){let l=a(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||vt:t;l=Nr(c,l)}r.push(l)}return r}function dS(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const o=e.length;if(Il(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=cS(t,r,a),c=l.length,d=u=>{if(i&&u<e[0])return t[0];let m=0;if(c>1)for(;m<e.length-2&&!(u<e[m+1]);m++);const f=nr(e[m],e[m+1],u);return l[m](f)};return s?u=>d(ns(e[0],e[o-1],u)):d}function uS(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=nr(0,t,r);e.push(Te(s,1,a))}}function mS(e){const t=[0];return uS(t,e.length-1),t}function hS(e,t){return e.map(s=>s*t)}function fS(e,t){return e.map(()=>t||Kf).splice(0,e.length-1)}function Hn({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=S_(r)?r.map(Rd):Rd(r),o={done:!1,value:t[0]},i=hS(s&&s.length===t.length?s:mS(t),e),l=dS(i,t,{ease:Array.isArray(a)?a:fS(t,a)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const pS=e=>e!==null;function Gl(e,{repeat:t,repeatType:s="loop"},r,a=1){const o=e.filter(pS),l=a<0||t&&s!=="loop"&&t%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const gS={decay:ki,inertia:ki,tween:Hn,keyframes:Hn,spring:ba};function lp(e){typeof e.type=="string"&&(e.type=gS[e.type])}class Yl{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const xS=e=>e/100;class Kl extends Yl{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:s}=this.options;s&&s.updatedAt!==tt.now()&&this.tick(tt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;lp(t);const{type:s=Hn,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:i=0}=t;let{keyframes:l}=t;const c=s||Hn;c!==Hn&&typeof l[0]!="number"&&(this.mixKeyframes=Nr(xS,ap(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=ql(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:m,repeatType:f,repeatDelay:y,type:x,onUpdate:p,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,S=r;if(m){const j=Math.min(this.currentTime,a)/l;let E=Math.floor(j),B=j%1;!B&&j>=1&&(B=1),B===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(f==="reverse"?(B=1-B,y&&(B-=y/l)):f==="mirror"&&(S=i)),b=ns(0,1,B)*l}const _=w?{done:!1,value:u[0]}:S.next(b);o&&(_.value=o(_.value));let{done:P}=_;!w&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return k&&x!==ki&&(_.value=Gl(u,this.options,g,this.speed)),p&&p(_.value),k&&this.finish(),_}then(t,s){return this.finished.then(t,s)}get duration(){return yt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+yt(t)}get time(){return yt(this.currentTime)}set time(t){var s;t=zt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(tt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=yt(this.currentTime))}play(){var a,o;if(this.isStopped)return;const{driver:t=eS,startTime:s}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(o=(a=this.options).onPlay)==null||o.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function yS(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const As=e=>e*180/Math.PI,Pi=e=>{const t=As(Math.atan2(e[1],e[0]));return Ei(t)},vS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Pi,rotateZ:Pi,skewX:e=>As(Math.atan(e[1])),skewY:e=>As(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ei=e=>(e=e%360,e<0&&(e+=360),e),$d=Pi,Vd=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Bd=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),bS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Vd,scaleY:Bd,scale:e=>(Vd(e)+Bd(e))/2,rotateX:e=>Ei(As(Math.atan2(e[6],e[5]))),rotateY:e=>Ei(As(Math.atan2(-e[2],e[0]))),rotateZ:$d,rotate:$d,skewX:e=>As(Math.atan(e[4])),skewY:e=>As(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ti(e){return e.includes("scale")?1:0}function Di(e,t){if(!e||e==="none")return Ti(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(s)r=bS,a=s;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=vS,a=l}if(!a)return Ti(t);const o=r[t],i=a[1].split(",").map(jS);return typeof o=="function"?o(i):i[o]}const wS=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Di(s,t)};function jS(e){return parseFloat(e.trim())}const Tn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dn=new Set(Tn),Ud=e=>e===En||e===oe,NS=new Set(["x","y","z"]),_S=Tn.filter(e=>!NS.has(e));function SS(e){const t=[];return _S.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Os={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Di(t,"x"),y:(e,{transform:t})=>Di(t,"y")};Os.translateX=Os.x;Os.translateY=Os.y;const Is=new Set;let Ai=!1,Ri=!1,Mi=!1;function cp(){if(Ri){const e=Array.from(Is).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const a=SS(r);a.length&&(s.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=s.get(r);a&&a.forEach(([o,i])=>{var l;(l=r.getValue(o))==null||l.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ri=!1,Ai=!1,Is.forEach(e=>e.complete(Mi)),Is.clear()}function dp(){Is.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ri=!0)})}function CS(){Mi=!0,dp(),cp(),Mi=!1}class Xl{constructor(t,s,r,a,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=a,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Is.add(this),Ai||(Ai=!0,Pe.read(dp),Pe.resolveKeyframes(cp))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:a}=this;if(t[0]===null){const o=a==null?void 0:a.get(),i=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&s){const l=r.readValue(s,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),a&&o===void 0&&a.set(t[0])}yS(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Is.delete(this)}cancel(){this.state==="scheduled"&&(Is.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kS=e=>e.startsWith("--");function PS(e,t,s){kS(t)?e.style.setProperty(t,s):e.style[t]=s}const ES=Fl(()=>window.ScrollTimeline!==void 0),TS={};function DS(e,t){const s=Fl(e);return()=>TS[t]??s()}const up=DS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bn=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,zd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bn([0,.65,.55,1]),circOut:Bn([.55,0,1,.45]),backIn:Bn([.31,.01,.66,-.59]),backOut:Bn([.33,1.53,.69,.99])};function mp(e,t){if(e)return typeof e=="function"?up()?op(e,t):"ease-out":Xf(e)?Bn(e):Array.isArray(e)?e.map(s=>mp(s,t)||zd.easeOut):zd[e]}function AS(e,t,s,{delay:r=0,duration:a=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:s};c&&(u.offset=c);const m=mp(l,a);Array.isArray(m)&&(u.easing=m);const f={delay:r,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),e.animate(u,f)}function hp(e){return typeof e=="function"&&"applyToOptions"in e}function RS({type:e,...t}){return hp(e)&&up()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class MS extends Yl{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:a,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=t,Il(typeof t.type!="string");const d=RS(t);this.animation=AS(s,r,a,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=Gl(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):PS(s,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return yt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+yt(t)}get time(){return yt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ES()?(this.animation.timeline=t,vt):s(this)}}const fp={anticipate:qf,backInOut:Hf,circInOut:Yf};function OS(e){return e in fp}function IS(e){typeof e.ease=="string"&&OS(e.ease)&&(e.ease=fp[e.ease])}const Wd=10;class FS extends MS{constructor(t){IS(t),lp(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:a,element:o,...i}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const l=new Kl({...i,autoplay:!1}),c=zt(this.finishedTime??this.time);s.setWithVelocity(l.sample(c-Wd).value,l.sample(c).value,Wd),l.stop()}}const Hd=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bs.test(e)||e==="0")&&!e.startsWith("url("));function LS(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function $S(e,t,s,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=Hd(a,t),l=Hd(o,t);return!i||!l?!1:LS(e)||(s==="spring"||hp(s))&&r}function Oi(e){e.duration=0,e.type="keyframes"}const VS=new Set(["opacity","clipPath","filter","transform"]),BS=Fl(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function US(e){var u;const{motionValue:t,name:s,repeatDelay:r,repeatType:a,damping:o,type:i}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return BS()&&s&&VS.has(s)&&(s!=="transform"||!d)&&!c&&!r&&a!=="mirror"&&o!==0&&i!=="inertia"}const zS=40;class WS extends Yl{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:d,element:u,...m}){var x;super(),this.stop=()=>{var p,g;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=tt.now();const f={autoplay:t,delay:s,type:r,repeat:a,repeatDelay:o,repeatType:i,name:c,motionValue:d,element:u,...m},y=(u==null?void 0:u.KeyframeResolver)||Xl;this.keyframeResolver=new y(l,(p,g,v)=>this.onKeyframesResolved(p,g,f,!v),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,r,a){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:d,onUpdate:u}=r;this.resolvedAt=tt.now(),$S(t,o,i,l)||((rs.instantAnimations||!c)&&(u==null||u(Gl(t,r,s))),t[0]=t[t.length-1],Oi(r),r.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>zS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},y=!d&&US(f)?new FS({...f,element:f.motionValue.owner.current}):new Kl(f);y.finished.then(()=>this.notifyFinished()).catch(vt),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),CS()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const HS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qS(e){const t=HS.exec(e);if(!t)return[,];const[,s,r,a]=t;return[`--${s??r}`,a]}function pp(e,t,s=1){const[r,a]=qS(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const i=o.trim();return Ff(i)?parseFloat(i):i}return Ul(a)?pp(a,t,s+1):a}function Jl(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const gp=new Set(["width","height","top","left","right","bottom",...Tn]),GS={test:e=>e==="auto",parse:e=>e},xp=e=>t=>t.test(e),yp=[En,oe,Wt,us,L_,F_,GS],qd=e=>yp.find(xp(e));function YS(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$f(e):!0}const KS=new Set(["brightness","contrast","saturate","opacity"]);function XS(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(zl)||[];if(!r)return e;const a=s.replace(r,"");let o=KS.has(t)?1:0;return r!==s&&(o*=100),t+"("+o+a+")"}const JS=/\b([a-z-]*)\(.*?\)/gu,Ii={...bs,getAnimatableNone:e=>{const t=e.match(JS);return t?t.map(XS).join(" "):e}},Gd={...En,transform:Math.round},ZS={rotate:us,rotateX:us,rotateY:us,rotateZ:us,scale:qr,scaleX:qr,scaleY:qr,scaleZ:qr,skew:us,skewX:us,skewY:us,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:rr,originX:Md,originY:Md,originZ:oe},Zl={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...ZS,zIndex:Gd,fillOpacity:rr,strokeOpacity:rr,numOctaves:Gd},QS={...Zl,color:Me,backgroundColor:Me,outlineColor:Me,fill:Me,stroke:Me,borderColor:Me,borderTopColor:Me,borderRightColor:Me,borderBottomColor:Me,borderLeftColor:Me,filter:Ii,WebkitFilter:Ii},vp=e=>QS[e];function bp(e,t){let s=vp(e);return s!==Ii&&(s=bs),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const eC=new Set(["auto","none","0"]);function tC(e,t,s){let r=0,a;for(;r<e.length&&!a;){const o=e[r];typeof o=="string"&&!eC.has(o)&&ar(o).values.length&&(a=e[r]),r++}if(a&&s)for(const o of t)e[o]=bp(s,a)}class sC extends Xl{constructor(t,s,r,a,o){super(t,s,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),Ul(d))){const u=pp(d,s.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!gp.has(r)||t.length!==2)return;const[a,o]=t,i=qd(a),l=qd(o);if(i!==l)if(Ud(i)&&Ud(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Os[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||YS(t[a]))&&r.push(a);r.length&&tC(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(s);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,i=r[o];r[o]=Os[s](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function nC(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(s==null?void 0:s[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const wp=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function rC(e){return Lf(e)&&"offsetHeight"in e}const Yd=30,aC=e=>!isNaN(parseFloat(e));class oC{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const a=tt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=tt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aC(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Ll);const r=this.events[t].add(s);return t==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Yd)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Yd);return Vf(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gn(e,t){return new oC(e,t)}const{schedule:Ql}=Jf(queueMicrotask,!1),Nt={x:!1,y:!1};function jp(){return Nt.x||Nt.y}function iC(e){return e==="x"||e==="y"?Nt[e]?null:(Nt[e]=!0,()=>{Nt[e]=!1}):Nt.x||Nt.y?null:(Nt.x=Nt.y=!0,()=>{Nt.x=Nt.y=!1})}function Np(e,t){const s=nC(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[s,a,()=>r.abort()]}function Kd(e){return!(e.pointerType==="touch"||jp())}function lC(e,t,s={}){const[r,a,o]=Np(e,s),i=l=>{if(!Kd(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=m=>{Kd(m)&&(d(m),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return r.forEach(l=>{l.addEventListener("pointerenter",i,a)}),o}const _p=(e,t)=>t?e===t?!0:_p(e,t.parentElement):!1,ec=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,cC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dC(e){return cC.has(e.tagName)||e.tabIndex!==-1}const sa=new WeakSet;function Xd(e){return t=>{t.key==="Enter"&&e(t)}}function Fo(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const uC=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=Xd(()=>{if(sa.has(s))return;Fo(s,"down");const a=Xd(()=>{Fo(s,"up")}),o=()=>Fo(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",o,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function Jd(e){return ec(e)&&!jp()}function mC(e,t,s={}){const[r,a,o]=Np(e,s),i=l=>{const c=l.currentTarget;if(!Jd(l))return;sa.add(c);const d=t(c,l),u=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),sa.has(c)&&sa.delete(c),Jd(y)&&typeof d=="function"&&d(y,{success:x})},m=y=>{u(y,c===window||c===document||s.useGlobalTarget||_p(c,y.target))},f=y=>{u(y,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",f,a)};return r.forEach(l=>{(s.useGlobalTarget?window:l).addEventListener("pointerdown",i,a),rC(l)&&(l.addEventListener("focus",d=>uC(d,a)),!dC(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function Sp(e){return Lf(e)&&"ownerSVGElement"in e}function hC(e){return Sp(e)&&e.tagName==="svg"}const qe=e=>!!(e&&e.getVelocity),fC=[...yp,Me,bs],pC=e=>fC.find(xp(e)),Cp=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function gC(e=!0){const t=h.useContext(Rl);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=t,o=h.useId();h.useEffect(()=>{if(e)return a(o)},[e]);const i=h.useCallback(()=>e&&r&&r(o),[o,r,e]);return!s&&r?[!1,i]:[!0]}const kp=h.createContext({strict:!1}),Zd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xn={};for(const e in Zd)xn[e]={isEnabled:t=>Zd[e].some(s=>!!t[s])};function xC(e){for(const t in e)xn[t]={...xn[t],...e[t]}}const yC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wa(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yC.has(e)}let Pp=e=>!wa(e);function vC(e){typeof e=="function"&&(Pp=t=>t.startsWith("on")?!wa(t):e(t))}try{vC(require("@emotion/is-prop-valid").default)}catch{}function bC(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(Pp(a)||s===!0&&wa(a)||!t&&!wa(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const eo=h.createContext({});function to(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function or(e){return typeof e=="string"||Array.isArray(e)}const tc=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sc=["initial",...tc];function so(e){return to(e.animate)||sc.some(t=>or(e[t]))}function Ep(e){return!!(so(e)||e.variants)}function wC(e,t){if(so(e)){const{initial:s,animate:r}=e;return{initial:s===!1||or(s)?s:void 0,animate:or(r)?r:void 0}}return e.inherit!==!1?t:{}}function jC(e){const{initial:t,animate:s}=wC(e,h.useContext(eo));return h.useMemo(()=>({initial:t,animate:s}),[Qd(t),Qd(s)])}function Qd(e){return Array.isArray(e)?e.join(" "):e}const ir={};function NC(e){for(const t in e)ir[t]=e[t],Bl(t)&&(ir[t].isCSSVariable=!0)}function Tp(e,{layout:t,layoutId:s}){return Dn.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!ir[e]||e==="opacity")}const _C={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SC=Tn.length;function CC(e,t,s){let r="",a=!0;for(let o=0;o<SC;o++){const i=Tn[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||s){const d=wp(l,Zl[i]);if(!c){a=!1;const u=_C[i]||i;r+=`${u}(${d}) `}s&&(t[i]=d)}}return r=r.trim(),s?r=s(t,a?"":r):a&&(r="none"),r}function nc(e,t,s){const{style:r,vars:a,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const d=t[c];if(Dn.has(c)){i=!0;continue}else if(Bl(c)){a[c]=d;continue}else{const u=wp(d,Zl[c]);c.startsWith("origin")?(l=!0,o[c]=u):r[c]=u}}if(t.transform||(i||s?r.transform=CC(t,e.transform,s):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=o;r.transformOrigin=`${c} ${d} ${u}`}}const rc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dp(e,t,s){for(const r in t)!qe(t[r])&&!Tp(r,s)&&(e[r]=t[r])}function kC({transformTemplate:e},t){return h.useMemo(()=>{const s=rc();return nc(s,t,e),Object.assign({},s.vars,s.style)},[t])}function PC(e,t){const s=e.style||{},r={};return Dp(r,s,e),Object.assign(r,kC(e,t)),r}function EC(e,t){const s={},r=PC(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const TC={offset:"stroke-dashoffset",array:"stroke-dasharray"},DC={offset:"strokeDashoffset",array:"strokeDasharray"};function AC(e,t,s=1,r=0,a=!0){e.pathLength=1;const o=a?TC:DC;e[o.offset]=oe.transform(-r);const i=oe.transform(t),l=oe.transform(s);e[o.array]=`${i} ${l}`}function Ap(e,{attrX:t,attrY:s,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:i=0,...l},c,d,u){if(nc(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:f}=e;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),a!==void 0&&AC(m,a,o,i,!1)}const Rp=()=>({...rc(),attrs:{}}),Mp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function RC(e,t,s,r){const a=h.useMemo(()=>{const o=Rp();return Ap(o,t,Mp(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Dp(o,e.style,e),a.style={...o,...a.style}}return a}const MC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ac(e){return typeof e!="string"||e.includes("-")?!1:!!(MC.indexOf(e)>-1||/[A-Z]/u.test(e))}function OC(e,t,s,{latestValues:r},a,o=!1){const l=(ac(e)?RC:EC)(t,r,a,e),c=bC(t,typeof e=="string",o),d=e!==h.Fragment?{...c,...l,ref:s}:{},{children:u}=t,m=h.useMemo(()=>qe(u)?u.get():u,[u]);return h.createElement(e,{...d,children:m})}function eu(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function oc(e,t,s,r){if(typeof t=="function"){const[a,o]=eu(r);t=t(s!==void 0?s:e.custom,a,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,o]=eu(r);t=t(s!==void 0?s:e.custom,a,o)}return t}function na(e){return qe(e)?e.get():e}function IC({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,a){return{latestValues:FC(s,r,a,e),renderState:t()}}function FC(e,t,s,r){const a={},o=r(e,{});for(const f in o)a[f]=na(o[f]);let{initial:i,animate:l}=e;const c=so(e),d=Ep(e);t&&d&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let u=s?s.initial===!1:!1;u=u||i===!1;const m=u?l:i;if(m&&typeof m!="boolean"&&!to(m)){const f=Array.isArray(m)?m:[m];for(let y=0;y<f.length;y++){const x=oc(e,f[y]);if(x){const{transitionEnd:p,transition:g,...v}=x;for(const w in v){let b=v[w];if(Array.isArray(b)){const S=u?b.length-1:0;b=b[S]}b!==null&&(a[w]=b)}for(const w in p)a[w]=p[w]}}}return a}const Op=e=>(t,s)=>{const r=h.useContext(eo),a=h.useContext(Rl),o=()=>IC(e,t,r,a);return s?o():x_(o)};function ic(e,t,s){var o;const{style:r}=e,a={};for(const i in r)(qe(r[i])||t.style&&qe(t.style[i])||Tp(i,e)||((o=s==null?void 0:s.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(a[i]=r[i]);return a}const LC=Op({scrapeMotionValuesFromProps:ic,createRenderState:rc});function Ip(e,t,s){const r=ic(e,t,s);for(const a in e)if(qe(e[a])||qe(t[a])){const o=Tn.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=e[a]}return r}const $C=Op({scrapeMotionValuesFromProps:Ip,createRenderState:Rp}),VC=Symbol.for("motionComponentSymbol");function rn(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function BC(e,t,s){return h.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):rn(s)&&(s.current=r))},[t])}const lc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UC="framerAppearId",Fp="data-"+lc(UC),Lp=h.createContext({});function zC(e,t,s,r,a){var p,g;const{visualElement:o}=h.useContext(eo),i=h.useContext(kp),l=h.useContext(Rl),c=h.useContext(Cp).reducedMotion,d=h.useRef(null);r=r||i.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:o,props:s,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,m=h.useContext(Lp);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&WC(d.current,s,a,m);const f=h.useRef(!1);h.useInsertionEffect(()=>{u&&f.current&&u.update(s,l)});const y=s[Fp],x=h.useRef(!!y&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,y))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,y)));return y_(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,y)}),x.current=!1),u.enteringChildren=void 0)}),u}function WC(e,t,s,r){const{layoutId:a,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:$p(e.parent)),e.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!i||l&&rn(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:d})}function $p(e){if(e)return e.options.allowProjection!==!1?e.projection:$p(e.parent)}function Lo(e,{forwardMotionProps:t=!1}={},s,r){s&&xC(s);const a=ac(e)?$C:LC;function o(l,c){let d;const u={...h.useContext(Cp),...l,layoutId:HC(l)},{isStatic:m}=u,f=jC(l),y=a(l,m);if(!m&&Al){qC();const x=GC(u);d=x.MeasureLayout,f.visualElement=zC(e,y,u,r,x.ProjectionNode)}return n.jsxs(eo.Provider,{value:f,children:[d&&f.visualElement?n.jsx(d,{visualElement:f.visualElement,...u}):null,OC(e,l,BC(y,f.visualElement,c),y,m,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const i=h.forwardRef(o);return i[VC]=e,i}function HC({layoutId:e}){const t=h.useContext(If).id;return t&&e!==void 0?t+"-"+e:e}function qC(e,t){h.useContext(kp).strict}function GC(e){const{drag:t,layout:s}=xn;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function YC(e,t){if(typeof Proxy>"u")return Lo;const s=new Map,r=(o,i)=>Lo(o,i,e,t),a=(o,i)=>r(o,i);return new Proxy(a,{get:(o,i)=>i==="create"?r:(s.has(i)||s.set(i,Lo(i,void 0,e,t)),s.get(i))})}function Vp({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function KC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XC(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function $o(e){return e===void 0||e===1}function Fi({scale:e,scaleX:t,scaleY:s}){return!$o(e)||!$o(t)||!$o(s)}function Ps(e){return Fi(e)||Bp(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Bp(e){return tu(e.x)||tu(e.y)}function tu(e){return e&&e!=="0%"}function ja(e,t,s){const r=e-s,a=t*r;return s+a}function su(e,t,s,r,a){return a!==void 0&&(e=ja(e,a,r)),ja(e,s,r)+t}function Li(e,t=0,s=1,r,a){e.min=su(e.min,t,s,r,a),e.max=su(e.max,t,s,r,a)}function Up(e,{x:t,y:s}){Li(e.x,t.translate,t.scale,t.originPoint),Li(e.y,s.translate,s.scale,s.originPoint)}const nu=.999999999999,ru=1.0000000000001;function JC(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let o,i;for(let l=0;l<a;l++){o=s[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&on(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Up(e,i)),r&&Ps(o.latestValues)&&on(e,o.latestValues))}t.x<ru&&t.x>nu&&(t.x=1),t.y<ru&&t.y>nu&&(t.y=1)}function an(e,t){e.min=e.min+t,e.max=e.max+t}function au(e,t,s,r,a=.5){const o=Te(e.min,e.max,a);Li(e,t,s,o,r)}function on(e,t){au(e.x,t.x,t.scaleX,t.scale,t.originX),au(e.y,t.y,t.scaleY,t.scale,t.originY)}function zp(e,t){return Vp(XC(e.getBoundingClientRect(),t))}function ZC(e,t,s){const r=zp(e,s),{scroll:a}=t;return a&&(an(r.x,a.offset.x),an(r.y,a.offset.y)),r}const ou=()=>({translate:0,scale:1,origin:0,originPoint:0}),ln=()=>({x:ou(),y:ou()}),iu=()=>({min:0,max:0}),Re=()=>({x:iu(),y:iu()}),$i={current:null},Wp={current:!1};function QC(){if(Wp.current=!0,!!Al)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>$i.current=e.matches;e.addEventListener("change",t),t()}else $i.current=!1}const ek=new WeakMap;function tk(e,t,s){for(const r in t){const a=t[r],o=s[r];if(qe(a))e.addValue(r,a);else if(qe(o))e.addValue(r,gn(a,{owner:e}));else if(o!==a)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(r);e.addValue(r,gn(i!==void 0?i:a,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const lu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sk{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=tt.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Pe.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=s.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=so(s),this.isVariantNode=Ep(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in m){const y=m[f];c[f]!==void 0&&qe(y)&&y.set(c[f])}}mount(t){var s;this.current=t,ek.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),Wp.current||QC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$i.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),vs(this.notifyUpdate),vs(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Dn.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xn){const s=xn[t];if(!s)continue;const{isEnabled:r,Feature:a}=s;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<lu.length;r++){const a=lu[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,i=t[o];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=tk(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=gn(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Ff(r)||$f(r))?r=parseFloat(r):!pC(r)&&bs.test(s)&&(r=bp(t,s)),this.setBaseTarget(t,qe(r)?r.get():r)),qe(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var o;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const i=oc(this.props,s,(o=this.presenceContext)==null?void 0:o.custom);i&&(r=i[t])}if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!qe(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Ll),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Ql.render(this.render)}}class Hp extends sk{constructor(){super(...arguments),this.KeyframeResolver=sC}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function qp(e,{style:t,vars:s},r,a){const o=e.style;let i;for(i in t)o[i]=t[i];a==null||a.applyProjectionStyles(o,r);for(i in s)o.setProperty(i,s[i])}function nk(e){return window.getComputedStyle(e)}class rk extends Hp{constructor(){super(...arguments),this.type="html",this.renderInstance=qp}readValueFromInstance(t,s){var r;if(Dn.has(s))return(r=this.projection)!=null&&r.isProjecting?Ti(s):wS(t,s);{const a=nk(t),o=(Bl(s)?a.getPropertyValue(s):a[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return zp(t,s)}build(t,s,r){nc(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return ic(t,s,r)}}const Gp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ak(e,t,s,r){qp(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Gp.has(a)?a:lc(a),t.attrs[a])}class ok extends Hp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Dn.has(s)){const r=vp(s);return r&&r.default||0}return s=Gp.has(s)?s:lc(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return Ip(t,s,r)}build(t,s,r){Ap(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,a){ak(t,s,r,a)}mount(t){this.isSVGTag=Mp(t.tagName),super.mount(t)}}const ik=(e,t)=>ac(e)?new ok(t):new rk(t,{allowProjection:e!==h.Fragment});function un(e,t,s){const r=e.getProps();return oc(r,t,s!==void 0?s:r.custom,e)}const Vi=e=>Array.isArray(e);function lk(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,gn(s))}function ck(e){return Vi(e)?e[e.length-1]||0:e}function dk(e,t){const s=un(e,t);let{transitionEnd:r={},transition:a={},...o}=s||{};o={...o,...r};for(const i in o){const l=ck(o[i]);lk(e,i,l)}}function uk(e){return!!(qe(e)&&e.add)}function Bi(e,t){const s=e.getValue("willChange");if(uk(s))return s.add(t);if(!s&&rs.WillChange){const r=new rs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Yp(e){return e.props[Fp]}const mk=e=>e!==null;function hk(e,{repeat:t,repeatType:s="loop"},r){const a=e.filter(mk),o=t&&s!=="loop"&&t%2===1?0:a.length-1;return a[o]}const fk={type:"spring",stiffness:500,damping:25,restSpeed:10},pk=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gk={type:"keyframes",duration:.8},xk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yk=(e,{keyframes:t})=>t.length>2?gk:Dn.has(e)?e.startsWith("scale")?pk(t[1]):fk:xk;function vk({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const cc=(e,t,s,r={},a,o)=>i=>{const l=Jl(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-zt(c);const u={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:a};vk(l)||Object.assign(u,yk(e,u)),u.duration&&(u.duration=zt(u.duration)),u.repeatDelay&&(u.repeatDelay=zt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Oi(u),u.delay===0&&(m=!0)),(rs.instantAnimations||rs.skipAnimations)&&(m=!0,Oi(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,m&&!o&&t.get()!==void 0){const f=hk(u.keyframes,l);if(f!==void 0){Pe.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new Kl(u):new WS(u)};function bk({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function Kp(e,t,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;r&&(o=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const m=e.getValue(u,e.latestValues[u]??null),f=l[u];if(f===void 0||d&&bk(d,u))continue;const y={delay:s,...Jl(o||{},u)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(f)&&f===x&&!y.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const v=Yp(e);if(v){const w=window.MotionHandoffAnimation(v,u,Pe);w!==null&&(y.startTime=w,p=!0)}}Bi(e,u),m.start(cc(u,m,f,e.shouldReduceMotion&&gp.has(u)?{type:!1}:y,e,p));const g=m.animation;g&&c.push(g)}return i&&Promise.all(c).then(()=>{Pe.update(()=>{i&&dk(e,i)})}),c}function Xp(e,t,s,r=0,a=1){const o=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),i=e.size,l=(i-1)*r;return typeof s=="function"?s(o,i):a===1?o*r:l-o*r}function Ui(e,t,s={}){var c;const r=un(e,t,s.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const o=r?()=>Promise.all(Kp(e,r,s)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:f}=a;return wk(e,t,d,u,m,f,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[o,i]:[i,o];return d().then(()=>u())}else return Promise.all([o(),i(s.delay)])}function wk(e,t,s=0,r=0,a=0,o=1,i){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Ui(c,t,{...i,delay:s+(typeof r=="function"?0:r)+Xp(e.variantChildren,c,r,a,o)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function jk(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(o=>Ui(e,o,s));r=Promise.all(a)}else if(typeof t=="string")r=Ui(e,t,s);else{const a=typeof t=="function"?un(e,t,s.custom):t;r=Promise.all(Kp(e,a,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Jp(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Nk=sc.length;function Zp(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Zp(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Nk;s++){const r=sc[s],a=e.props[r];(or(a)||a===!1)&&(t[r]=a)}return t}const _k=[...tc].reverse(),Sk=tc.length;function Ck(e){return t=>Promise.all(t.map(({animation:s,options:r})=>jk(e,s,r)))}function kk(e){let t=Ck(e),s=cu(),r=!0;const a=c=>(d,u)=>{var f;const m=un(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(m){const{transition:y,transitionEnd:x,...p}=m;d={...d,...p,...x}}return d};function o(c){t=c(e)}function i(c){const{props:d}=e,u=Zp(e.parent)||{},m=[],f=new Set;let y={},x=1/0;for(let g=0;g<Sk;g++){const v=_k[g],w=s[v],b=d[v]!==void 0?d[v]:u[v],S=or(b),_=v===c?w.isActive:null;_===!1&&(x=g);let P=b===u[v]&&b!==d[v]&&S;if(P&&r&&e.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...y},!w.isActive&&_===null||!b&&!w.prevProp||to(b)||typeof b=="boolean")continue;const k=Pk(w.prevProp,b);let j=k||v===c&&w.isActive&&!P&&S||g>x&&S,E=!1;const B=Array.isArray(b)?b:[b];let I=B.reduce(a(v),{});_===!1&&(I={});const{prevResolvedValues:R={}}=w,O={...R,...I},$=C=>{j=!0,f.has(C)&&(E=!0,f.delete(C)),w.needsAnimating[C]=!0;const N=e.getValue(C);N&&(N.liveStyle=!1)};for(const C in O){const N=I[C],A=R[C];if(y.hasOwnProperty(C))continue;let M=!1;Vi(N)&&Vi(A)?M=!Jp(N,A):M=N!==A,M?N!=null?$(C):f.add(C):N!==void 0&&f.has(C)?$(C):w.protectedKeys[C]=!0}w.prevProp=b,w.prevResolvedValues=I,w.isActive&&(y={...y,...I}),r&&e.blockInitialAnimation&&(j=!1);const T=P&&k;j&&(!T||E)&&m.push(...B.map(C=>{const N={type:v};if(typeof C=="string"&&r&&!T&&e.manuallyAnimateOnMount&&e.parent){const{parent:A}=e,M=un(A,C);if(A.enteringChildren&&M){const{delayChildren:L}=M.transition||{};N.delay=Xp(A.enteringChildren,e,L)}}return{animation:C,options:N}}))}if(f.size){const g={};if(typeof d.initial!="boolean"){const v=un(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(g.transition=v.transition)}f.forEach(v=>{const w=e.getBaseTarget(v),b=e.getValue(v);b&&(b.liveStyle=!0),g[v]=w??null}),m.push({animation:g})}let p=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(m):Promise.resolve()}function l(c,d){var m;if(s[c].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(f=>{var y;return(y=f.animationState)==null?void 0:y.setActive(c,d)}),s[c].isActive=d;const u=i(c);for(const f in s)s[f].protectedKeys={};return u}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>s,reset:()=>{s=cu()}}}function Pk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Jp(t,e):!1}function Cs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cu(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}class ws{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Ek extends ws{constructor(t){super(t),t.animationState||(t.animationState=kk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();to(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Tk=0;class Dk extends ws{constructor(){super(...arguments),this.id=Tk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ak={animation:{Feature:Ek},exit:{Feature:Dk}};function lr(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Cr(e){return{point:{x:e.pageX,y:e.pageY}}}const Rk=e=>t=>ec(t)&&e(t,Cr(t));function qn(e,t,s,r){return lr(e,t,Rk(s),r)}const Qp=1e-4,Mk=1-Qp,Ok=1+Qp,eg=.01,Ik=0-eg,Fk=0+eg;function Qe(e){return e.max-e.min}function Lk(e,t,s){return Math.abs(e-t)<=s}function du(e,t,s,r=.5){e.origin=r,e.originPoint=Te(t.min,t.max,e.origin),e.scale=Qe(s)/Qe(t),e.translate=Te(s.min,s.max,e.origin)-e.originPoint,(e.scale>=Mk&&e.scale<=Ok||isNaN(e.scale))&&(e.scale=1),(e.translate>=Ik&&e.translate<=Fk||isNaN(e.translate))&&(e.translate=0)}function Gn(e,t,s,r){du(e.x,t.x,s.x,r?r.originX:void 0),du(e.y,t.y,s.y,r?r.originY:void 0)}function uu(e,t,s){e.min=s.min+t.min,e.max=e.min+Qe(t)}function $k(e,t,s){uu(e.x,t.x,s.x),uu(e.y,t.y,s.y)}function mu(e,t,s){e.min=t.min-s.min,e.max=e.min+Qe(t)}function Yn(e,t,s){mu(e.x,t.x,s.x),mu(e.y,t.y,s.y)}function xt(e){return[e("x"),e("y")]}const tg=({current:e})=>e?e.ownerDocument.defaultView:null,hu=(e,t)=>Math.abs(e-t);function Vk(e,t){const s=hu(e.x,t.x),r=hu(e.y,t.y);return Math.sqrt(s**2+r**2)}class sg{constructor(t,s,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Bo(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=Vk(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:p}=f,{timestamp:g}=Be;this.history.push({...p,timestamp:g});const{onStart:v,onMove:w}=this.handlers;y||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,y)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Vo(y,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(f,y)=>{this.end();const{onEnd:x,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Bo(f.type==="pointercancel"?this.lastMoveEventInfo:Vo(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,v),p&&p(f,v)},!ec(t))return;this.dragSnapToOrigin=o,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=i,this.contextWindow=a||window;const l=Cr(t),c=Vo(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Be;this.history=[{...d,timestamp:u}];const{onSessionStart:m}=s;m&&m(t,Bo(c,this.history)),this.removeListeners=Nr(qn(this.contextWindow,"pointermove",this.handlePointerMove),qn(this.contextWindow,"pointerup",this.handlePointerUp),qn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vs(this.updatePoint)}}function Vo(e,t){return t?{point:t(e.point)}:e}function fu(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Bo({point:e},t){return{point:e,delta:fu(e,ng(t)),offset:fu(e,Bk(t)),velocity:Uk(t,.1)}}function Bk(e){return e[0]}function ng(e){return e[e.length-1]}function Uk(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=ng(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>zt(t)));)s--;if(!r)return{x:0,y:0};const o=yt(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function zk(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?Te(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?Te(s,e,r.max):Math.min(e,s)),e}function pu(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function Wk(e,{top:t,left:s,bottom:r,right:a}){return{x:pu(e.x,s,a),y:pu(e.y,t,r)}}function gu(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function Hk(e,t){return{x:gu(e.x,t.x),y:gu(e.y,t.y)}}function qk(e,t){let s=.5;const r=Qe(e),a=Qe(t);return a>r?s=nr(t.min,t.max-r,e.min):r>a&&(s=nr(e.min,e.max-a,t.min)),ns(0,1,s)}function Gk(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const zi=.35;function Yk(e=zi){return e===!1?e=0:e===!0&&(e=zi),{x:xu(e,"left","right"),y:xu(e,"top","bottom")}}function xu(e,t,s){return{min:yu(e,t),max:yu(e,s)}}function yu(e,t){return typeof e=="number"?e:e[t]||0}const Kk=new WeakMap;class Xk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Cr(m).point)},i=(m,f)=>{const{drag:y,dragPropagation:x,onDragStart:p}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iC(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xt(v=>{let w=this.getAxisMotionValue(v).get()||0;if(Wt.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const S=b.layout.layoutBox[v];S&&(w=Qe(S)*(parseFloat(w)/100))}}this.originPoint[v]=w}),p&&Pe.postRender(()=>p(m,f)),Bi(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:p,onDrag:g}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:v}=f;if(x&&this.currentDirection===null){this.currentDirection=Jk(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),g&&g(m,f)},c=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f,this.stop(m,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>xt(m=>{var f;return this.getAnimationState(m)==="paused"&&((f=this.getAxisMotionValue(m).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sg(t,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:tg(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,a=s||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Pe.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!Gr(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=zk(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;t&&rn(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Wk(r.layoutBox,t):this.constraints=!1,this.elastic=Yk(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xt(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Gk(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!rn(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=ZC(r,a.root,this.visualElement.getTransformPagePoint());let i=Hk(a.layout.layoutBox,o);if(s){const l=s(KC(i));this.hasMutatedConstraints=!!l,l&&(i=Vp(l))}return i}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=xt(u=>{if(!Gr(u,s,this.currentDirection))return;let m=c&&c[u]||{};i&&(m={min:0,max:0});const f=a?200:1e6,y=a?40:1e7,x={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Bi(this.visualElement,t),r.start(cc(t,r,0,s,this.visualElement,!1))}stopAnimation(){xt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){xt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){xt(s=>{const{drag:r}=this.getProps();if(!Gr(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(s);if(a&&a.layout){const{min:i,max:l}=a.layout.layoutBox[s];o.set(t[s]-Te(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!rn(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};xt(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();a[i]=qk({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xt(i=>{if(!Gr(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:d}=this.constraints[i];l.set(Te(c,d,a[i]))})}addListeners(){if(!this.visualElement.current)return;Kk.set(this.visualElement,this);const t=this.visualElement.current,s=qn(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();rn(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pe.read(r);const i=lr(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(xt(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=c[u].translate,m.set(m.get()+c[u].translate))}),this.visualElement.render())}));return()=>{i(),s(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:i=zi,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Gr(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Jk(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Zk extends ws{constructor(t){super(t),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new Xk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const vu=e=>(t,s)=>{e&&Pe.postRender(()=>e(t,s))};class Qk extends ws{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(t){this.session=new sg(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tg(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:vu(t),onStart:vu(s),onMove:r,onEnd:(o,i)=>{delete this.session,a&&Pe.postRender(()=>a(o,i))}}}mount(){this.removePointerDownListener=qn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ra={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ln={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(oe.test(e))e=parseFloat(e);else return e;const s=bu(e,t.target.x),r=bu(e,t.target.y);return`${s}% ${r}%`}},eP={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=bs.parse(e);if(a.length>5)return r;const o=bs.createTransformer(e),i=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+i]/=l,a[1+i]/=c;const d=Te(l,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=d),typeof a[3+i]=="number"&&(a[3+i]/=d),o(a)}};let Uo=!1;class tP extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=t;NC(sP),o&&(s.group&&s.group.add(o),r&&r.register&&a&&r.register(o),Uo&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ra.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:o}=this.props,{projection:i}=r;return i&&(i.isPresent=o,Uo=!0,a||t.layoutDependency!==s||s===void 0||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Pe.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ql.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;Uo=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rg(e){const[t,s]=gC(),r=h.useContext(If);return n.jsx(tP,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Lp),isPresent:t,safeToRemove:s})}const sP={borderRadius:{...Ln,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ln,borderTopRightRadius:Ln,borderBottomLeftRadius:Ln,borderBottomRightRadius:Ln,boxShadow:eP};function nP(e,t,s){const r=qe(e)?e:gn(e);return r.start(cc("",r,t,s)),r.animation}const rP=(e,t)=>e.depth-t.depth;class aP{constructor(){this.children=[],this.isDirty=!1}add(t){Ml(this.children,t),this.isDirty=!0}remove(t){Ol(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rP),this.isDirty=!1,this.children.forEach(t)}}function oP(e,t){const s=tt.now(),r=({timestamp:a})=>{const o=a-s;o>=t&&(vs(r),e(o-t))};return Pe.setup(r,!0),()=>vs(r)}const ag=["TopLeft","TopRight","BottomLeft","BottomRight"],iP=ag.length,wu=e=>typeof e=="string"?parseFloat(e):e,ju=e=>typeof e=="number"||oe.test(e);function lP(e,t,s,r,a,o){a?(e.opacity=Te(0,s.opacity??1,cP(r)),e.opacityExit=Te(t.opacity??1,0,dP(r))):o&&(e.opacity=Te(t.opacity??1,s.opacity??1,r));for(let i=0;i<iP;i++){const l=`border${ag[i]}Radius`;let c=Nu(t,l),d=Nu(s,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||ju(c)===ju(d)?(e[l]=Math.max(Te(wu(c),wu(d),r),0),(Wt.test(d)||Wt.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||s.rotate)&&(e.rotate=Te(t.rotate||0,s.rotate||0,r))}function Nu(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cP=og(0,.5,Gf),dP=og(.5,.95,vt);function og(e,t,s){return r=>r<e?0:r>t?1:s(nr(e,t,r))}function _u(e,t){e.min=t.min,e.max=t.max}function gt(e,t){_u(e.x,t.x),_u(e.y,t.y)}function Su(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Cu(e,t,s,r,a){return e-=t,e=ja(e,1/s,r),a!==void 0&&(e=ja(e,1/a,r)),e}function uP(e,t=0,s=1,r=.5,a,o=e,i=e){if(Wt.test(t)&&(t=parseFloat(t),t=Te(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=Te(o.min,o.max,r);e===o&&(l-=t),e.min=Cu(e.min,t,s,l,a),e.max=Cu(e.max,t,s,l,a)}function ku(e,t,[s,r,a],o,i){uP(e,t[s],t[r],t[a],t.scale,o,i)}const mP=["x","scaleX","originX"],hP=["y","scaleY","originY"];function Pu(e,t,s,r){ku(e.x,t,mP,s?s.x:void 0,r?r.x:void 0),ku(e.y,t,hP,s?s.y:void 0,r?r.y:void 0)}function Eu(e){return e.translate===0&&e.scale===1}function ig(e){return Eu(e.x)&&Eu(e.y)}function Tu(e,t){return e.min===t.min&&e.max===t.max}function fP(e,t){return Tu(e.x,t.x)&&Tu(e.y,t.y)}function Du(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lg(e,t){return Du(e.x,t.x)&&Du(e.y,t.y)}function Au(e){return Qe(e.x)/Qe(e.y)}function Ru(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class pP{constructor(){this.members=[]}add(t){Ml(this.members,t),t.scheduleRender()}remove(t){if(Ol(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gP(e,t,s){let r="";const a=e.x.translate/t.x,o=e.y.translate/t.y,i=(s==null?void 0:s.z)||0;if((a||o||i)&&(r=`translate3d(${a}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:d,rotate:u,rotateX:m,rotateY:f,skewX:y,skewY:x}=s;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),m&&(r+=`rotateX(${m}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const zo=["","X","Y","Z"],xP=1e3;let yP=0;function Wo(e,t,s,r){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function cg(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Yp(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Pe,!(a||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&cg(r)}function dg({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},l=t==null?void 0:t()){this.id=yP++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wP),this.nodes.forEach(SP),this.nodes.forEach(CP),this.nodes.forEach(jP)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new aP)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Ll),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=Sp(i)&&!hC(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,m=0;const f=()=>this.root.updateBlockedByResize=!1;Pe.read(()=>{m=window.innerWidth}),e(i,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,u&&u(),u=oP(f,250),ra.hasAnimatedSinceResize&&(ra.hasAnimatedSinceResize=!1,this.nodes.forEach(Iu)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:f,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||DP,{onLayoutAnimationStart:p,onLayoutAnimationComplete:g}=d.getProps(),v=!this.targetLayout||!lg(this.targetLayout,y),w=!m&&f;if(this.options.layoutRoot||this.resumeFrom||w||m&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Jl(x,"layout"),onPlay:p,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,w)}else m||Iu(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kP),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mu);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ou);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_P),this.nodes.forEach(vP),this.nodes.forEach(bP)):this.nodes.forEach(Ou),this.clearAllSnapshots();const l=tt.now();Be.delta=ns(0,1e3/60,l-Be.timestamp),Be.timestamp=l,Be.isProcessing=!0,Ao.update.process(Be),Ao.preRender.process(Be),Ao.render.process(Be),Be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ql.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(NP),this.sharedNodes.forEach(PP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qe(this.snapshot.measuredBox.x)&&!Qe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ig(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;i&&this.instance&&(l||Ps(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),AP(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:i}=this.options;if(!i)return Re();const l=i.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(RP))){const{scroll:u}=this.root;u&&(an(l.x,u.offset.x),an(l.y,u.offset.y))}return l}removeElementScroll(i){var c;const l=Re();if(gt(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:m,options:f}=u;u!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&gt(l,i),an(l.x,m.offset.x),an(l.y,m.offset.y))}return l}applyTransform(i,l=!1){const c=Re();gt(c,i);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&on(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Ps(u.latestValues)&&on(c,u.latestValues)}return Ps(this.latestValues)&&on(c,this.latestValues),c}removeTransform(i){const l=Re();gt(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ps(d.latestValues))continue;Fi(d.latestValues)&&d.updateSnapshot();const u=Re(),m=d.measurePageBox();gt(u,m),Pu(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return Ps(this.latestValues)&&Pu(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=Be.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Yn(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$k(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gt(this.target,this.layout.layoutBox),Up(this.target,this.targetDelta)):gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),Yn(this.relativeTargetOrigin,this.target,y.target),gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fi(this.parent.latestValues)||Bp(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Be.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;gt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;JC(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Re());const{target:y}=i;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Su(this.prevProjectionDelta.x,this.projectionDelta.x),Su(this.prevProjectionDelta.y,this.projectionDelta.y)),Gn(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!Ru(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ru(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ln(),this.projectionDelta=ln(),this.projectionDeltaWithTransform=ln()}setAnimationOrigin(i,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},m=ln();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Re(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,p=y!==x,g=this.getStack(),v=!g||g.members.length<=1,w=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(TP));this.animationProgress=0;let b;this.mixTargetDelta=S=>{const _=S/1e3;Fu(m.x,i.x,_),Fu(m.y,i.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yn(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EP(this.relativeTarget,this.relativeTargetOrigin,f,_),b&&fP(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Re()),gt(b,this.relativeTarget)),p&&(this.animationValues=u,lP(u,d,this.latestValues,_,w,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{ra.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gn(0)),this.currentAnimation=nP(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),i.onUpdate&&i.onUpdate(u)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=i;if(!(!l||!c||!d)){if(this!==i&&this.layout&&d&&ug(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Re();const m=Qe(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+m;const f=Qe(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}gt(l,c),on(l,u),Gn(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new pP),this.sharedNodes.get(i).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Wo("z",i,d,this.animationValues);for(let u=0;u<zo.length;u++)Wo(`rotate${zo[u]}`,i,d,this.animationValues),Wo(`skew${zo[u]}`,i,d,this.animationValues);i.render();for(const u in d)i.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=na(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=na(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ps(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=gP(this.projectionDeltaWithTransform,this.treeScale,u);c&&(m=c(u,m)),i.transform=m;const{x:f,y}=this.projectionDelta;i.transformOrigin=`${f.origin*100}% ${y.origin*100}% 0`,d.animationValues?i.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in ir){if(u[x]===void 0)continue;const{correct:p,applyTo:g,isCSSVariable:v}=ir[x],w=m==="none"?u[x]:p(u[x],d);if(g){const b=g.length;for(let S=0;S<b;S++)i[g[S]]=w}else v?this.options.visualElement.renderState.vars[x]=w:i[x]=w}this.options.layoutId&&(i.pointerEvents=d===this?na(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Mu),this.root.sharedNodes.clear()}}}function vP(e){e.updateLayout()}function bP(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:o}=e.options,i=t.source!==e.layout.source;o==="size"?xt(m=>{const f=i?t.measuredBox[m]:t.layoutBox[m],y=Qe(f);f.min=r[m].min,f.max=f.min+y}):ug(o,t.layoutBox,r)&&xt(m=>{const f=i?t.measuredBox[m]:t.layoutBox[m],y=Qe(r[m]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+y)});const l=ln();Gn(l,r,t.layoutBox);const c=ln();i?Gn(c,e.applyTransform(a,!0),t.measuredBox):Gn(c,r,t.layoutBox);const d=!ig(l);let u=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:y}=m;if(f&&y){const x=Re();Yn(x,t.layoutBox,f.layoutBox);const p=Re();Yn(p,r,y.layoutBox),lg(x,p)||(u=!0),m.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function wP(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jP(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function NP(e){e.clearSnapshot()}function Mu(e){e.clearMeasurements()}function Ou(e){e.isLayoutDirty=!1}function _P(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Iu(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function SP(e){e.resolveTargetDelta()}function CP(e){e.calcProjection()}function kP(e){e.resetSkewAndRotation()}function PP(e){e.removeLeadSnapshot()}function Fu(e,t,s){e.translate=Te(t.translate,0,s),e.scale=Te(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Lu(e,t,s,r){e.min=Te(t.min,s.min,r),e.max=Te(t.max,s.max,r)}function EP(e,t,s,r){Lu(e.x,t.x,s.x,r),Lu(e.y,t.y,s.y,r)}function TP(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const DP={duration:.45,ease:[.4,0,.1,1]},$u=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Vu=$u("applewebkit/")&&!$u("chrome/")?Math.round:vt;function Bu(e){e.min=Vu(e.min),e.max=Vu(e.max)}function AP(e){Bu(e.x),Bu(e.y)}function ug(e,t,s){return e==="position"||e==="preserve-aspect"&&!Lk(Au(t),Au(s),.2)}function RP(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const MP=dg({attachResizeListener:(e,t)=>lr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ho={current:void 0},mg=dg({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ho.current){const e=new MP({});e.mount(window),e.setOptions({layoutScroll:!0}),Ho.current=e}return Ho.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),OP={pan:{Feature:Qk},drag:{Feature:Zk,ProjectionNode:mg,MeasureLayout:rg}};function Uu(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,o=r[a];o&&Pe.postRender(()=>o(t,Cr(t)))}class IP extends ws{mount(){const{current:t}=this.node;t&&(this.unmount=lC(t,(s,r)=>(Uu(this.node,r,"Start"),a=>Uu(this.node,a,"End"))))}unmount(){}}class FP extends ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nr(lr(this.node.current,"focus",()=>this.onFocus()),lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zu(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),o=r[a];o&&Pe.postRender(()=>o(t,Cr(t)))}class LP extends ws{mount(){const{current:t}=this.node;t&&(this.unmount=mC(t,(s,r)=>(zu(this.node,r,"Start"),(a,{success:o})=>zu(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wi=new WeakMap,qo=new WeakMap,$P=e=>{const t=Wi.get(e.target);t&&t(e)},VP=e=>{e.forEach($P)};function BP({root:e,...t}){const s=e||document;qo.has(s)||qo.set(s,{});const r=qo.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(VP,{root:e,...t})),r[a]}function UP(e,t,s){const r=BP(t);return Wi.set(e,s),r.observe(e),()=>{Wi.delete(e),r.unobserve(e)}}const zP={some:0,all:1};class WP extends ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:o}=t,i={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:zP[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),f=d?u:m;f&&f(c)};return UP(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(HP(t,s))&&this.startObserver()}unmount(){}}function HP({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const qP={inView:{Feature:WP},tap:{Feature:LP},focus:{Feature:FP},hover:{Feature:IP}},GP={layout:{ProjectionNode:mg,MeasureLayout:rg}},YP={...Ak,...qP,...OP,...GP},KP=YC(YP,ik);function Xt({title:e,value:t,icon:s,gradient:r,description:a}){return n.jsx(KP.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:n.jsxs(Z,{className:"relative overflow-hidden bg-white/90 backdrop-blur-sm border-gray-200/80 shadow-lg hover:shadow-xl transition-all duration-300 rounded-2xl",children:[n.jsx("div",{className:`absolute -top-8 -right-8 w-32 h-32 bg-gradient-to-br ${r} opacity-10 rounded-full`}),n.jsx(ne,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:e}),n.jsx("div",{className:"text-4xl font-bold text-[#1E1E1D]",children:t}),a&&n.jsx("p",{className:"text-sm text-gray-400 font-medium pt-1",children:a})]}),n.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-2xl bg-gradient-to-br ${r} flex items-center justify-center shadow-lg ml-4`,children:n.jsx(s,{className:"w-8 h-8 text-white"})})]})})]})})}function ge(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function mt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Je(e,t){const s=ge(e);return isNaN(t)?mt(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function Et(e,t){const s=ge(e);if(isNaN(t))return mt(e,NaN);if(!t)return s;const r=s.getDate(),a=mt(e,s.getTime());a.setMonth(s.getMonth()+t+1,0);const o=a.getDate();return r>=o?a:(s.setFullYear(a.getFullYear(),a.getMonth(),r),s)}const dc=6048e5,XP=864e5;let JP={};function kr(){return JP}function qt(e,t){var l,c,d,u;const s=kr(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=ge(e),o=a.getDay(),i=(o<r?7:0)+o-r;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Bs(e){return qt(e,{weekStartsOn:1})}function hg(e){const t=ge(e),s=t.getFullYear(),r=mt(e,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const a=Bs(r),o=mt(e,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const i=Bs(o);return t.getTime()>=a.getTime()?s+1:t.getTime()>=i.getTime()?s:s-1}function yn(e){const t=ge(e);return t.setHours(0,0,0,0),t}function Na(e){const t=ge(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function $t(e,t){const s=yn(e),r=yn(t),a=+s-Na(s),o=+r-Na(r);return Math.round((a-o)/XP)}function ZP(e){const t=hg(e),s=mt(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Bs(s)}function Hi(e,t){const s=t*7;return Je(e,s)}function QP(e,t){return Et(e,t*12)}function e4(e){let t;return e.forEach(function(s){const r=ge(s);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function t4(e){let t;return e.forEach(s=>{const r=ge(s);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function st(e,t){const s=yn(e),r=yn(t);return+s==+r}function uc(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function s4(e){if(!uc(e)&&typeof e!="number")return!1;const t=ge(e);return!isNaN(Number(t))}function cr(e,t){const s=ge(e),r=ge(t),a=s.getFullYear()-r.getFullYear(),o=s.getMonth()-r.getMonth();return a*12+o}function n4(e,t,s){const r=qt(e,s),a=qt(t,s),o=+r-Na(r),i=+a-Na(a);return Math.round((o-i)/dc)}function mc(e){const t=ge(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function at(e){const t=ge(e);return t.setDate(1),t.setHours(0,0,0,0),t}function fg(e){const t=ge(e),s=mt(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}function hc(e,t){var l,c,d,u;const s=kr(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=ge(e),o=a.getDay(),i=(o<r?-7:0)+6-(o-r);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function pg(e){return hc(e,{weekStartsOn:1})}const r4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a4=(e,t,s)=>{let r;const a=r4[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Go(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const o4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},l4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},c4={date:Go({formats:o4,defaultWidth:"full"}),time:Go({formats:i4,defaultWidth:"full"}),dateTime:Go({formats:l4,defaultWidth:"full"})},d4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u4=(e,t,s,r)=>d4[e];function $n(e){return(t,s)=>{const r=s!=null&&s.context?String(s.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const m4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},h4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},f4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},g4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},x4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},y4=(e,t)=>{const s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},v4={ordinalNumber:y4,era:$n({values:m4,defaultWidth:"wide"}),quarter:$n({values:h4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$n({values:f4,defaultWidth:"wide"}),day:$n({values:p4,defaultWidth:"wide"}),dayPeriod:$n({values:g4,defaultWidth:"wide",formattingValues:x4,defaultFormattingWidth:"wide"})};function Vn(e){return(t,s={})=>{const r=s.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?w4(l,m=>m.test(i)):b4(l,m=>m.test(i));let d;d=e.valueCallback?e.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function b4(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function w4(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function j4(e){return(t,s={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=s.valueCallback?s.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const N4=/^(\d+)(th|st|nd|rd)?/i,_4=/\d+/i,S4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C4={any:[/^b/i,/^(a|c)/i]},k4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},P4={any:[/1/i,/2/i,/3/i,/4/i]},E4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},T4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},A4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},R4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},O4={ordinalNumber:j4({matchPattern:N4,parsePattern:_4,valueCallback:e=>parseInt(e,10)}),era:Vn({matchPatterns:S4,defaultMatchWidth:"wide",parsePatterns:C4,defaultParseWidth:"any"}),quarter:Vn({matchPatterns:k4,defaultMatchWidth:"wide",parsePatterns:P4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vn({matchPatterns:E4,defaultMatchWidth:"wide",parsePatterns:T4,defaultParseWidth:"any"}),day:Vn({matchPatterns:D4,defaultMatchWidth:"wide",parsePatterns:A4,defaultParseWidth:"any"}),dayPeriod:Vn({matchPatterns:R4,defaultMatchWidth:"any",parsePatterns:M4,defaultParseWidth:"any"})},gg={code:"en-US",formatDistance:a4,formatLong:c4,formatRelative:u4,localize:v4,match:O4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I4(e){const t=ge(e);return $t(t,fg(t))+1}function xg(e){const t=ge(e),s=+Bs(t)-+ZP(t);return Math.round(s/dc)+1}function yg(e,t){var u,m,f,y;const s=ge(e),r=s.getFullYear(),a=kr(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(f=a.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,i=mt(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=qt(i,t),c=mt(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const d=qt(c,t);return s.getTime()>=l.getTime()?r+1:s.getTime()>=d.getTime()?r:r-1}function F4(e,t){var l,c,d,u;const s=kr(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=yg(e,t),o=mt(e,0);return o.setFullYear(a,0,r),o.setHours(0,0,0,0),qt(o,t)}function vg(e,t){const s=ge(e),r=+qt(s,t)-+F4(s,t);return Math.round(r/dc)+1}function ye(e,t){const s=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return s+r}const cs={y(e,t){const s=e.getFullYear(),r=s>0?s:1-s;return ye(t==="yy"?r%100:r,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ye(s+1,2)},d(e,t){return ye(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ye(e.getHours()%12||12,t.length)},H(e,t){return ye(e.getHours(),t.length)},m(e,t){return ye(e.getMinutes(),t.length)},s(e,t){return ye(e.getSeconds(),t.length)},S(e,t){const s=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,s-3));return ye(a,t.length)}},en={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wu={G:function(e,t,s){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return s.ordinalNumber(a,{unit:"year"})}return cs.y(e,t)},Y:function(e,t,s,r){const a=yg(e,r),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return ye(i,2)}return t==="Yo"?s.ordinalNumber(o,{unit:"year"}):ye(o,t.length)},R:function(e,t){const s=hg(e);return ye(s,t.length)},u:function(e,t){const s=e.getFullYear();return ye(s,t.length)},Q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ye(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,s){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ye(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,s){const r=e.getMonth();switch(t){case"M":case"MM":return cs.M(e,t);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,s){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ye(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,s,r){const a=vg(e,r);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):ye(a,t.length)},I:function(e,t,s){const r=xg(e);return t==="Io"?s.ordinalNumber(r,{unit:"week"}):ye(r,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):cs.d(e,t)},D:function(e,t,s){const r=I4(e);return t==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):ye(r,t.length)},E:function(e,t,s){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,s,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ye(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,s,r){const a=e.getDay(),o=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ye(o,t.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,s){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return ye(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,s){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,s){const r=e.getHours();let a;switch(r===12?a=en.noon:r===0?a=en.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,s){const r=e.getHours();let a;switch(r>=17?a=en.evening:r>=12?a=en.afternoon:r>=4?a=en.morning:a=en.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return cs.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):cs.H(e,t)},K:function(e,t,s){const r=e.getHours()%12;return t==="Ko"?s.ordinalNumber(r,{unit:"hour"}):ye(r,t.length)},k:function(e,t,s){let r=e.getHours();return r===0&&(r=24),t==="ko"?s.ordinalNumber(r,{unit:"hour"}):ye(r,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):cs.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):cs.s(e,t)},S:function(e,t){return cs.S(e,t)},X:function(e,t,s){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return qu(r);case"XXXX":case"XX":return Es(r);case"XXXXX":case"XXX":default:return Es(r,":")}},x:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"x":return qu(r);case"xxxx":case"xx":return Es(r);case"xxxxx":case"xxx":default:return Es(r,":")}},O:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hu(r,":");case"OOOO":default:return"GMT"+Es(r,":")}},z:function(e,t,s){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hu(r,":");case"zzzz":default:return"GMT"+Es(r,":")}},t:function(e,t,s){const r=Math.trunc(e.getTime()/1e3);return ye(r,t.length)},T:function(e,t,s){const r=e.getTime();return ye(r,t.length)}};function Hu(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),o=r%60;return o===0?s+String(a):s+String(a)+t+ye(o,2)}function qu(e,t){return e%60===0?(e>0?"-":"+")+ye(Math.abs(e)/60,2):Es(e,t)}function Es(e,t=""){const s=e>0?"-":"+",r=Math.abs(e),a=ye(Math.trunc(r/60),2),o=ye(r%60,2);return s+a+t+o}const Gu=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bg=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},L4=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],r=s[1],a=s[2];if(!a)return Gu(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Gu(r,t)).replace("{{time}}",bg(a,t))},$4={p:bg,P:L4},V4=/^D+$/,B4=/^Y+$/,U4=["D","DD","YY","YYYY"];function z4(e){return V4.test(e)}function W4(e){return B4.test(e)}function H4(e,t,s){const r=q4(e,t,s);if(console.warn(r),U4.includes(e))throw new RangeError(r)}function q4(e,t,s){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const G4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Y4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K4=/^'([^]*?)'?$/,X4=/''/g,J4=/[a-zA-Z]/;function ve(e,t,s){var u,m,f,y,x,p,g,v;const r=kr(),a=(s==null?void 0:s.locale)??r.locale??gg,o=(s==null?void 0:s.firstWeekContainsDate)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((y=(f=r.locale)==null?void 0:f.options)==null?void 0:y.firstWeekContainsDate)??1,i=(s==null?void 0:s.weekStartsOn)??((p=(x=s==null?void 0:s.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=ge(e);if(!s4(l))throw new RangeError("Invalid time value");let c=t.match(Y4).map(w=>{const b=w[0];if(b==="p"||b==="P"){const S=$4[b];return S(w,a.formatLong)}return w}).join("").match(G4).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:Z4(w)};if(Wu[b])return{isToken:!0,value:w};if(b.match(J4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&W4(b)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&z4(b))&&H4(b,t,String(e));const S=Wu[b[0]];return S(l,b,a.localize,d)}).join("")}function Z4(e){const t=e.match(K4);return t?t[1].replace(X4,"'"):e}function Q4(e){const t=ge(e),s=t.getFullYear(),r=t.getMonth(),a=mt(e,0);return a.setFullYear(s,r+1,0),a.setHours(0,0,0,0),a.getDate()}function eE(e){return Math.trunc(+ge(e)/1e3)}function tE(e){const t=ge(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(0,0,0,0),t}function sE(e,t){return n4(tE(e),at(e),t)+1}function qi(e,t){const s=ge(e),r=ge(t);return s.getTime()>r.getTime()}function wg(e,t){const s=ge(e),r=ge(t);return+s<+r}function fc(e,t){const s=ge(e),r=ge(t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function nE(e,t){const s=ge(e),r=ge(t);return s.getFullYear()===r.getFullYear()}function Yo(e,t){return Je(e,-t)}function Ko(e,t){const s=ge(e),r=s.getFullYear(),a=s.getDate(),o=mt(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=Q4(o);return s.setMonth(t,Math.min(a,i)),s}function Yu(e,t){const s=ge(e);return isNaN(+s)?mt(e,NaN):(s.setFullYear(t),s)}const rE={proposal:"bg-blue-100 text-blue-800",active:"bg-green-100 text-green-800",completed:"bg-emerald-100 text-emerald-800",on_hold:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800",pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800"},aE=e=>!e||isNaN(e)?"":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Ku=e=>{if(!e)return"";try{return ve(new Date(e),"MMM dd, yyyy")}catch{return e}};function oE({projects:e,invoices:t,userRole:s}){const r=[];e&&Array.isArray(e)&&e.forEach(o=>{r.push({type:"project",id:o.id,title:o.title||"Untitled Project",subtitle:o.client_name||"No Client",status:o.status||"active",amount:o.total_fee||o.budget,hours:o.total_hours||o.hours_logged||0,date:o.updated_date||o.created_date||o.start_date,projectType:o.project_type||o.type,description:o.description})}),s!=="client"&&t&&Array.isArray(t)&&t.forEach(o=>{r.push({type:"invoice",id:o.id,title:`Invoice #${o.invoice_number||o.id}`,subtitle:o.client_name||"No Client",status:o.status||"sent",amount:o.amount||o.total,date:o.created_date||o.issue_date,dueDate:o.due_date})}),r.sort((o,i)=>{const l=new Date(o.date||0);return new Date(i.date||0)-l});const a=r.slice(0,8);return n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200/80 shadow-lg",children:[n.jsx(pe,{className:"border-b border-slate-100",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(xe,{className:"text-xl font-bold text-slate-900",children:"Recent Activity"}),n.jsx(ai,{to:it("Projects"),children:n.jsxs(V,{variant:"ghost",className:"text-slate-600 hover:text-slate-900",children:["View All",n.jsx(kv,{className:"w-4 h-4 ml-2"})]})})]})}),n.jsx(ne,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:a.length>0?a.map((o,i)=>{var l,c;return n.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50/50 rounded-xl hover:bg-slate-50 transition-colors",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-semibold text-slate-900 truncate",children:o.title}),o.type==="invoice"&&n.jsx(je,{variant:"outline",className:"text-xs",children:"Invoice"})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 flex-wrap",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(es,{className:"w-3 h-3"}),o.subtitle]}),o.projectType&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsx("span",{className:"capitalize",children:o.projectType.replace("_"," ")})]}),o.hours>0&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ut,{className:"w-3 h-3"}),o.hours,"h"]})]}),o.date&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Hs,{className:"w-3 h-3"}),Ku(o.date)]})]}),o.type==="invoice"&&o.dueDate&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsxs("span",{className:"text-orange-600",children:["Due ",Ku(o.dueDate)]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[s!=="client"&&o.amount&&n.jsxs("span",{className:"text-sm font-semibold text-slate-700 flex items-center gap-1",children:[n.jsx(jt,{className:"w-3 h-3"}),typeof o.amount=="number"?aE(o.amount):((c=(l=o.amount).toLocaleString)==null?void 0:c.call(l))||o.amount]}),n.jsx(je,{className:rE[o.status]||"bg-gray-100 text-gray-800",children:o.status?o.status.replace("_"," "):"Unknown"})]})]},`${o.type}-${o.id}-${i}`)}):n.jsxs("div",{className:"text-center py-8 text-slate-500",children:[n.jsx("p",{className:"text-lg font-medium mb-2",children:"No recent activity"}),n.jsx("p",{className:"text-sm mb-4",children:s==="client"?"Your projects and updates will appear here":"Your projects and invoices will appear here"}),s!=="client"&&n.jsx(ai,{to:it("Proposals"),children:n.jsx(V,{variant:"outline",className:"mt-2",children:"Create your first proposal"})}),s==="client"&&n.jsx(V,{variant:"outline",className:"mt-2",onClick:()=>window.location.reload(),children:"Refresh"})]})})})]})}function iE(e,t=[]){let s=[];function r(o,i){const l=h.createContext(i);l.displayName=o+"Context";const c=s.length;s=[...s,i];const d=m=>{var v;const{scope:f,children:y,...x}=m,p=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,g=h.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:y})};d.displayName=o+"Provider";function u(m,f){var p;const y=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,x=h.useContext(y);if(x)return x;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,u]}const a=()=>{const o=s.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,lE(a,...t)]}function lE(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return s.scopeName=t.scopeName,s}var cE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jg=cE.reduce((e,t)=>{const s=Ia(`Primitive.${t}`),r=h.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),pc="Progress",gc=100,[dE]=iE(pc),[uE,mE]=dE(pc),Ng=h.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:o=hE,...i}=e;(a||a===0)&&!Xu(a)&&console.error(fE(`${a}`,"Progress"));const l=Xu(a)?a:gc;r!==null&&!Ju(r,l)&&console.error(pE(`${r}`,"Progress"));const c=Ju(r,l)?r:null,d=_a(c)?o(c,l):void 0;return n.jsx(uE,{scope:s,value:c,max:l,children:n.jsx(jg.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_a(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Cg(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});Ng.displayName=pc;var _g="ProgressIndicator",Sg=h.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,a=mE(_g,s);return n.jsx(jg.div,{"data-state":Cg(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});Sg.displayName=_g;function hE(e,t){return`${Math.round(e/t*100)}%`}function Cg(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _a(e){return typeof e=="number"}function Xu(e){return _a(e)&&!isNaN(e)&&e>0}function Ju(e,t){return _a(e)&&!isNaN(e)&&e<=t&&e>=0}function fE(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gc}\`.`}function pE(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gc} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var kg=Ng,gE=Sg;const no=h.forwardRef(({className:e,value:t,...s},r)=>n.jsx(kg,{ref:r,className:K("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...s,children:n.jsx(gE,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));no.displayName=kg.displayName;const Zu=[{key:"discovery",name:"Discovery & Requirements",percentage:15},{key:"design",name:"Design & Architecture",percentage:20},{key:"development",name:"Development & Configuration",percentage:30},{key:"testing",name:"Testing & QA",percentage:15},{key:"deployment",name:"Deployment & Implementation",percentage:15},{key:"training",name:"Training & Handoff",percentage:5}],xE={discovery:"Discovery & Requirements",design:"Design & Architecture",development:"Development & Configuration",testing:"Testing & QA",deployment:"Deployment & Implementation",training:"Training & Handoff"};function yE({projects:e}){const[t,s]=h.useState({}),[r,a]=h.useState(!0);h.useEffect(()=>{o()},[e]);const o=async()=>{try{const m={};for(const f of e)if(f.status==="active")try{const y=await Le.filter({project_id:f.id});m[f.id]=y}catch(y){console.error(`Error loading tasks for project ${f.id}:`,y),m[f.id]=[]}s(m)}catch(m){console.error("Error loading project tasks:",m)}a(!1)},i=m=>{var x;if(!m.stage_completion&&!m.current_stage)return 0;let f=0;const y=t[m.id]||[];if(Zu.forEach(p=>{var g;(g=m.stage_completion)!=null&&g[p.key]&&(f+=p.percentage)}),m.current_stage&&!((x=m.stage_completion)!=null&&x[m.current_stage])){const p=Zu.find(g=>g.key===m.current_stage);if(p){const g=y.filter(v=>v.stage===m.current_stage);if(g.length>0){const w=g.filter(b=>b.status==="completed").length/g.length*p.percentage;f+=w}}}return Math.round(f)},l=m=>m.current_stage?xE[m.current_stage]||m.current_stage:"Not Started",c=m=>{switch(m.status){case"completed":return"default";case"active":return"secondary";case"on_hold":return"destructive";case"proposal":return"outline";default:return"outline"}},d=m=>{switch(m){case"completed":return"default";case"active":return"secondary";case"on_hold":return"destructive";case"proposal":return"outline";default:return"outline"}},u=e.filter(m=>m.status==="active").slice(0,5);return r?n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200/80 shadow-lg",children:[n.jsx(pe,{className:"border-b border-slate-100",children:n.jsx(xe,{className:"text-xl font-bold text-slate-900",children:"Project Progress"})}),n.jsx(ne,{className:"p-6",children:n.jsx("div",{className:"space-y-6",children:Array(3).fill(0).map((m,f)=>n.jsxs("div",{className:"animate-pulse space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-24"})]}),n.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]}),n.jsx("div",{className:"h-2 bg-gray-200 rounded w-full"})]},f))})})]}):n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200/80 shadow-lg",children:[n.jsx(pe,{className:"border-b border-slate-100",children:n.jsx(xe,{className:"text-xl font-bold text-slate-900",children:"Project Progress"})}),n.jsx(ne,{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[u.map(m=>{const f=i(m),y=l(m),x=t[m.id]||[],p=x.length,g=x.filter(v=>v.status==="completed").length;return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-slate-900 text-sm",children:m.title}),n.jsx("p",{className:"text-xs text-slate-500",children:m.client_name}),p>0&&n.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[g,"/",p," tasks completed"]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsx(je,{variant:c(m),className:"text-xs",children:y}),n.jsx(je,{variant:d(m.status),className:"text-xs bg-slate-50 border-slate-200 text-slate-600",children:m.status})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(no,{value:f,className:"h-2 bg-slate-100"}),n.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[n.jsx("span",{children:"Overall Progress"}),n.jsxs("span",{children:[f,"%"]})]})]})]},m.id)}),u.length===0&&n.jsx("div",{className:"text-center py-8 text-slate-500",children:n.jsx("p",{className:"text-sm",children:"No active projects"})})]})})]})}function vE({notifications:e,onClear:t,onClearAll:s}){if(!e||e.length===0)return null;const r=(o,i)=>{const l="w-4 h-4";switch(i){case"urgent":return n.jsx(Ke,{className:`${l} text-red-500`});case"high":return n.jsx(Ke,{className:`${l} text-orange-500`});case"medium":return n.jsx(ut,{className:`${l} text-blue-500`});case"low":default:return n.jsx(gb,{className:`${l} text-gray-500`})}},a=o=>{try{const i=new Date(o),c=Math.floor((new Date-i)/(1e3*60*60));return c<1?"Just now":c<24?`${c}h ago`:`${Math.floor(c/24)}d ago`}catch{return""}};return n.jsxs(Z,{className:"bg-blue-50 border-blue-200 shadow-lg mb-6",children:[n.jsxs(pe,{className:"flex flex-row items-center justify-between pb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Dv,{className:"w-6 h-6 text-blue-600"}),n.jsxs(xe,{className:"text-xl font-bold text-blue-900",children:["Notifications (",e.length,")"]})]}),e.length>1&&n.jsx(V,{variant:"ghost",size:"sm",onClick:s,className:"text-blue-700 hover:text-blue-900 hover:bg-blue-100",children:"Clear All"})]}),n.jsxs(ne,{className:"pt-2",children:[n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map(o=>n.jsxs("div",{className:"flex items-start justify-between p-3 bg-white/70 rounded-lg hover:bg-white transition-colors border border-blue-100",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[r(o.type,o.priority),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-blue-900 text-sm leading-tight",children:o.title||"Notification"}),o.message&&n.jsx("p",{className:"text-sm text-blue-800 mt-1 leading-relaxed",children:o.message})]})]}),o.created_date&&n.jsx("p",{className:"text-xs text-blue-600 mt-2",children:a(o.created_date)})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4 flex-shrink-0",children:[o.link&&n.jsx(V,{size:"sm",variant:"outline",className:"text-blue-700 border-blue-200 hover:bg-blue-100",onClick:()=>{window.location.href=o.link,t(o.id)},children:"View"}),n.jsx(V,{variant:"ghost",size:"icon",className:"text-blue-500 hover:text-blue-700 hover:bg-blue-100 h-8 w-8",onClick:()=>t(o.id),title:"Mark as read",children:n.jsx(Ls,{className:"w-4 h-4"})})]})]},o.id))}),e.length>5&&n.jsx("div",{className:"mt-4 pt-3 border-t border-blue-200",children:n.jsxs("p",{className:"text-sm text-blue-600 text-center",children:["Showing ",Math.min(5,e.length)," of ",e.length," notifications"]})})]})]})}const ro={InvokeLLM:async(e,t={})=>{try{return(await Ft.getClient().post("/integrations/llm/invoke/",{prompt:e,...t})).data}catch(s){throw console.error("Error invoking LLM:",s),s}},SendEmail:async e=>{try{return(await Ft.getClient().post("/integrations/email/send/",e)).data}catch(t){throw console.error("Error sending email:",t),t}},UploadFile:async e=>{try{const t=new FormData;return e.file&&t.append("file",e.file),Object.keys(e).forEach(r=>{r!=="file"&&t.append(r,e[r])}),(await Ft.getClient().post("/integrations/file/upload/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error uploading file:",t),t}},ExtractDataFromUploadedFile:async(e,t={})=>{try{return(await Ft.getClient().post("/integrations/file/extract/",{file_url:e,...t})).data}catch(s){throw console.error("Error extracting data from file:",s),s}}},dr=ro.InvokeLLM,xc=ro.SendEmail,ur=ro.UploadFile,yc=ro.ExtractDataFromUploadedFile,bE=async e=>{try{return(await Ft.getClient().post("/integrations/email/send/",e)).data}catch(t){throw console.error("Error sending external email:",t),t}},wE=async e=>{try{return(await Ft.getClient().post("/auth/send-password-reset-email/",e)).data}catch(t){throw console.error("Error sending password reset email:",t),t}},ht=Oh,jE=Ih,Pg=h.forwardRef(({className:e,...t},s)=>n.jsx(Ua,{ref:s,className:K("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Pg.displayName=Ua.displayName;const ot=h.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(jE,{children:[n.jsx(Pg,{}),n.jsxs(za,{ref:r,className:K("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(Fh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Vt,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ot.displayName=za.displayName;const ft=({className:e,...t})=>n.jsx("div",{className:K("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ft.displayName="DialogHeader";const Sa=({className:e,...t})=>n.jsx("div",{className:K("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Sa.displayName="DialogFooter";const pt=h.forwardRef(({className:e,...t},s)=>n.jsx(Wa,{ref:s,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));pt.displayName=Wa.displayName;const Eg=h.forwardRef(({className:e,...t},s)=>n.jsx(Ha,{ref:s,className:K("text-sm text-muted-foreground",e),...t}));Eg.displayName=Ha.displayName;const Ye=h.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:K("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));Ye.displayName="Textarea";var NE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_E=NE.reduce((e,t)=>{const s=Ia(`Primitive.${t}`),r=h.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),SE="Label",Tg=h.forwardRef((e,t)=>n.jsx(_E.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Tg.displayName=SE;var Dg=Tg;const CE=Ks("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=h.forwardRef(({className:e,...t},s)=>n.jsx(Dg,{ref:s,className:K(CE(),e),...t}));z.displayName=Dg.displayName;function Qu(e,[t,s]){return Math.min(s,Math.max(t,e))}function em(e){const t=kE(e),s=h.forwardRef((r,a)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(EE);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function kE(e){const t=h.forwardRef((s,r)=>{const{children:a,...o}=s;if(h.isValidElement(a)){const i=DE(a),l=TE(o,a.props);return a.type!==h.Fragment&&(l.ref=r?Ys(r,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PE=Symbol("radix.slottable");function EE(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PE}function TE(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function DE(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Ag(e){const t=e+"CollectionProvider",[s,r]=as(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:v}=p,w=Zt.useRef(null),b=Zt.useRef(new Map).current;return n.jsx(a,{scope:g,itemMap:b,collectionRef:w,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=em(l),d=Zt.forwardRef((p,g)=>{const{scope:v,children:w}=p,b=o(l,v),S=Ne(g,b.collectionRef);return n.jsx(c,{ref:S,children:w})});d.displayName=l;const u=e+"CollectionItemSlot",m="data-radix-collection-item",f=em(u),y=Zt.forwardRef((p,g)=>{const{scope:v,children:w,...b}=p,S=Zt.useRef(null),_=Ne(g,S),P=o(u,v);return Zt.useEffect(()=>(P.itemMap.set(S,{ref:S,...b}),()=>void P.itemMap.delete(S))),n.jsx(f,{[m]:"",ref:_,children:w})});y.displayName=u;function x(p){const g=o(e+"CollectionConsumer",p);return Zt.useCallback(()=>{const w=g.collectionRef.current;if(!w)return[];const b=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(g.itemMap.values()).sort((P,k)=>b.indexOf(P.ref.current)-b.indexOf(k.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:d,ItemSlot:y},x,r]}var AE=h.createContext(void 0);function vc(e){const t=h.useContext(AE);return e||t||"ltr"}function RE(e){const t=ME(e),s=h.forwardRef((r,a)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(IE);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function ME(e){const t=h.forwardRef((s,r)=>{const{children:a,...o}=s;if(h.isValidElement(a)){const i=LE(a),l=FE(o,a.props);return a.type!==h.Fragment&&(l.ref=r?Ys(r,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OE=Symbol("radix.slottable");function IE(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OE}function FE(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function LE(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Rg(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $E=[" ","Enter","ArrowUp","ArrowDown"],VE=[" ","Enter"],Us="Select",[ao,oo,BE]=Ag(Us),[An]=as(Us,[BE,Pn]),io=Pn(),[UE,js]=An(Us),[zE,WE]=An(Us),Mg=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:f,required:y,form:x}=e,p=io(t),[g,v]=h.useState(null),[w,b]=h.useState(null),[S,_]=h.useState(!1),P=vc(d),[k,j]=ps({prop:r,defaultProp:a??!1,onChange:o,caller:Us}),[E,B]=ps({prop:i,defaultProp:l,onChange:c,caller:Us}),I=h.useRef(null),R=g?x||!!g.closest("form"):!0,[O,$]=h.useState(new Set),T=Array.from(O).map(D=>D.props.value).join(";");return n.jsx(kl,{...p,children:n.jsxs(UE,{required:y,scope:t,trigger:g,onTriggerChange:v,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Bt(),value:E,onValueChange:B,open:k,onOpenChange:j,dir:P,triggerPointerDownPosRef:I,disabled:f,children:[n.jsx(ao.Provider,{scope:t,children:n.jsx(zE,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(D=>{$(C=>new Set(C).add(D))},[]),onNativeOptionRemove:h.useCallback(D=>{$(C=>{const N=new Set(C);return N.delete(D),N})},[]),children:s})}),R?n.jsxs(rx,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:m,value:E,onChange:D=>B(D.target.value),disabled:f,form:x,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(O)]},T):null]})})};Mg.displayName=Us;var Og="SelectTrigger",Ig=h.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,o=io(s),i=js(Og,s),l=i.disabled||r,c=Ne(t,i.onTriggerChange),d=oo(s),u=h.useRef("touch"),[m,f,y]=ox(p=>{const g=d().filter(b=>!b.disabled),v=g.find(b=>b.value===i.value),w=ix(g,p,v);w!==void 0&&i.onValueChange(w.value)}),x=p=>{l||(i.onOpenChange(!0),y()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(Xa,{asChild:!0,...o,children:n.jsx(he.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ax(i.value)?"":void 0,...a,ref:c,onClick:le(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:le(a.onPointerDown,p=>{u.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:le(a.onKeyDown,p=>{const g=m.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(g&&p.key===" ")&&$E.includes(p.key)&&(x(),p.preventDefault())})})})});Ig.displayName=Og;var Fg="SelectValue",Lg=h.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,children:o,placeholder:i="",...l}=e,c=js(Fg,s),{onValueNodeHasChildrenChange:d}=c,u=o!==void 0,m=Ne(t,c.onValueNodeChange);return Xe(()=>{d(u)},[d,u]),n.jsx(he.span,{...l,ref:m,style:{pointerEvents:"none"},children:ax(c.value)?n.jsx(n.Fragment,{children:i}):o})});Lg.displayName=Fg;var HE="SelectIcon",$g=h.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...a}=e;return n.jsx(he.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});$g.displayName=HE;var qE="SelectPortal",Vg=e=>n.jsx(br,{asChild:!0,...e});Vg.displayName=qE;var zs="SelectContent",Bg=h.forwardRef((e,t)=>{const s=js(zs,e.__scopeSelect),[r,a]=h.useState();if(Xe(()=>{a(new DocumentFragment)},[]),!s.open){const o=r;return o?Pa.createPortal(n.jsx(Ug,{scope:e.__scopeSelect,children:n.jsx(ao.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),o):null}return n.jsx(zg,{...e,ref:t})});Bg.displayName=zs;var _t=10,[Ug,Ns]=An(zs),GE="SelectContentImpl",YE=RE("SelectContent.RemoveScroll"),zg=h.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:y,sticky:x,hideWhenDetached:p,avoidCollisions:g,...v}=e,w=js(zs,s),[b,S]=h.useState(null),[_,P]=h.useState(null),k=Ne(t,W=>S(W)),[j,E]=h.useState(null),[B,I]=h.useState(null),R=oo(s),[O,$]=h.useState(!1),T=h.useRef(!1);h.useEffect(()=>{if(b)return pl(b)},[b]),fl();const D=h.useCallback(W=>{const[Y,...ce]=R().map(fe=>fe.ref.current),[re]=ce.slice(-1),me=document.activeElement;for(const fe of W)if(fe===me||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===Y&&_&&(_.scrollTop=0),fe===re&&_&&(_.scrollTop=_.scrollHeight),fe==null||fe.focus(),document.activeElement!==me))return},[R,_]),C=h.useCallback(()=>D([j,b]),[D,j,b]);h.useEffect(()=>{O&&C()},[O,C]);const{onOpenChange:N,triggerPointerDownPosRef:A}=w;h.useEffect(()=>{if(b){let W={x:0,y:0};const Y=re=>{var me,fe;W={x:Math.abs(Math.round(re.pageX)-(((me=A.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(re.pageY)-(((fe=A.current)==null?void 0:fe.y)??0))}},ce=re=>{W.x<=10&&W.y<=10?re.preventDefault():b.contains(re.target)||N(!1),document.removeEventListener("pointermove",Y),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",ce,{capture:!0})}}},[b,N,A]),h.useEffect(()=>{const W=()=>N(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[N]);const[M,L]=ox(W=>{const Y=R().filter(me=>!me.disabled),ce=Y.find(me=>me.ref.current===document.activeElement),re=ix(Y,W,ce);re&&setTimeout(()=>re.ref.current.focus())}),U=h.useCallback((W,Y,ce)=>{const re=!T.current&&!ce;(w.value!==void 0&&w.value===Y||re)&&(E(W),re&&(T.current=!0))},[w.value]),G=h.useCallback(()=>b==null?void 0:b.focus(),[b]),H=h.useCallback((W,Y,ce)=>{const re=!T.current&&!ce;(w.value!==void 0&&w.value===Y||re)&&I(W)},[w.value]),Q=r==="popper"?Gi:Wg,ee=Q===Gi?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:f,collisionPadding:y,sticky:x,hideWhenDetached:p,avoidCollisions:g}:{};return n.jsx(Ug,{scope:s,content:b,viewport:_,onViewportChange:P,itemRefCallback:U,selectedItem:j,onItemLeave:G,itemTextRefCallback:H,focusSelectedItem:C,selectedItemText:B,position:r,isPositioned:O,searchRef:M,children:n.jsx(Va,{as:YE,allowPinchZoom:!0,children:n.jsx(La,{asChild:!0,trapped:w.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:le(a,W=>{var Y;(Y=w.trigger)==null||Y.focus({preventScroll:!0}),W.preventDefault()}),children:n.jsx(vr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:n.jsx(Q,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:W=>W.preventDefault(),...v,...ee,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:le(v.onKeyDown,W=>{const Y=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!Y&&W.key.length===1&&L(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let re=R().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(W.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const me=W.target,fe=re.indexOf(me);re=re.slice(fe+1)}setTimeout(()=>D(re)),W.preventDefault()}})})})})})})});zg.displayName=GE;var KE="SelectItemAlignedPosition",Wg=h.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,o=js(zs,s),i=Ns(zs,s),[l,c]=h.useState(null),[d,u]=h.useState(null),m=Ne(t,k=>u(k)),f=oo(s),y=h.useRef(!1),x=h.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:v,focusSelectedItem:w}=i,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&d&&p&&g&&v){const k=o.trigger.getBoundingClientRect(),j=d.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),B=v.getBoundingClientRect();if(o.dir!=="rtl"){const me=B.left-j.left,fe=E.left-me,et=k.left-fe,Ae=k.width+et,os=Math.max(Ae,j.width),Rn=window.innerWidth-_t,Mn=Qu(fe,[_t,Math.max(_t,Rn-os)]);l.style.minWidth=Ae+"px",l.style.left=Mn+"px"}else{const me=j.right-B.right,fe=window.innerWidth-E.right-me,et=window.innerWidth-k.right-fe,Ae=k.width+et,os=Math.max(Ae,j.width),Rn=window.innerWidth-_t,Mn=Qu(fe,[_t,Math.max(_t,Rn-os)]);l.style.minWidth=Ae+"px",l.style.right=Mn+"px"}const I=f(),R=window.innerHeight-_t*2,O=p.scrollHeight,$=window.getComputedStyle(d),T=parseInt($.borderTopWidth,10),D=parseInt($.paddingTop,10),C=parseInt($.borderBottomWidth,10),N=parseInt($.paddingBottom,10),A=T+D+O+N+C,M=Math.min(g.offsetHeight*5,A),L=window.getComputedStyle(p),U=parseInt(L.paddingTop,10),G=parseInt(L.paddingBottom,10),H=k.top+k.height/2-_t,Q=R-H,ee=g.offsetHeight/2,W=g.offsetTop+ee,Y=T+D+W,ce=A-Y;if(Y<=H){const me=I.length>0&&g===I[I.length-1].ref.current;l.style.bottom="0px";const fe=d.clientHeight-p.offsetTop-p.offsetHeight,et=Math.max(Q,ee+(me?G:0)+fe+C),Ae=Y+et;l.style.height=Ae+"px"}else{const me=I.length>0&&g===I[0].ref.current;l.style.top="0px";const et=Math.max(H,T+p.offsetTop+(me?U:0)+ee)+ce;l.style.height=et+"px",p.scrollTop=Y-H+p.offsetTop}l.style.margin=`${_t}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[f,o.trigger,o.valueNode,l,d,p,g,v,o.dir,r]);Xe(()=>b(),[b]);const[S,_]=h.useState();Xe(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const P=h.useCallback(k=>{k&&x.current===!0&&(b(),w==null||w(),x.current=!1)},[b,w]);return n.jsx(JE,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:P,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:n.jsx(he.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Wg.displayName=KE;var XE="SelectPopperPosition",Gi=h.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=_t,...o}=e,i=io(s);return n.jsx(Pl,{...i,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Gi.displayName=XE;var[JE,bc]=An(zs,{}),Yi="SelectViewport",Hg=h.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...a}=e,o=Ns(Yi,s),i=bc(Yi,s),l=Ne(t,o.onViewportChange),c=h.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(ao.Slot,{scope:s,children:n.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:le(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&m){const y=Math.abs(c.current-u.scrollTop);if(y>0){const x=window.innerHeight-_t*2,p=parseFloat(m.style.minHeight),g=parseFloat(m.style.height),v=Math.max(p,g);if(v<x){const w=v+y,b=Math.min(x,w),S=w-b;m.style.height=b+"px",m.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Hg.displayName=Yi;var qg="SelectGroup",[ZE,QE]=An(qg),eT=h.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=Bt();return n.jsx(ZE,{scope:s,id:a,children:n.jsx(he.div,{role:"group","aria-labelledby":a,...r,ref:t})})});eT.displayName=qg;var Gg="SelectLabel",Yg=h.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=QE(Gg,s);return n.jsx(he.div,{id:a.id,...r,ref:t})});Yg.displayName=Gg;var Ca="SelectItem",[tT,Kg]=An(Ca),Xg=h.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:o,...i}=e,l=js(Ca,s),c=Ns(Ca,s),d=l.value===r,[u,m]=h.useState(o??""),[f,y]=h.useState(!1),x=Ne(t,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,a)}),p=Bt(),g=h.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(tT,{scope:s,value:r,disabled:a,textId:p,isSelected:d,onItemTextChange:h.useCallback(w=>{m(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:n.jsx(ao.ItemSlot,{scope:s,value:r,disabled:a,textValue:u,children:n.jsx(he.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:x,onFocus:le(i.onFocus,()=>y(!0)),onBlur:le(i.onBlur,()=>y(!1)),onClick:le(i.onClick,()=>{g.current!=="mouse"&&v()}),onPointerUp:le(i.onPointerUp,()=>{g.current==="mouse"&&v()}),onPointerDown:le(i.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:le(i.onPointerMove,w=>{var b;g.current=w.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:le(i.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:le(i.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(VE.includes(w.key)&&v(),w.key===" "&&w.preventDefault())})})})})});Xg.displayName=Ca;var Un="SelectItemText",Jg=h.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,...o}=e,i=js(Un,s),l=Ns(Un,s),c=Kg(Un,s),d=WE(Un,s),[u,m]=h.useState(null),f=Ne(t,v=>m(v),c.onItemTextChange,v=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,v,c.value,c.disabled)}),y=u==null?void 0:u.textContent,x=h.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=d;return Xe(()=>(p(x),()=>g(x)),[p,g,x]),n.jsxs(n.Fragment,{children:[n.jsx(he.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Pa.createPortal(o.children,i.valueNode):null]})});Jg.displayName=Un;var Zg="SelectItemIndicator",Qg=h.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return Kg(Zg,s).isSelected?n.jsx(he.span,{"aria-hidden":!0,...r,ref:t}):null});Qg.displayName=Zg;var Ki="SelectScrollUpButton",ex=h.forwardRef((e,t)=>{const s=Ns(Ki,e.__scopeSelect),r=bc(Ki,e.__scopeSelect),[a,o]=h.useState(!1),i=Ne(t,r.onScrollButtonChange);return Xe(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;o(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(sx,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ex.displayName=Ki;var Xi="SelectScrollDownButton",tx=h.forwardRef((e,t)=>{const s=Ns(Xi,e.__scopeSelect),r=bc(Xi,e.__scopeSelect),[a,o]=h.useState(!1),i=Ne(t,r.onScrollButtonChange);return Xe(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;o(u)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?n.jsx(sx,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});tx.displayName=Xi;var sx=h.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,o=Ns("SelectScrollButton",s),i=h.useRef(null),l=oo(s),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Xe(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(he.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:le(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:le(a.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:le(a.onPointerLeave,()=>{c()})})}),sT="SelectSeparator",nx=h.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(he.div,{"aria-hidden":!0,...r,ref:t})});nx.displayName=sT;var Ji="SelectArrow",nT=h.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=io(s),o=js(Ji,s),i=Ns(Ji,s);return o.open&&i.position==="popper"?n.jsx(El,{...a,...r,ref:t}):null});nT.displayName=Ji;var rT="SelectBubbleInput",rx=h.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{const a=h.useRef(null),o=Ne(r,a),i=Rg(t);return h.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const m=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(m)}},[i,t]),n.jsx(he.select,{...s,style:{...cf,...s.style},ref:o,defaultValue:t})});rx.displayName=rT;function ax(e){return e===""||e===void 0}function ox(e){const t=gs(e),s=h.useRef(""),r=h.useRef(0),a=h.useCallback(i=>{const l=s.current+i;t(l),(function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),o=h.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,o]}function ix(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let i=aT(e,Math.max(o,0));a.length===1&&(i=i.filter(d=>d!==s));const c=i.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function aT(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var oT=Mg,lx=Ig,iT=Lg,lT=$g,cT=Vg,cx=Bg,dT=Hg,dx=Yg,ux=Xg,uT=Jg,mT=Qg,mx=ex,hx=tx,fx=nx;const Se=oT,Ce=iT,be=h.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(lx,{ref:r,className:K("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(lT,{asChild:!0,children:n.jsx(ll,{className:"h-4 w-4 opacity-50"})})]}));be.displayName=lx.displayName;const px=h.forwardRef(({className:e,...t},s)=>n.jsx(mx,{ref:s,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Wv,{className:"h-4 w-4"})}));px.displayName=mx.displayName;const gx=h.forwardRef(({className:e,...t},s)=>n.jsx(hx,{ref:s,className:K("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(ll,{className:"h-4 w-4"})}));gx.displayName=hx.displayName;const we=h.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>n.jsx(cT,{children:n.jsxs(cx,{ref:a,className:K("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx(px,{}),n.jsx(dT,{className:K("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(gx,{})]})}));we.displayName=cx.displayName;const hT=h.forwardRef(({className:e,...t},s)=>n.jsx(dx,{ref:s,className:K("px-2 py-1.5 text-sm font-semibold",e),...t}));hT.displayName=dx.displayName;const X=h.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(ux,{ref:r,className:K("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(mT,{children:n.jsx(Ls,{className:"h-4 w-4"})})}),n.jsx(uT,{children:t})]}));X.displayName=ux.displayName;const fT=h.forwardRef(({className:e,...t},s)=>n.jsx(fx,{ref:s,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));fT.displayName=fx.displayName;const Xo=[{key:"integrations",name:"System Integrations"},{key:"automations",name:"Business Automations"},{key:"automations+integrations",name:"Automations + Integrations"},{key:"apps",name:"Custom Applications"},{key:"websites",name:"Website Development"}];function xx({onClose:e,onProposalCreated:t}){const[s,r]=h.useState({title:"",client:"",project_type:"",description:"",total_fee:"",timeline:"",scope_of_work:""}),[a,o]=h.useState({name:"",email:"",company:""}),[i,l]=h.useState(!1),[c,d]=h.useState(!1),[u,m]=h.useState([]),[f,y]=h.useState(!1),[x,p]=h.useState(!1),[g,v]=h.useState(null),w=h.useRef(null),[b,S]=h.useState(""),[_,P]=h.useState(!1),[k,j]=h.useState(null),E=async()=>{try{const C=await bt.getAll(),N=C.results||C;m(Array.isArray(N)?N:[])}catch(C){console.error("Failed to fetch clients:",C),m([])}};h.useEffect(()=>{E()},[]);const B=C=>{const N=u.find(A=>A.id===C);N&&(r(A=>({...A,client:N.id})),j(N))},I=()=>{const C=!f;y(C),C?(r(N=>({...N,client:""})),j(null)):o({name:"",email:"",company:""})},R=C=>{let N=null;C.client_email&&(N=u.find(A=>A.email&&A.email.toLowerCase()===C.client_email.toLowerCase())),N?(r(A=>({...A,title:C.title||C.project_title||A.title,project_type:C.project_type||A.project_type,description:C.description||A.description,scope_of_work:C.scope_of_work||A.scope_of_work,total_fee:C.total_fee?C.total_fee.toString():A.total_fee,timeline:C.timeline||A.timeline,client:N.id})),j(N),y(!1)):(r(A=>({...A,title:C.title||C.project_title||A.title,project_type:C.project_type||A.project_type,description:C.description||A.description,scope_of_work:C.scope_of_work||A.scope_of_work,total_fee:C.total_fee?C.total_fee.toString():A.total_fee,timeline:C.timeline||A.timeline,client:""})),o({name:C.client_name||"",email:C.client_email||"",company:C.client_company||""}),(C.client_email||C.client_name)&&y(!0))},O=async C=>{var N,A;v(C),p(!0);try{const M=await ur({file:C}),L=M.file_url,U=M.file_path;if(!L&&!U)throw new Error("No file URL or path returned from upload");const G=await yc(L,{file_path:U,json_schema:{type:"object",properties:{title:{type:["string","null"]},project_title:{type:["string","null"]},client_name:{type:["string","null"]},client_email:{type:["string","null"]},client_company:{type:["string","null"]},project_type:{type:["string","null"],enum:[...Xo.map(H=>H.key),null]},description:{type:["string","null"]},scope_of_work:{type:["string","null"]},total_fee:{type:["number","null"]},timeline:{type:["string","null"]}},additionalProperties:!1}});if(G.status==="success"&&G.output){R(G.output);const H=Object.entries(G.output).filter(([Q,ee])=>ee!==null&&ee!==""&&ee!==void 0).map(([Q])=>Q).join(", ");H&&alert(`✅ Successfully extracted from document: ${H}`)}else G.error?(console.error("Extraction failed:",G.error),alert(`AI processing failed: ${G.error}`)):(console.warn("No data extracted from document"),alert("AI could not extract meaningful information from this document. Please try a different file or fill the form manually."))}catch(M){console.error("Error processing document:",M);let L="AI processing failed. ";(A=(N=M.response)==null?void 0:N.data)!=null&&A.error?L+=M.response.data.error:M.message?L+=M.message:L+="Please try again or fill the form manually.",alert(L)}p(!1)},$=async()=>{var C,N;if(!b.trim()){alert("Please paste the proposal text into the text area first.");return}P(!0);try{const A=/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,M=/(?:\$|USD|dollars?)\s*(\d+(?:,\d{3})*(?:\.\d{2})?)/gi,L=b.match(A)||[],U=b.match(M)||[],G=`TASK: Extract business proposal information from the provided text.

INSTRUCTIONS:
- Be VERY LIBERAL in your interpretation
- If something MIGHT be a project title, extract it
- If you see ANY name mentioned, consider it a potential client name  
- If you see ANY business/company mentioned, extract it
- For project type, look for keywords like: API, integration, automation, workflow, website, web, app, application, system, database, etc.
- Extract ANY dollar amounts, numbers that could be fees
- Extract ANY time references (days, weeks, months)
- If information seems incomplete, make reasonable assumptions
- Don't return null unless absolutely nothing is found

PROJECT TYPE MAPPING:
- "integrations" = API connections, system integrations, third-party connections
- "automations" = workflows, process automation, business automation  
- "automations+integrations" = combination projects
- "apps" = software development, custom applications, mobile apps
- "websites" = web development, website creation, web applications

TEXT TO ANALYZE:
---START TEXT---
${b}
---END TEXT---

EXTRACT as much as possible into this JSON structure:`,H=await dr({prompt:G,response_json_schema:{type:"object",properties:{title:{type:["string","null"],description:"Any text that could be a project title, subject, or heading"},client_name:{type:["string","null"],description:"Any person's name mentioned in the text"},client_email:{type:["string","null"],description:"Any email address found"},client_company:{type:["string","null"],description:"Any company, business, or organization name"},project_type:{type:["string","null"],enum:[...Xo.map(ee=>ee.key),null],description:"Map content keywords to project categories"},description:{type:["string","null"],description:"Main project description or requirements"},scope_of_work:{type:["string","null"],description:"Detailed work breakdown, deliverables, or tasks"},total_fee:{type:["number","null"],description:"Any monetary amount mentioned"},timeline:{type:["string","null"],description:"Any time references or deadlines"}},additionalProperties:!1},temperature:.1,max_tokens:2e3});let Q;if(H!=null&&H.result&&typeof H.result=="string")try{Q=JSON.parse(H.result)}catch(ee){console.error("Failed to parse JSON from result property:",ee),alert("AI returned invalid JSON format in result. Please try again.");return}else if(typeof H=="object"&&H!==null&&!H.result)Q=H;else if(typeof H=="string")try{Q=JSON.parse(H)}catch(ee){console.error("Failed to parse JSON response:",ee),alert("AI returned invalid JSON format. Please try again.");return}else{console.error("Unexpected response format:",H),alert("AI returned unexpected response format. Please try again.");return}if(Q&&typeof Q=="object"){const ee={...Q};if(!ee.client_email&&L.length>0&&(ee.client_email=L[0]),!ee.total_fee&&U.length>0){const Y=U[0].replace(/[^\d.]/g,""),ce=parseFloat(Y);isNaN(ce)||(ee.total_fee=ce)}if(!ee.title&&b.length<200){const Y=b.split(`
`).filter(ce=>ce.trim().length>0);Y.length>0&&(ee.title=Y[0].trim().substring(0,100))}if(!ee.project_type){const Y=b.toLowerCase();Y.includes("api")||Y.includes("integration")||Y.includes("connect")?ee.project_type="integrations":Y.includes("automation")||Y.includes("workflow")||Y.includes("process")?ee.project_type="automations":Y.includes("website")||Y.includes("web")?ee.project_type="websites":(Y.includes("app")||Y.includes("software")||Y.includes("system"))&&(ee.project_type="apps"),ee.project_type&&console.log("🎯 Applied project type inference:",ee.project_type)}if(Object.values(ee).filter(Y=>Y!==null&&Y!==""&&Y!==void 0).length>0){R(ee);const Y=Object.entries(ee).filter(([ce,re])=>re!==null&&re!==""&&re!==void 0).map(([ce])=>ce).join(", ");alert(`✅ Successfully extracted: ${Y}`)}else console.warn("⚠️ No meaningful data extracted"),alert(`AI could not extract meaningful information from the provided text. The text might be too short, unclear, or not contain proposal-related information. Please try:

1. Adding more context to your text
2. Including specific details like amounts, names, or project descriptions
3. Filling the form manually`)}else console.error("❌ Invalid parsed data format:",Q),alert("AI parsing returned invalid data format. Please try again or fill the form manually.")}catch(A){console.error("💥 Error in AI text parsing:",A);let M="AI text parsing failed. ";(N=(C=A.response)==null?void 0:C.data)!=null&&N.error?M+=A.response.data.error:A.message?M+=A.message:M+="Please try again or fill the form manually.",alert(M)}finally{P(!1)}},T=async()=>{var C,N;if(!s.project_type||!s.description){alert("Please select project type and provide description first");return}d(!0);try{const A=await dr({prompt:`Generate a detailed, professional scope of work for a ${s.project_type} project. 
      
      Project description: ${s.description}
      
      Create a comprehensive scope that includes:
      - Project overview
      - Key deliverables
      - Technical requirements
      - Implementation phases
      - Success criteria
      
      Make it professional and detailed for a tech systems integration company.`,response_json_schema:{type:"object",properties:{scope_of_work:{type:"string"},suggested_timeline:{type:"string"}}}});let M;if(A!=null&&A.result&&typeof A.result=="string")try{M=JSON.parse(A.result)}catch(L){console.error("Failed to parse JSON from result property:",L),alert("AI returned invalid JSON format. Please try again."),d(!1);return}else if(typeof A=="object"&&A!==null&&(A.scope_of_work||A.suggested_timeline))M=A;else if(typeof A=="string")try{M=JSON.parse(A)}catch(L){console.error("Failed to parse JSON response:",L),alert("AI returned invalid JSON format. Please try again."),d(!1);return}else{console.error("Unexpected AI generate response format:",A),alert("AI returned unexpected response format. Please try again."),d(!1);return}if(M&&(M.scope_of_work||M.suggested_timeline)){r(U=>({...U,scope_of_work:M.scope_of_work||U.scope_of_work,timeline:M.suggested_timeline||U.timeline}));const L=[];M.scope_of_work&&L.push("Scope of Work"),M.suggested_timeline&&L.push("Timeline"),L.length>0&&alert(`✅ AI Generated: ${L.join(" and ")}`)}else console.warn("⚠️ AI response missing expected fields:",M),alert("AI generated content but it was empty. Please try again.")}catch(A){console.error("💥 Error generating AI content:",A);let M="AI generation failed. ";(N=(C=A.response)==null?void 0:C.data)!=null&&N.error?M+=A.response.data.error:A.message?M+=A.message:M+="Please try again or fill manually.",alert(M)}d(!1)},D=async C=>{var N,A;C.preventDefault(),l(!0);try{let M=s.client;if(f){if(!a.name||!a.email){alert("Client Name and Email are required for a new client."),l(!1);return}try{M=(await bt.create({name:a.name,email:a.email,company:a.company||""})).id,await E()}catch(G){console.error("Error creating client:",G);let H="Failed to create new client.";if((N=G.response)!=null&&N.data){const Q=G.response.data;typeof Q=="object"&&(H=`Client creation failed:
${Object.entries(Q).map(([W,Y])=>`${W}: ${Array.isArray(Y)?Y.join(", "):Y}`).join(`
`)}`)}alert(H),l(!1);return}}else if(!M){alert("Please select an existing client or switch to 'Add New Client' to create one."),l(!1);return}const L=new Date;L.setDate(L.getDate()+30);const U={title:s.title,client:M,project_type:s.project_type,description:s.description,scope_of_work:s.scope_of_work||"",total_fee:parseFloat(s.total_fee)||0,timeline:s.timeline||"",valid_until:L.toISOString().split("T")[0],status:"draft"};Object.keys(U).forEach(G=>{(U[G]===""||U[G]===null||U[G]===void 0)&&G!=="scope_of_work"&&G!=="timeline"&&delete U[G]}),await St.create(U),t(),e()}catch(M){console.error("Error creating proposal:",M);let L="Failed to create proposal. Please try again.";if((A=M.response)!=null&&A.data){const U=M.response.data;typeof U=="object"?L=`Validation errors:
${Object.entries(U).map(([H,Q])=>{const ee=Array.isArray(Q)?Q.join(", "):Q;return`${H}: ${ee}`}).join(`
`)}`:typeof U=="string"&&(L=U)}else M.message&&(L=M.message);alert(L)}l(!1)};return n.jsx(ht,{open:!0,onOpenChange:e,children:n.jsxs(ot,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ft,{children:n.jsx(pt,{children:"Create New Proposal"})}),x&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center gap-3 my-4",children:[n.jsx(He,{className:"w-5 h-5 animate-spin text-blue-600"}),n.jsx("span",{className:"text-blue-800 font-medium",children:"AI is processing your proposal document..."})]}),_&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center gap-3 my-4",children:[n.jsx(He,{className:"w-5 h-5 animate-spin text-blue-600"}),n.jsx("span",{className:"text-blue-800 font-medium",children:"AI is parsing your pasted text..."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs(V,{type:"button",variant:"outline",onClick:()=>{var C;return(C=w.current)==null?void 0:C.click()},disabled:x||_,children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Upload Document for AI-Fill"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Upload a draft, email, or requirements document."}),g&&n.jsxs("p",{className:"text-sm font-medium text-green-600",children:["Uploaded: ",g.name]})]}),n.jsx("input",{ref:w,type:"file",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:C=>{const N=C.target.files[0];N&&O(N)},className:"hidden"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(z,{htmlFor:"paste-area",children:"Paste Text for AI-Fill"}),n.jsx(Ye,{id:"paste-area",placeholder:"Paste your full proposal text here, and the AI will break it down and pre-fill the form for you.",rows:6,value:b,onChange:C=>S(C.target.value),className:"bg-slate-50",disabled:x||_}),n.jsxs(V,{type:"button",onClick:$,disabled:_||x||!b.trim(),className:"w-full",children:[_?n.jsx(He,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(ze,{className:"w-4 h-4 mr-2"}),_?"Parsing Text...":"Parse Text with AI"]})]})]}),n.jsxs("form",{onSubmit:D,className:"space-y-4 pt-6 border-t",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"title",children:"Project Title"}),n.jsx(q,{id:"title",value:s.title,onChange:C=>r({...s,title:C.target.value}),placeholder:"Enter project title",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"total_fee",children:"Total Fee ($)"}),n.jsx(q,{id:"total_fee",type:"number",min:"0",step:"0.01",value:s.total_fee,onChange:C=>r({...s,total_fee:C.target.value}),placeholder:"0.00",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx(z,{htmlFor:"client",children:"Client"}),n.jsx(V,{type:"button",variant:"link",onClick:I,className:"h-auto p-0 text-sm",disabled:x||_,children:f?n.jsxs(n.Fragment,{children:[n.jsx(jb,{className:"w-3 h-3 mr-1"}),"Select Existing Client"]}):n.jsxs(n.Fragment,{children:[n.jsx(yr,{className:"w-3 h-3 mr-1"}),"Add New Client"]})})]}),f?n.jsxs("div",{className:"p-4 border bg-slate-50 rounded-lg space-y-3",children:[n.jsx("p",{className:"text-sm font-medium text-slate-700",children:"New Client Details"}),n.jsx(q,{placeholder:"Client Name",value:a.name,onChange:C=>o({...a,name:C.target.value}),required:!0}),n.jsx(q,{type:"email",placeholder:"Client Email",value:a.email,onChange:C=>o({...a,email:C.target.value}),required:!0}),n.jsx(q,{placeholder:"Company Name (Optional)",value:a.company,onChange:C=>o({...a,company:C.target.value})})]}):n.jsxs(n.Fragment,{children:[n.jsxs(Se,{value:s.client,onValueChange:B,children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select an existing client"})}),n.jsx(we,{children:u.map(C=>n.jsxs(X,{value:C.id,children:[C.name," ",C.company?`(${C.company})`:""]},C.id))})]}),k&&n.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",k.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",k.email]}),k.company&&n.jsxs("p",{children:[n.jsx("strong",{children:"Company:"})," ",k.company]})]})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"project_type",children:"Project Type"}),n.jsxs(Se,{value:s.project_type,onValueChange:C=>r({...s,project_type:C}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select project type"})}),n.jsx(we,{children:Xo.map(C=>n.jsx(X,{value:C.key,children:C.name},C.key))})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"description",children:"Project Description"}),n.jsx(Ye,{id:"description",value:s.description,onChange:C=>r({...s,description:C.target.value}),placeholder:"Brief description of the project requirements",rows:3,required:!0})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx(z,{htmlFor:"scope_of_work",children:"Scope of Work"}),n.jsxs(V,{type:"button",variant:"outline",onClick:T,disabled:c||!s.project_type||!s.description||x||_,className:"text-xs",children:[n.jsx(Jb,{className:"w-3 h-3 mr-1"}),c?"Generating...":"AI Generate"]})]}),n.jsx(Ye,{id:"scope_of_work",value:s.scope_of_work,onChange:C=>r({...s,scope_of_work:C.target.value}),placeholder:"Detailed scope of work will be generated here...",rows:8})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"timeline",children:"Project Timeline"}),n.jsx(q,{id:"timeline",value:s.timeline,onChange:C=>r({...s,timeline:C.target.value}),placeholder:"e.g., 8-12 weeks"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(V,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:i||x||c||_,className:"bg-amber-500 hover:bg-amber-600 text-slate-900",children:i?"Creating...":"Create Proposal"})]})]})]})})}function yx({onClose:e,onClientAdded:t}){const[s,r]=h.useState(null),[a,o]=h.useState({name:"",company:"",email:"",phone:"",billing_address:""}),[i,l]=h.useState(!1),[c,d]=h.useState(!1),[u,m]=h.useState(null),f=h.useRef(null);h.useEffect(()=>{(async()=>{try{const g=await Ge.list();g&&g.length>0&&r(g[0])}catch(g){console.error("Error loading settings:",g)}})()},[]);const y=async p=>{m(p),d(!0);try{const{file_url:g}=await ur({file:p}),v=await yc({file_url:g,json_schema:{type:"object",properties:{name:{type:"string"},company:{type:"string"},email:{type:"string"},phone:{type:"string"},billing_address:{type:"string"}}}});if(v.status==="success"&&v.output){const w=v.output;o(b=>({...b,name:w.name||b.name,company:w.company||b.company,email:w.email||b.email,phone:w.phone||b.phone,billing_address:w.billing_address||b.billing_address}))}}catch(g){console.error("Error processing document:",g),alert("AI processing failed. Please fill the form manually.")}d(!1)},x=async p=>{p.preventDefault(),l(!0);try{const g=await bt.create(a),v=window.location.origin,w=`Hi ${a.name},

You've been invited to the client portal for ${(s==null?void 0:s.company_name)||"our company"}.

To access your projects, invoices, and updates, please sign in using the link below:
${v}

Important: You must use this exact email address (${a.email}) to sign in, as it has been pre-authorized for access.

We look forward to collaborating with you.

Best regards,
The ${(s==null?void 0:s.company_name)||"Nex-a"} Team`;await bE({to:a.email,subject:`Welcome to the ${(s==null?void 0:s.company_name)||"Nex-a"} Client Portal`,body:w}),t(g)}catch(g){console.error("Error adding client:",g),alert("Failed to add client. An invitation may have already been sent to this email. Please check and try again.")}l(!1)};return n.jsx(ht,{open:!0,onOpenChange:e,children:n.jsxs(ot,{className:"sm:max-w-lg",children:[n.jsx(ft,{children:n.jsx(pt,{children:"Add New Client"})}),c&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center gap-3 my-4",children:[n.jsx(He,{className:"w-5 h-5 animate-spin text-blue-600"}),n.jsx("span",{className:"text-blue-800 font-medium",children:"AI is processing your document..."})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center my-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs(V,{type:"button",variant:"outline",onClick:()=>{var p;return(p=f.current)==null?void 0:p.click()},disabled:c,children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Upload Document for AI-Fill"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Upload a business card, email signature, or contact sheet."}),u&&n.jsxs("p",{className:"text-sm font-medium text-green-600",children:["Uploaded: ",u.name]})]}),n.jsx("input",{ref:f,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:p=>{const g=p.target.files[0];g&&y(g)},className:"hidden"})]}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"name",children:"Full Name"}),n.jsx(q,{id:"name",value:a.name,onChange:p=>o({...a,name:p.target.value}),placeholder:"John Doe",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"company",children:"Company Name"}),n.jsx(q,{id:"company",value:a.company,onChange:p=>o({...a,company:p.target.value}),placeholder:"Acme Inc."})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"email",children:"Email Address"}),n.jsx(q,{id:"email",type:"email",value:a.email,onChange:p=>o({...a,email:p.target.value}),placeholder:"john@acme.com",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"phone",children:"Phone Number"}),n.jsx(q,{id:"phone",value:a.phone,onChange:p=>o({...a,phone:p.target.value}),placeholder:"(555) 123-4567"})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"billing_address",children:"Billing Address"}),n.jsx(Ye,{id:"billing_address",value:a.billing_address,onChange:p=>o({...a,billing_address:p.target.value}),placeholder:"123 Main St, Anytown, USA 12345",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(V,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:i||c,className:"bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:i?"Creating...":"Create Client"})]})]})]})})}function pT(e){const t=gT(e),s=h.forwardRef((r,a)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(yT);if(c){const d=c.props.children,u=l.map(m=>m===c?h.Children.count(d)>1?h.Children.only(null):h.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...i,ref:a,children:h.isValidElement(d)?h.cloneElement(d,void 0,u):null})}return n.jsx(t,{...i,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}function gT(e){const t=h.forwardRef((s,r)=>{const{children:a,...o}=s;if(h.isValidElement(a)){const i=bT(a),l=vT(o,a.props);return a.type!==h.Fragment&&(l.ref=r?Ys(r,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xT=Symbol("radix.slottable");function yT(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xT}function vT(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function bT(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var lo="Popover",[vx]=as(lo,[Pn]),Pr=Pn(),[wT,_s]=vx(lo),bx=e=>{const{__scopePopover:t,children:s,open:r,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Pr(t),c=h.useRef(null),[d,u]=h.useState(!1),[m,f]=ps({prop:r,defaultProp:a??!1,onChange:o,caller:lo});return n.jsx(kl,{...l,children:n.jsx(wT,{scope:t,contentId:Bt(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(y=>!y),[f]),hasCustomAnchor:d,onCustomAnchorAdd:h.useCallback(()=>u(!0),[]),onCustomAnchorRemove:h.useCallback(()=>u(!1),[]),modal:i,children:s})})};bx.displayName=lo;var wx="PopoverAnchor",jT=h.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=_s(wx,s),o=Pr(s),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(i(),()=>l()),[i,l]),n.jsx(Xa,{...o,...r,ref:t})});jT.displayName=wx;var jx="PopoverTrigger",Nx=h.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=_s(jx,s),o=Pr(s),i=Ne(t,a.triggerRef),l=n.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Px(a.open),...r,ref:i,onClick:le(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Xa,{asChild:!0,...o,children:l})});Nx.displayName=jx;var wc="PopoverPortal",[NT,_T]=vx(wc,{forceMount:void 0}),_x=e=>{const{__scopePopover:t,forceMount:s,children:r,container:a}=e,o=_s(wc,t);return n.jsx(NT,{scope:t,forceMount:s,children:n.jsx(Gt,{present:s||o.open,children:n.jsx(br,{asChild:!0,container:a,children:r})})})};_x.displayName=wc;var vn="PopoverContent",Sx=h.forwardRef((e,t)=>{const s=_T(vn,e.__scopePopover),{forceMount:r=s.forceMount,...a}=e,o=_s(vn,e.__scopePopover);return n.jsx(Gt,{present:r||o.open,children:o.modal?n.jsx(CT,{...a,ref:t}):n.jsx(kT,{...a,ref:t})})});Sx.displayName=vn;var ST=pT("PopoverContent.RemoveScroll"),CT=h.forwardRef((e,t)=>{const s=_s(vn,e.__scopePopover),r=h.useRef(null),a=Ne(t,r),o=h.useRef(!1);return h.useEffect(()=>{const i=r.current;if(i)return pl(i)},[]),n.jsx(Va,{as:ST,allowPinchZoom:!0,children:n.jsx(Cx,{...e,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:le(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),kT=h.forwardRef((e,t)=>{const s=_s(vn,e.__scopePopover),r=h.useRef(!1),a=h.useRef(!1);return n.jsx(Cx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=s.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((d=s.triggerRef.current)==null?void 0:d.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Cx=h.forwardRef((e,t)=>{const{__scopePopover:s,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=e,f=_s(vn,s),y=Pr(s);return fl(),n.jsx(La,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:n.jsx(vr,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:n.jsx(Pl,{"data-state":Px(f.open),role:"dialog",id:f.contentId,...y,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kx="PopoverClose",PT=h.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=_s(kx,s);return n.jsx(he.button,{type:"button",...r,ref:t,onClick:le(e.onClick,()=>a.onOpenChange(!1))})});PT.displayName=kx;var ET="PopoverArrow",TT=h.forwardRef((e,t)=>{const{__scopePopover:s,...r}=e,a=Pr(s);return n.jsx(El,{...a,...r,ref:t})});TT.displayName=ET;function Px(e){return e?"open":"closed"}var DT=bx,AT=Nx,RT=_x,Ex=Sx;const Tx=DT,Dx=AT,jc=h.forwardRef(({className:e,align:t="center",sideOffset:s=4,...r},a)=>n.jsx(RT,{children:n.jsx(Ex,{ref:a,align:t,sideOffset:s,className:K("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));jc.displayName=Ex.displayName;var ie=function(){return ie=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},ie.apply(this,arguments)};function MT(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function Ax(e,t,s){for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Er(e){return e.mode==="multiple"}function Tr(e){return e.mode==="range"}function co(e){return e.mode==="single"}var OT={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function IT(e,t){return ve(e,"LLLL y",t)}function FT(e,t){return ve(e,"d",t)}function LT(e,t){return ve(e,"LLLL",t)}function $T(e){return"".concat(e)}function VT(e,t){return ve(e,"cccccc",t)}function BT(e,t){return ve(e,"yyyy",t)}var UT=Object.freeze({__proto__:null,formatCaption:IT,formatDay:FT,formatMonthCaption:LT,formatWeekNumber:$T,formatWeekdayName:VT,formatYearCaption:BT}),zT=function(e,t,s){return ve(e,"do MMMM (EEEE)",s)},WT=function(){return"Month: "},HT=function(){return"Go to next month"},qT=function(){return"Go to previous month"},GT=function(e,t){return ve(e,"cccc",t)},YT=function(e){return"Week n. ".concat(e)},KT=function(){return"Year: "},XT=Object.freeze({__proto__:null,labelDay:zT,labelMonthDropdown:WT,labelNext:HT,labelPrevious:qT,labelWeekNumber:YT,labelWeekday:GT,labelYearDropdown:KT});function JT(){var e="buttons",t=OT,s=gg,r={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:UT,labels:XT,locale:s,modifiersClassNames:r,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function ZT(e){var t=e.fromYear,s=e.toYear,r=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=at(r):t&&(o=new Date(t,0,1)),a?i=mc(a):s&&(i=new Date(s,11,31)),{fromDate:o?yn(o):void 0,toDate:i?yn(i):void 0}}var Rx=h.createContext(void 0);function QT(e){var t,s=e.initialProps,r=JT(),a=ZT(s),o=a.fromDate,i=a.toDate,l=(t=s.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(co(s)||Er(s)||Tr(s))&&(c=s.onSelect);var d=ie(ie(ie({},r),s),{captionLayout:l,classNames:ie(ie({},r.classNames),s.classNames),components:ie({},s.components),formatters:ie(ie({},r.formatters),s.formatters),fromDate:o,labels:ie(ie({},r.labels),s.labels),mode:s.mode||r.mode,modifiers:ie(ie({},r.modifiers),s.modifiers),modifiersClassNames:ie(ie({},r.modifiersClassNames),s.modifiersClassNames),onSelect:c,styles:ie(ie({},r.styles),s.styles),toDate:i});return n.jsx(Rx.Provider,{value:d,children:e.children})}function ke(){var e=h.useContext(Rx);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Mx(e){var t=ke(),s=t.locale,r=t.classNames,a=t.styles,o=t.formatters.formatCaption;return n.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:s})})}function eD(e){return n.jsx("svg",ie({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ox(e){var t,s,r=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,d=ke(),u=(s=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&s!==void 0?s:eD;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:o}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function tD(e){var t,s=ke(),r=s.fromDate,a=s.toDate,o=s.styles,i=s.locale,l=s.formatters.formatMonthCaption,c=s.classNames,d=s.components,u=s.labels.labelMonthDropdown;if(!r)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var m=[];if(nE(r,a))for(var f=at(r),y=r.getMonth();y<=a.getMonth();y++)m.push(Ko(f,y));else for(var f=at(new Date),y=0;y<=11;y++)m.push(Ko(f,y));var x=function(g){var v=Number(g.target.value),w=Ko(at(e.displayMonth),v);e.onChange(w)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Ox;return n.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:o.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(g){return n.jsx("option",{value:g.getMonth(),children:l(g,{locale:i})},g.getMonth())})})}function sD(e){var t,s=e.displayMonth,r=ke(),a=r.fromDate,o=r.toDate,i=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,f=[];if(!a)return n.jsx(n.Fragment,{});if(!o)return n.jsx(n.Fragment,{});for(var y=a.getFullYear(),x=o.getFullYear(),p=y;p<=x;p++)f.push(Yu(fg(new Date),p));var g=function(w){var b=Yu(at(s),Number(w.target.value));e.onChange(b)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Ox;return n.jsx(v,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:s.getFullYear(),caption:u(s,{locale:i}),children:f.map(function(w){return n.jsx("option",{value:w.getFullYear(),children:u(w,{locale:i})},w.getFullYear())})})}function nD(e,t){var s=h.useState(e),r=s[0],a=s[1],o=t===void 0?r:t;return[o,a]}function rD(e){var t=e.month,s=e.defaultMonth,r=e.today,a=t||s||r||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&cr(o,a)<0){var d=-1*(c-1);a=Et(o,d)}return i&&cr(a,i)<0&&(a=i),at(a)}function aD(){var e=ke(),t=rD(e),s=nD(t,e.month),r=s[0],a=s[1],o=function(i){var l;if(!e.disableNavigation){var c=at(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,o]}function oD(e,t){for(var s=t.reverseMonths,r=t.numberOfMonths,a=at(e),o=at(Et(a,r)),i=cr(o,a),l=[],c=0;c<i;c++){var d=Et(a,c);l.push(d)}return s&&(l=l.reverse()),l}function iD(e,t){if(!t.disableNavigation){var s=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=at(e);if(!s)return Et(l,i);var c=cr(s,e);if(!(c<o))return Et(l,i)}}function lD(e,t){if(!t.disableNavigation){var s=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=r?o:1,l=at(e);if(!s)return Et(l,-i);var c=cr(l,s);if(!(c<=0))return Et(l,-i)}}var Ix=h.createContext(void 0);function cD(e){var t=ke(),s=aD(),r=s[0],a=s[1],o=oD(r,t),i=iD(r,t),l=lD(r,t),c=function(m){return o.some(function(f){return fc(m,f)})},d=function(m,f){c(m)||(f&&wg(m,f)?a(Et(m,1+t.numberOfMonths*-1)):a(m))},u={currentMonth:r,displayMonths:o,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:i,isDateDisplayed:c};return n.jsx(Ix.Provider,{value:u,children:e.children})}function Dr(){var e=h.useContext(Ix);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function tm(e){var t,s=ke(),r=s.classNames,a=s.styles,o=s.components,i=Dr().goToMonth,l=function(u){i(Et(u,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:Mx,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:r.vhidden,children:d}),n.jsx(tD,{onChange:l,displayMonth:e.displayMonth}),n.jsx(sD,{onChange:l,displayMonth:e.displayMonth})]})}function dD(e){return n.jsx("svg",ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function uD(e){return n.jsx("svg",ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ka=h.forwardRef(function(e,t){var s=ke(),r=s.classNames,a=s.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),l=ie(ie({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",ie({},e,{ref:t,type:"button",className:i,style:l}))});function mD(e){var t,s,r=ke(),a=r.dir,o=r.locale,i=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var f=d(e.previousMonth,{locale:o}),y=[i.nav_button,i.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:o}),p=[i.nav_button,i.nav_button_next].join(" "),g=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:uD,v=(s=m==null?void 0:m.IconLeft)!==null&&s!==void 0?s:dD;return n.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(ka,{name:"previous-month","aria-label":f,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(g,{className:i.nav_icon,style:l.nav_icon}):n.jsx(v,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(ka,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(v,{className:i.nav_icon,style:l.nav_icon}):n.jsx(g,{className:i.nav_icon,style:l.nav_icon})})]})}function sm(e){var t=ke().numberOfMonths,s=Dr(),r=s.previousMonth,a=s.nextMonth,o=s.goToMonth,i=s.displayMonths,l=i.findIndex(function(x){return fc(e.displayMonth,x)}),c=l===0,d=l===i.length-1,u=t>1&&(c||!d),m=t>1&&(d||!c),f=function(){r&&o(r)},y=function(){a&&o(a)};return n.jsx(mD,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:y})}function hD(e){var t,s=ke(),r=s.classNames,a=s.disableNavigation,o=s.styles,i=s.captionLayout,l=s.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Mx,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=n.jsx(tm,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(tm,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(sm,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(sm,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:r.caption,style:o.caption,children:d})}function fD(e){var t=ke(),s=t.footer,r=t.styles,a=t.classNames.tfoot;return s?n.jsx("tfoot",{className:a,style:r.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:s})})}):n.jsx(n.Fragment,{})}function pD(e,t,s){for(var r=s?Bs(new Date):qt(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Je(r,o);a.push(i)}return a}function gD(){var e=ke(),t=e.classNames,s=e.styles,r=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=pD(a,o,i);return n.jsxs("tr",{style:s.head_row,className:t.head_row,children:[r&&n.jsx("td",{style:s.head_cell,className:t.head_cell}),d.map(function(u,m){return n.jsx("th",{scope:"col",className:t.head_cell,style:s.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},m)})]})}function xD(){var e,t=ke(),s=t.classNames,r=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:gD;return n.jsx("thead",{style:r.head,className:s.head,children:n.jsx(o,{})})}function yD(e){var t=ke(),s=t.locale,r=t.formatters.formatDay;return n.jsx(n.Fragment,{children:r(e.date,{locale:s})})}var Nc=h.createContext(void 0);function vD(e){if(!Er(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(Nc.Provider,{value:t,children:e.children})}return n.jsx(bD,{initialProps:e.initialProps,children:e.children})}function bD(e){var t=e.initialProps,s=e.children,r=t.selected,a=t.min,o=t.max,i=function(d,u,m){var f,y;(f=t.onDayClick)===null||f===void 0||f.call(t,d,u,m);var x=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!x){var p=!!(!u.selected&&o&&(r==null?void 0:r.length)===o);if(!p){var g=r?Ax([],r):[];if(u.selected){var v=g.findIndex(function(w){return st(d,w)});g.splice(v,1)}else g.push(d);(y=t.onSelect)===null||y===void 0||y.call(t,g,d,u,m)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=o&&r.length>o-1,m=r.some(function(f){return st(f,d)});return!!(u&&!m)});var c={selected:r,onDayClick:i,modifiers:l};return n.jsx(Nc.Provider,{value:c,children:s})}function _c(){var e=h.useContext(Nc);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function wD(e,t){var s=t||{},r=s.from,a=s.to;return r&&a?st(a,e)&&st(r,e)?void 0:st(a,e)?{from:a,to:void 0}:st(r,e)?void 0:qi(r,e)?{from:e,to:a}:{from:r,to:e}:a?qi(e,a)?{from:a,to:e}:{from:e,to:a}:r?wg(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Sc=h.createContext(void 0);function jD(e){if(!Tr(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(Sc.Provider,{value:t,children:e.children})}return n.jsx(ND,{initialProps:e.initialProps,children:e.children})}function ND(e){var t=e.initialProps,s=e.children,r=t.selected,a=r||{},o=a.from,i=a.to,l=t.min,c=t.max,d=function(y,x,p){var g,v;(g=t.onDayClick)===null||g===void 0||g.call(t,y,x,p);var w=wD(y,r);(v=t.onSelect)===null||v===void 0||v.call(t,w,y,x,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],st(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),l&&(o&&!i&&u.disabled.push({after:Yo(o,l-1),before:Je(o,l-1)}),o&&i&&u.disabled.push({after:o,before:Je(o,l-1)}),!o&&i&&u.disabled.push({after:Yo(i,l-1),before:Je(i,l-1)})),c){if(o&&!i&&(u.disabled.push({before:Je(o,-c+1)}),u.disabled.push({after:Je(o,c-1)})),o&&i){var m=$t(i,o)+1,f=c-m;u.disabled.push({before:Yo(o,f)}),u.disabled.push({after:Je(i,f)})}!o&&i&&(u.disabled.push({before:Je(i,-c+1)}),u.disabled.push({after:Je(i,c-1)}))}return n.jsx(Sc.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:s})}function Cc(){var e=h.useContext(Sc);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function aa(e){return Array.isArray(e)?Ax([],e):e!==void 0?[e]:[]}function _D(e){var t={};return Object.entries(e).forEach(function(s){var r=s[0],a=s[1];t[r]=aa(a)}),t}var Tt;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Tt||(Tt={}));var SD=Tt.Selected,Jt=Tt.Disabled,CD=Tt.Hidden,kD=Tt.Today,Jo=Tt.RangeEnd,Zo=Tt.RangeMiddle,Qo=Tt.RangeStart,PD=Tt.Outside;function ED(e,t,s){var r,a=(r={},r[SD]=aa(e.selected),r[Jt]=aa(e.disabled),r[CD]=aa(e.hidden),r[kD]=[e.today],r[Jo]=[],r[Zo]=[],r[Qo]=[],r[PD]=[],r);return e.fromDate&&a[Jt].push({before:e.fromDate}),e.toDate&&a[Jt].push({after:e.toDate}),Er(e)?a[Jt]=a[Jt].concat(t.modifiers[Jt]):Tr(e)&&(a[Jt]=a[Jt].concat(s.modifiers[Jt]),a[Qo]=s.modifiers[Qo],a[Zo]=s.modifiers[Zo],a[Jo]=s.modifiers[Jo]),a}var Fx=h.createContext(void 0);function TD(e){var t=ke(),s=_c(),r=Cc(),a=ED(t,s,r),o=_D(t.modifiers),i=ie(ie({},a),o);return n.jsx(Fx.Provider,{value:i,children:e.children})}function Lx(){var e=h.useContext(Fx);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function DD(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function AD(e){return!!(e&&typeof e=="object"&&"from"in e)}function RD(e){return!!(e&&typeof e=="object"&&"after"in e)}function MD(e){return!!(e&&typeof e=="object"&&"before"in e)}function OD(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ID(e,t){var s,r=t.from,a=t.to;if(r&&a){var o=$t(a,r)<0;o&&(s=[a,r],r=s[0],a=s[1]);var i=$t(e,r)>=0&&$t(a,e)>=0;return i}return a?st(a,e):r?st(r,e):!1}function FD(e){return uc(e)}function LD(e){return Array.isArray(e)&&e.every(uc)}function $D(e,t){return t.some(function(s){if(typeof s=="boolean")return s;if(FD(s))return st(e,s);if(LD(s))return s.includes(e);if(AD(s))return ID(e,s);if(OD(s))return s.dayOfWeek.includes(e.getDay());if(DD(s)){var r=$t(s.before,e),a=$t(s.after,e),o=r>0,i=a<0,l=qi(s.before,s.after);return l?i&&o:o||i}return RD(s)?$t(e,s.after)>0:MD(s)?$t(s.before,e)>0:typeof s=="function"?s(e):!1})}function kc(e,t,s){var r=Object.keys(t).reduce(function(o,i){var l=t[i];return $D(e,l)&&o.push(i),o},[]),a={};return r.forEach(function(o){return a[o]=!0}),s&&!fc(e,s)&&(a.outside=!0),a}function VD(e,t){for(var s=at(e[0]),r=mc(e[e.length-1]),a,o,i=s;i<=r;){var l=kc(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Je(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Je(i,1)}return o||a}var BD=365;function $x(e,t){var s=t.moveBy,r=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,m=a.locale,f={day:Je,week:Hi,month:Et,year:QP,startOfWeek:function(g){return a.ISOWeek?Bs(g):qt(g,{locale:m,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?pg(g):hc(g,{locale:m,weekStartsOn:c})}},y=f[s](e,r==="after"?1:-1);r==="before"&&d?y=e4([d,y]):r==="after"&&u&&(y=t4([u,y]));var x=!0;if(o){var p=kc(y,o);x=!p.disabled&&!p.hidden}return x?y:l.count>BD?l.lastFocused:$x(y,{moveBy:s,direction:r,context:a,modifiers:o,retry:ie(ie({},l),{count:l.count+1})})}var Vx=h.createContext(void 0);function UD(e){var t=Dr(),s=Lx(),r=h.useState(),a=r[0],o=r[1],i=h.useState(),l=i[0],c=i[1],d=VD(t.displayMonths,s),u=a??(l&&t.isDateDisplayed(l))?l:d,m=function(){c(a),o(void 0)},f=function(g){o(g)},y=ke(),x=function(g,v){if(a){var w=$x(a,{moveBy:g,direction:v,context:y,modifiers:s});st(a,w)||(t.goToDate(w,a),f(w))}},p={focusedDay:a,focusTarget:u,blur:m,focus:f,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(Vx.Provider,{value:p,children:e.children})}function Pc(){var e=h.useContext(Vx);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function zD(e,t){var s=Lx(),r=kc(e,s,t);return r}var Ec=h.createContext(void 0);function WD(e){if(!co(e.initialProps)){var t={selected:void 0};return n.jsx(Ec.Provider,{value:t,children:e.children})}return n.jsx(HD,{initialProps:e.initialProps,children:e.children})}function HD(e){var t=e.initialProps,s=e.children,r=function(o,i,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:r};return n.jsx(Ec.Provider,{value:a,children:s})}function Bx(){var e=h.useContext(Ec);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function qD(e,t){var s=ke(),r=Bx(),a=_c(),o=Cc(),i=Pc(),l=i.focusDayAfter,c=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,m=i.blur,f=i.focus,y=i.focusMonthBefore,x=i.focusMonthAfter,p=i.focusYearBefore,g=i.focusYearAfter,v=i.focusStartOfWeek,w=i.focusEndOfWeek,b=function(C){var N,A,M,L;co(s)?(N=r.onDayClick)===null||N===void 0||N.call(r,e,t,C):Er(s)?(A=a.onDayClick)===null||A===void 0||A.call(a,e,t,C):Tr(s)?(M=o.onDayClick)===null||M===void 0||M.call(o,e,t,C):(L=s.onDayClick)===null||L===void 0||L.call(s,e,t,C)},S=function(C){var N;f(e),(N=s.onDayFocus)===null||N===void 0||N.call(s,e,t,C)},_=function(C){var N;m(),(N=s.onDayBlur)===null||N===void 0||N.call(s,e,t,C)},P=function(C){var N;(N=s.onDayMouseEnter)===null||N===void 0||N.call(s,e,t,C)},k=function(C){var N;(N=s.onDayMouseLeave)===null||N===void 0||N.call(s,e,t,C)},j=function(C){var N;(N=s.onDayPointerEnter)===null||N===void 0||N.call(s,e,t,C)},E=function(C){var N;(N=s.onDayPointerLeave)===null||N===void 0||N.call(s,e,t,C)},B=function(C){var N;(N=s.onDayTouchCancel)===null||N===void 0||N.call(s,e,t,C)},I=function(C){var N;(N=s.onDayTouchEnd)===null||N===void 0||N.call(s,e,t,C)},R=function(C){var N;(N=s.onDayTouchMove)===null||N===void 0||N.call(s,e,t,C)},O=function(C){var N;(N=s.onDayTouchStart)===null||N===void 0||N.call(s,e,t,C)},$=function(C){var N;(N=s.onDayKeyUp)===null||N===void 0||N.call(s,e,t,C)},T=function(C){var N;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),s.dir==="rtl"?l():c();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),s.dir==="rtl"?c():l();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),d();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),u();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?p():y();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?g():x();break;case"Home":C.preventDefault(),C.stopPropagation(),v();break;case"End":C.preventDefault(),C.stopPropagation(),w();break}(N=s.onDayKeyDown)===null||N===void 0||N.call(s,e,t,C)},D={onClick:b,onFocus:S,onBlur:_,onKeyDown:T,onKeyUp:$,onMouseEnter:P,onMouseLeave:k,onPointerEnter:j,onPointerLeave:E,onTouchCancel:B,onTouchEnd:I,onTouchMove:R,onTouchStart:O};return D}function GD(){var e=ke(),t=Bx(),s=_c(),r=Cc(),a=co(e)?t.selected:Er(e)?s.selected:Tr(e)?r.selected:void 0;return a}function YD(e){return Object.values(Tt).includes(e)}function KD(e,t){var s=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)s.push(a);else if(YD(r)){var o=e.classNames["day_".concat(r)];o&&s.push(o)}}),s}function XD(e,t){var s=ie({},e.styles.day);return Object.keys(t).forEach(function(r){var a;s=ie(ie({},s),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),s}function JD(e,t,s){var r,a,o,i=ke(),l=Pc(),c=zD(e,t),d=qD(e,c),u=GD(),m=!!(i.onDayClick||i.mode!=="default");h.useEffect(function(){var P;c.outside||l.focusedDay&&m&&st(l.focusedDay,e)&&((P=s.current)===null||P===void 0||P.focus())},[l.focusedDay,e,s,m,c.outside]);var f=KD(i,c).join(" "),y=XD(i,c),x=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:yD,g=n.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),v={style:y,className:f,children:g,role:"gridcell"},w=l.focusTarget&&st(l.focusTarget,e)&&!c.outside,b=l.focusedDay&&st(l.focusedDay,e),S=ie(ie(ie({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||w?0:-1,r)),d),_={isButton:m,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:S,divProps:v};return _}function ZD(e){var t=h.useRef(null),s=JD(e.date,e.displayMonth,t);return s.isHidden?n.jsx("div",{role:"gridcell"}):s.isButton?n.jsx(ka,ie({name:"day",ref:t},s.buttonProps)):n.jsx("div",ie({},s.divProps))}function QD(e){var t=e.number,s=e.dates,r=ke(),a=r.onWeekNumberClick,o=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var m=c(Number(t),{locale:l}),f=function(y){a(t,s,y)};return n.jsx(ka,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:f,children:u})}function eA(e){var t,s,r=ke(),a=r.styles,o=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:ZD,d=(s=l==null?void 0:l.WeekNumber)!==null&&s!==void 0?s:QD,u;return i&&(u=n.jsx("td",{className:o.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:o.row,style:a.row,children:[u,e.dates.map(function(m){return n.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:m})},eE(m))})]})}function nm(e,t,s){for(var r=s!=null&&s.ISOWeek?pg(t):hc(t,s),a=s!=null&&s.ISOWeek?Bs(e):qt(e,s),o=$t(r,a),i=[],l=0;l<=o;l++)i.push(Je(a,l));var c=i.reduce(function(d,u){var m=s!=null&&s.ISOWeek?xg(u):vg(u,s),f=d.find(function(y){return y.weekNumber===m});return f?(f.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function tA(e,t){var s=nm(at(e),mc(e),t);if(t!=null&&t.useFixedWeeks){var r=sE(e,t);if(r<6){var a=s[s.length-1],o=a.dates[a.dates.length-1],i=Hi(o,6-r),l=nm(Hi(o,1),i,t);s.push.apply(s,l)}}return s}function sA(e){var t,s,r,a=ke(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,m=a.weekStartsOn,f=a.firstWeekContainsDate,y=a.ISOWeek,x=tA(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:y,locale:o,weekStartsOn:m,firstWeekContainsDate:f}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:xD,g=(s=u==null?void 0:u.Row)!==null&&s!==void 0?s:eA,v=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:fD;return n.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(p,{}),n.jsx("tbody",{className:i.tbody,style:l.tbody,children:x.map(function(w){return n.jsx(g,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),n.jsx(v,{displayMonth:e.displayMonth})]})}function nA(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var rA=nA()?h.useLayoutEffect:h.useEffect,ei=!1,aA=0;function rm(){return"react-day-picker-".concat(++aA)}function oA(e){var t,s=e??(ei?rm():null),r=h.useState(s),a=r[0],o=r[1];return rA(function(){a===null&&o(rm())},[]),h.useEffect(function(){ei===!1&&(ei=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function iA(e){var t,s,r=ke(),a=r.dir,o=r.classNames,i=r.styles,l=r.components,c=Dr().displayMonths,d=oA(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],f=i.month,y=e.displayIndex===0,x=e.displayIndex===c.length-1,p=!y&&!x;a==="rtl"&&(t=[y,x],x=t[0],y=t[1]),y&&(m.push(o.caption_start),f=ie(ie({},f),i.caption_start)),x&&(m.push(o.caption_end),f=ie(ie({},f),i.caption_end)),p&&(m.push(o.caption_between),f=ie(ie({},f),i.caption_between));var g=(s=l==null?void 0:l.Caption)!==null&&s!==void 0?s:hD;return n.jsxs("div",{className:m.join(" "),style:f,children:[n.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(sA,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function lA(e){var t=ke(),s=t.classNames,r=t.styles;return n.jsx("div",{className:s.months,style:r.months,children:e.children})}function cA(e){var t,s,r=e.initialProps,a=ke(),o=Pc(),i=Dr(),l=h.useState(!1),c=l[0],d=l[1];h.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),d(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=ie(ie({},a.styles.root),a.style),f=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var g;return ie(ie({},x),(g={},g[p]=r[p],g))},{}),y=(s=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&s!==void 0?s:lA;return n.jsx("div",ie({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:n.jsx(y,{children:i.displayMonths.map(function(x,p){return n.jsx(iA,{displayIndex:p,displayMonth:x},p)})})}))}function dA(e){var t=e.children,s=MT(e,["children"]);return n.jsx(QT,{initialProps:s,children:n.jsx(cD,{children:n.jsx(WD,{initialProps:s,children:n.jsx(vD,{initialProps:s,children:n.jsx(jD,{initialProps:s,children:n.jsx(TD,{children:n.jsx(UD,{children:t})})})})})})})}function uA(e){return n.jsx(dA,ie({},e,{children:n.jsx(cA,{initialProps:e})}))}function Tc({className:e,classNames:t,showOutsideDays:s=!0,...r}){return n.jsx(uA,{showOutsideDays:s,className:K("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:K(gi({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:K("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:K(gi({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...o})=>n.jsx(Vv,{className:K("h-4 w-4",a),...o}),IconRight:({className:a,...o})=>n.jsx(Uv,{className:K("h-4 w-4",a),...o})},...r})}Tc.displayName="Calendar";function Ux({projects:e,onClose:t,onInvoiceCreated:s}){const[r,a]=h.useState({project:"",invoice_number:"",amount:"",due_date:"",stage_description:"",stage:"planning",percentage:0}),[o,i]=h.useState(!1),[l,c]=h.useState(null);h.useEffect(()=>{d()},[]);const d=async()=>{try{const f=(await Ue.list("-created_date",100)).map(p=>{const g=p.invoice_number.match(/INV-(\d+)/);return g?parseInt(g[1]):0}).filter(p=>p>0),x=(f.length>0?Math.max(...f)+1:1).toString().padStart(4,"0");a(p=>({...p,invoice_number:`INV-${x}`}))}catch(m){console.error("Error generating invoice number:",m);const f=(Date.now()%1e4).toString().padStart(4,"0");a(y=>({...y,invoice_number:`INV-${f}`}))}};h.useEffect(()=>{if(r.project){const m=e.find(f=>f.id===r.project);c(m)}else c(null)},[r.project,e]);const u=async m=>{m.preventDefault(),i(!0);try{const f=e.find(p=>p.id===r.project);if(!f){alert("Please select a project"),i(!1);return}const y={project:r.project,client:f.client,invoice_number:r.invoice_number,stage:r.stage,stage_description:r.stage_description,amount:r.amount,percentage:"0",due_date:r.due_date},x=await Ue.create(y);s(),t()}catch(f){console.error("Full error object:",f),f.response&&(console.error("Error response status:",f.response.status),console.error("Error response data:",JSON.stringify(f.response.data,null,2)),console.error("Error response headers:",f.response.headers)),f.request&&console.error("Error request:",f.request),console.error("Error message:",f.message),alert("Failed to create invoice. Check console for details.")}i(!1)};return n.jsx(ht,{open:!0,onOpenChange:t,children:n.jsxs(ot,{className:"sm:max-w-md",children:[n.jsx(ft,{children:n.jsx(pt,{children:"Create Manual Invoice"})}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"project",children:"Project"}),n.jsxs(Se,{value:r.project,onValueChange:m=>a({...r,project:m}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select a project"})}),n.jsx(we,{children:e.map(m=>n.jsx(X,{value:m.id,children:m.title},m.id))})]})]}),l&&n.jsxs("div",{className:"p-3 bg-gray-50 rounded-md text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Client:"})," ",l.client_name]}),l.client_email&&n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",l.client_email]}),l.description&&n.jsxs("p",{children:[n.jsx("strong",{children:"Project:"})," ",l.description]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"invoice_number",children:"Invoice Number"}),n.jsx(q,{id:"invoice_number",value:r.invoice_number,onChange:m=>a({...r,invoice_number:m.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"amount",children:"Amount ($)"}),n.jsx(q,{id:"amount",type:"number",min:"0",step:"0.01",value:r.amount,onChange:m=>a({...r,amount:m.target.value}),placeholder:"0.00",required:!0})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"due_date",children:"Due Date"}),n.jsxs(Tx,{children:[n.jsx(Dx,{asChild:!0,children:n.jsxs(V,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[n.jsx(Hs,{className:"mr-2 h-4 w-4"}),r.due_date?ve(new Date(r.due_date),"PPP"):n.jsx("span",{children:"Pick a date"})]})}),n.jsx(jc,{className:"w-auto p-0",children:n.jsx(Tc,{mode:"single",selected:r.due_date?new Date(r.due_date):void 0,onSelect:m=>a({...r,due_date:m?m.toISOString().split("T")[0]:""}),initialFocus:!0})})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"stage",children:"Project Stage"}),n.jsxs(Se,{value:r.stage,onValueChange:m=>a({...r,stage:m}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select stage"})}),n.jsxs(we,{children:[n.jsx(X,{value:"planning",children:"Planning"}),n.jsx(X,{value:"development",children:"Development"}),n.jsx(X,{value:"testing",children:"Testing"}),n.jsx(X,{value:"deployment",children:"Deployment"}),n.jsx(X,{value:"maintenance",children:"Maintenance"})]})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"description",children:"Description / Items"}),n.jsx(Ye,{id:"description",value:r.stage_description,onChange:m=>a({...r,stage_description:m.target.value}),placeholder:"e.g., Additional consulting hours, software license, etc.",rows:3,required:!0})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:o,className:"bg-slate-900 hover:bg-slate-800",children:o?"Creating...":"Create Invoice"})]})]})]})})}var uo="Checkbox",[mA]=as(uo),[hA,Dc]=mA(uo);function fA(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:a,disabled:o,form:i,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:m}=e,[f,y]=ps({prop:s,defaultProp:a??!1,onChange:c,caller:uo}),[x,p]=h.useState(null),[g,v]=h.useState(null),w=h.useRef(!1),b=x?!!i||!!x.closest("form"):!0,S={checked:f,disabled:o,setChecked:y,control:x,setControl:p,name:l,form:i,value:u,hasConsumerStoppedPropagationRef:w,required:d,defaultChecked:fs(a)?!1:a,isFormControl:b,bubbleInput:g,setBubbleInput:v};return n.jsx(hA,{scope:t,...S,children:pA(m)?m(S):r})}var zx="CheckboxTrigger",Wx=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},a)=>{const{control:o,value:i,disabled:l,checked:c,required:d,setControl:u,setChecked:m,hasConsumerStoppedPropagationRef:f,isFormControl:y,bubbleInput:x}=Dc(zx,e),p=Ne(a,u),g=h.useRef(c);return h.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const w=()=>m(g.current);return v.addEventListener("reset",w),()=>v.removeEventListener("reset",w)}},[o,m]),n.jsx(he.button,{type:"button",role:"checkbox","aria-checked":fs(c)?"mixed":c,"aria-required":d,"data-state":Kx(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:p,onKeyDown:le(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:le(s,v=>{m(w=>fs(w)?!0:!w),x&&y&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});Wx.displayName=zx;var Ac=h.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:a,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:d,form:u,...m}=e;return n.jsx(fA,{__scopeCheckbox:s,checked:a,defaultChecked:o,disabled:l,required:i,onCheckedChange:d,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(Wx,{...m,ref:t,__scopeCheckbox:s}),f&&n.jsx(Yx,{__scopeCheckbox:s})]})})});Ac.displayName=uo;var Hx="CheckboxIndicator",qx=h.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...a}=e,o=Dc(Hx,s);return n.jsx(Gt,{present:r||fs(o.checked)||o.checked===!0,children:n.jsx(he.span,{"data-state":Kx(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});qx.displayName=Hx;var Gx="CheckboxBubbleInput",Yx=h.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:o,defaultChecked:i,required:l,disabled:c,name:d,value:u,form:m,bubbleInput:f,setBubbleInput:y}=Dc(Gx,e),x=Ne(s,y),p=Rg(o),g=Zh(r);h.useEffect(()=>{const w=f;if(!w)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,P=!a.current;if(p!==o&&_){const k=new Event("click",{bubbles:P});w.indeterminate=fs(o),_.call(w,fs(o)?!1:o),w.dispatchEvent(k)}},[f,p,o,a]);const v=h.useRef(fs(o)?!1:o);return n.jsx(he.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:c,name:d,value:u,form:m,...t,tabIndex:-1,ref:x,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Yx.displayName=Gx;function pA(e){return typeof e=="function"}function fs(e){return e==="indeterminate"}function Kx(e){return fs(e)?"indeterminate":e?"checked":"unchecked"}const Xx=h.forwardRef(({className:e,...t},s)=>n.jsx(Ac,{ref:s,className:K("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(qx,{className:K("flex items-center justify-center text-current"),children:n.jsx(Ls,{className:"h-4 w-4"})})}));Xx.displayName=Ac.displayName;const am=[{key:"office_supplies",name:"Office Supplies"},{key:"software",name:"Software"},{key:"hardware",name:"Hardware"},{key:"travel",name:"Travel"},{key:"meals",name:"Meals"},{key:"utilities",name:"Utilities"},{key:"rent",name:"Rent"},{key:"marketing",name:"Marketing"},{key:"training",name:"Training"},{key:"other",name:"Other"}];function Jx({projects:e,onClose:t,onExpenseAdded:s}){const[r,a]=h.useState({title:"",amount:"",category:"",date:new Date().toISOString().split("T")[0],vendor:"",project_id:"",tax_deductible:!0,notes:""}),[o,i]=h.useState(null),[l,c]=h.useState(!1),[d,u]=h.useState(!1),m=h.useRef(null),f=async x=>{var p,g;i(x),u(!0);try{const v=await ur({file:x}),w=v.file_url,b=v.file_path;if(!w&&!b)throw new Error("No file URL or path returned from upload");const S=await yc(w,{file_path:b,json_schema:{type:"object",properties:{vendor:{type:["string","null"]},amount:{type:["number","null"]},date:{type:["string","null"]},description:{type:["string","null"]},category:{type:["string","null"],enum:[...am.map(_=>_.key),null]}},additionalProperties:!1}});if(S.status==="success"&&S.output){const _=S.output;a(k=>({...k,title:_.description||k.title,amount:_.amount?_.amount.toString():k.amount,vendor:_.vendor||k.vendor,date:_.date||k.date,category:_.category||k.category,receipt_url:w,extracted_data:_}));const P=Object.entries(_).filter(([k,j])=>j!==null&&j!==""&&j!==void 0).map(([k])=>k).join(", ");P&&alert(`Successfully extracted from receipt: ${P}`)}else S.error?(console.error("Extraction failed:",S.error),alert(`AI processing failed: ${S.error}`)):(console.warn("No data extracted from receipt"),alert("AI could not extract meaningful information from this receipt. Please fill the form manually."))}catch(v){console.error("Error processing receipt:",v);let w="AI processing failed. ";(g=(p=v.response)==null?void 0:p.data)!=null&&g.error?w+=v.response.data.error:v.message?w+=v.message:w+="Please try again or fill the form manually.",alert(w)}u(!1)},y=async x=>{x.preventDefault(),c(!0);try{let p=null;if(o&&!r.receipt_url){const{file_url:g}=await ur({file:o});p=g}await Ma.create({...r,amount:parseFloat(r.amount),project_id:r.project_id||null,receipt_url:p||r.receipt_url}),s()}catch(p){console.error("Error creating expense:",p)}c(!1)};return n.jsx(ht,{open:!0,onOpenChange:t,children:n.jsxs(ot,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ft,{children:n.jsx(pt,{children:"Add New Expense"})}),d&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center gap-3",children:[n.jsx(He,{className:"w-5 h-5 animate-spin text-blue-600"}),n.jsx("span",{className:"text-blue-800 font-medium",children:"AI is processing your receipt..."})]}),n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsxs(V,{type:"button",variant:"outline",onClick:()=>{var x;return(x=m.current)==null?void 0:x.click()},disabled:d,children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Upload Receipt"]}),n.jsxs(V,{type:"button",variant:"outline",onClick:()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.capture="environment",x.onchange=p=>{const g=p.target.files[0];g&&f(g)},x.click()},disabled:d,children:[n.jsx(Iv,{className:"w-4 h-4 mr-2"}),"Take Photo"]})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Upload a receipt or take a photo - AI will automatically extract the details"}),o&&n.jsxs("p",{className:"text-sm font-medium text-green-600",children:["Receipt uploaded: ",o.name]})]}),n.jsx("input",{ref:m,type:"file",accept:"image/*,.pdf",onChange:x=>{const p=x.target.files[0];p&&f(p)},className:"hidden"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"title",children:"Description"}),n.jsx(q,{id:"title",value:r.title,onChange:x=>a({...r,title:x.target.value}),placeholder:"What was this expense for?",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"amount",children:"Amount ($)"}),n.jsx(q,{id:"amount",type:"number",min:"0",step:"0.01",value:r.amount,onChange:x=>a({...r,amount:x.target.value}),placeholder:"0.00",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"category",children:"Category"}),n.jsxs(Se,{value:r.category,onValueChange:x=>a({...r,category:x}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select category"})}),n.jsx(we,{children:am.map(x=>n.jsx(X,{value:x.key,children:x.name},x.key))})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"vendor",children:"Vendor"}),n.jsx(q,{id:"vendor",value:r.vendor,onChange:x=>a({...r,vendor:x.target.value}),placeholder:"Vendor/merchant name"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"date",children:"Date"}),n.jsxs(Tx,{children:[n.jsx(Dx,{asChild:!0,children:n.jsxs(V,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[n.jsx(Hs,{className:"mr-2 h-4 w-4"}),r.date?ve(new Date(r.date),"PPP"):"Pick a date"]})}),n.jsx(jc,{className:"w-auto p-0",children:n.jsx(Tc,{mode:"single",selected:r.date?new Date(r.date):void 0,onSelect:x=>a({...r,date:x.toISOString().split("T")[0]}),initialFocus:!0})})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"project",children:"Project (Optional)"}),n.jsxs(Se,{value:r.project_id,onValueChange:x=>a({...r,project_id:x}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select project"})}),n.jsxs(we,{children:[n.jsx(X,{value:null,children:"No project"}),e.map(x=>n.jsx(X,{value:x.id,children:x.title},x.id))]})]})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"notes",children:"Notes (Optional)"}),n.jsx(Ye,{id:"notes",value:r.notes,onChange:x=>a({...r,notes:x.target.value}),placeholder:"Additional notes about this expense",rows:2})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Xx,{id:"tax_deductible",checked:r.tax_deductible,onCheckedChange:x=>a({...r,tax_deductible:x})}),n.jsx(z,{htmlFor:"tax_deductible",className:"text-sm font-medium",children:"Tax deductible expense"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:l||d,className:"bg-[#1E1E1D] hover:bg-gray-800",children:l?"Adding...":"Add Expense"})]})]})]})})}const gA=[{key:"integrations",name:"System Integrations"},{key:"automations",name:"Business Automations"},{key:"automations+integrations",name:"Automations + Integrations"},{key:"apps",name:"Custom Applications"},{key:"websites",name:"Website Development"}],xA=[{key:"under_5k",name:"Under $5,000"},{key:"5k_10k",name:"$5,000 - $10,000"},{key:"10k_25k",name:"$10,000 - $25,000"},{key:"25k_50k",name:"$25,000 - $50,000"},{key:"over_50k",name:"Over $50,000"}];function yA({onClose:e,onRequestCreated:t}){const[s,r]=h.useState({title:"",description:"",project_type:"",budget_range:"",timeline:"",priority:"medium"}),[a,o]=h.useState(!1),[i,l]=h.useState(null),[c,d]=h.useState(null);h.useEffect(()=>{u()},[]);const u=async()=>{try{const f=await _e.me();if(l(f),f.access_level==="client"){const y=await bt.filter({user_id:f.id},1);y.length>0&&d(y[0])}}catch(f){console.error("Error loading user data:",f)}},m=async f=>{if(f.preventDefault(),!c){alert("Client information not found. Please contact support.");return}o(!0);try{await il.create({...s,client_id:c.id,client_name:c.name,client_email:c.email}),t()}catch(y){console.error("Error creating project request:",y),alert("Failed to submit request. Please try again.")}o(!1)};return n.jsx(ht,{open:!0,onOpenChange:e,children:n.jsxs(ot,{className:"sm:max-w-2xl",children:[n.jsx(ft,{children:n.jsx(pt,{children:"Request New Project"})}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"title",children:"Project Title"}),n.jsx(q,{id:"title",value:s.title,onChange:f=>r({...s,title:f.target.value}),placeholder:"What would you like us to build or integrate?",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"project_type",children:"Project Type"}),n.jsxs(Se,{value:s.project_type,onValueChange:f=>r({...s,project_type:f}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"What type of project is this?"})}),n.jsx(we,{children:gA.map(f=>n.jsx(X,{value:f.key,children:f.name},f.key))})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"description",children:"Project Description"}),n.jsx(Ye,{id:"description",value:s.description,onChange:f=>r({...s,description:f.target.value}),placeholder:"Please describe what you need in detail. Include any specific requirements, integrations, or features you have in mind.",rows:5,required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"budget_range",children:"Budget Range"}),n.jsxs(Se,{value:s.budget_range,onValueChange:f=>r({...s,budget_range:f}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select budget range"})}),n.jsx(we,{children:xA.map(f=>n.jsx(X,{value:f.key,children:f.name},f.key))})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"timeline",children:"Desired Timeline"}),n.jsx(q,{id:"timeline",value:s.timeline,onChange:f=>r({...s,timeline:f.target.value}),placeholder:"e.g., 2-3 months, ASAP, etc."})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"priority",children:"Priority Level"}),n.jsxs(Se,{value:s.priority,onValueChange:f=>r({...s,priority:f}),children:[n.jsx(be,{children:n.jsx(Ce,{})}),n.jsxs(we,{children:[n.jsx(X,{value:"low",children:"Low - Nice to have"}),n.jsx(X,{value:"medium",children:"Medium - Important for business"}),n.jsx(X,{value:"high",children:"High - Critical for operations"}),n.jsx(X,{value:"urgent",children:"Urgent - Blocking current work"})]})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(V,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:a,className:"bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:a?"Submitting...":"Submit Request"})]})]})]})})}function Zi(){var M;const[e,t]=h.useState(null),[s,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState([]),[u,m]=h.useState(null),[f,y]=h.useState(!0),[x,p]=h.useState(!1),[g,v]=h.useState(!1),[w,b]=h.useState(!1),[S,_]=h.useState(!1),[P,k]=h.useState(!1);h.useEffect(()=>{j()},[]);const j=async()=>{y(!0);try{const L=await _e.me();t(L);let U=[],G=[],H=[],Q=[],ee=null;try{ee=await At.getDashboardStats(),m(ee)}catch(W){console.error("Error loading dashboard stats:",W)}if(L.access_level==="admin")try{const W=ms.filter({is_read:!1},"-created_date",20);[U,G,H,Q]=await Promise.all([Oe.list("-updated_date",20),Ue.list("-created_date",10),hs.list("-created_date",10),W])}catch(W){console.error("Dashboard: Error loading admin data:",W);try{U=await Oe.list("-updated_date",20)}catch(Y){console.error("Dashboard: Error loading projects:",Y)}try{G=await Ue.list("-created_date",10)}catch(Y){console.error("Dashboard: Error loading invoices:",Y)}try{H=await hs.list("-created_date",10)}catch(Y){console.error("Dashboard: Error loading time entries:",Y)}try{Q=await ms.filter({is_read:!1},"-created_date",20)}catch(Y){console.error("Dashboard: Error loading notifications:",Y),Q=[]}}else if(L.access_level==="staff")try{const W=await Le.filter({assigned_to:L.email},"-created_date"),Y=[...new Set(W.map(re=>re.project_id))];U=(await Oe.list("-updated_date",20)).filter(re=>Y.includes(re.id)),H=await hs.filter({user_email:L.email},"-created_date",10),G=await Ue.list("-created_date",10);try{Q=await ms.filter({is_read:!1},"-created_date",10)}catch(re){console.error("Dashboard: Error loading staff notifications:",re),Q=[]}}catch(W){console.error("Dashboard: Error loading staff data:",W)}else if(L.access_level==="client")try{const W=await bt.filter({user_id:L.id},1);W.length>0?U=await Oe.filter({client_id:W[0].id},"-updated_date",20):console.log("Dashboard: No client record found for user");try{Q=await ms.filter({is_read:!1},"-created_date",5)}catch(Y){console.error("Dashboard: Error loading client notifications:",Y),Q=[]}}catch(W){console.error("Dashboard: Error loading client data:",W)}r(U),o(G),l(H),d(Q)}catch(L){console.error("Error loading dashboard data:",L)}y(!1)},E=async L=>{try{await ms.markAsRead(L),d(U=>U.filter(G=>G.id!==L))}catch(U){console.error("Error clearing notification:",U)}},B=async()=>{try{await ms.markAllRead(),d([])}catch(L){console.error("Error clearing all notifications:",L)}},I=(L,U)=>u?u[L]:U(),R=I("active_projects",()=>s.filter(L=>L.status==="active").length),O=I("total_revenue",()=>a.filter(L=>L.status==="paid").reduce((L,U)=>L+(U.amount||0),0)),$=I("pending_invoices",()=>a.filter(L=>L.status==="sent").length),T=i.filter(L=>new Date(L.date)>new Date(Date.now()-10080*60*1e3)).reduce((L,U)=>L+(U.hours||0),0),D=(u==null?void 0:u.total_clients)||0,C=I("total_projects",()=>s.length),N=(u==null?void 0:u.net_profit)||0,A=(u==null?void 0:u.overdue_invoices)||0;return f?n.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6 sm:space-y-8",children:[n.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded w-48 sm:w-64"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:Array(4).fill(0).map((L,U)=>n.jsx("div",{className:"h-28 sm:h-32 bg-gray-200 rounded-xl"},U))})]})}):n.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-[#F5F7FA] to-gray-50 min-h-screen",children:[n.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
          * {
            font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;
          }
        `}),n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 sm:space-y-8",children:[n.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-[#1E1E1D] mb-2",children:["Welcome back, ",((M=e==null?void 0:e.full_name)==null?void 0:M.split(" ")[0])||"User"]}),n.jsx("p",{className:"text-gray-600 text-base sm:text-lg font-medium",children:(e==null?void 0:e.access_level)==="admin"?"Manage your business operations":(e==null?void 0:e.access_level)==="staff"?"Track your projects and time":"View your project progress and request new work"})]})}),(e==null?void 0:e.access_level)==="admin"&&n.jsx(vE,{notifications:c,onClear:E,onClearAll:B}),(e==null?void 0:e.access_level)!=="client"&&n.jsx("div",{className:"bg-white/80 backdrop-blur-sm border border-gray-200/80 rounded-2xl shadow-lg p-4",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(V,{onClick:()=>p(!0),variant:"ghost",className:"flex flex-col h-20 gap-2",children:[n.jsx(ze,{className:"w-6 h-6 text-amber-500"}),n.jsx("span",{className:"font-semibold text-slate-700",children:"New Proposal"})]}),n.jsxs(V,{onClick:()=>v(!0),variant:"ghost",className:"flex flex-col h-20 gap-2",children:[n.jsx(yr,{className:"w-6 h-6 text-green-500"}),n.jsx("span",{className:"font-semibold text-slate-700",children:"New Client"})]}),n.jsxs(V,{onClick:()=>b(!0),variant:"ghost",className:"flex flex-col h-20 gap-2",children:[n.jsx(Ct,{className:"w-6 h-6 text-blue-500"}),n.jsx("span",{className:"font-semibold text-slate-700",children:"New Invoice"})]}),n.jsxs(V,{onClick:()=>_(!0),variant:"ghost",className:"flex flex-col h-20 gap-2",children:[n.jsx(Db,{className:"w-6 h-6 text-purple-500"}),n.jsx("span",{className:"font-semibold text-slate-700",children:"New Expense"})]})]})}),(e==null?void 0:e.access_level)==="client"&&n.jsx("div",{className:"bg-white/80 backdrop-blur-sm border border-gray-200/80 rounded-2xl shadow-lg p-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsxs(V,{onClick:()=>k(!0),className:"bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold px-8 py-6 text-lg rounded-xl shadow-lg",children:[n.jsx(Gs,{className:"w-6 h-6 mr-3"}),"Request New Project"]})})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Xt,{title:"Active Projects",value:R,icon:Zn,gradient:"from-blue-600 to-blue-700",description:"Currently in progress"}),(e==null?void 0:e.access_level)!=="client"&&n.jsxs(n.Fragment,{children:[n.jsx(Xt,{title:"Revenue (Paid)",value:`$${O.toLocaleString()}`,icon:ml,gradient:"from-emerald-600 to-emerald-700",description:"Total received"}),n.jsx(Xt,{title:"Pending Invoices",value:$,icon:Ct,gradient:"from-amber-600 to-amber-700",description:"Awaiting payment"}),n.jsx(Xt,{title:"This Week Hours",value:`${T}h`,icon:ut,gradient:"from-purple-600 to-purple-700",description:"Team logged time"})]}),(e==null?void 0:e.access_level)==="client"&&n.jsx(Xt,{title:"Your Projects",value:s.length,icon:cl,gradient:"from-emerald-600 to-emerald-700",description:"Total projects"})]}),(e==null?void 0:e.access_level)==="admin"&&u&&n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Xt,{title:"Total Clients",value:D,icon:Ms,gradient:"from-indigo-600 to-indigo-700",description:"All clients"}),n.jsx(Xt,{title:"Total Projects",value:C,icon:Zn,gradient:"from-cyan-600 to-cyan-700",description:"All time"}),n.jsx(Xt,{title:"Net Profit",value:`$${N.toLocaleString()}`,icon:jt,gradient:"from-green-600 to-green-700",description:"Revenue - Expenses"}),n.jsx(Xt,{title:"Overdue Invoices",value:A,icon:Ct,gradient:"from-red-600 to-red-700",description:"Past due date"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx(oE,{projects:s,invoices:a,userRole:e==null?void 0:e.access_level})}),n.jsx("div",{className:"order-first lg:order-last",children:n.jsx(yE,{projects:s.slice(0,5)})})]})]}),x&&n.jsx(xx,{onClose:()=>p(!1),onProposalCreated:()=>handleCreation(p)}),g&&n.jsx(yx,{onClose:()=>v(!1),onClientAdded:()=>handleCreation(v)}),w&&n.jsx(Ux,{projects:s,onClose:()=>b(!1),onInvoiceCreated:()=>handleCreation(b)}),S&&n.jsx(Jx,{projects:s,onClose:()=>_(!1),onExpenseAdded:()=>handleCreation(_)}),P&&n.jsx(yA,{onClose:()=>k(!1),onRequestCreated:()=>handleCreation(k)})]})}const vA="modulepreload",bA=function(e){return"/"+e},om={},mr=function(t,s,r){let a=Promise.resolve();if(s&&s.length>0){let i=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=i(s.map(d=>{if(d=bA(d),d in om)return;om[d]=!0;const u=d.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":vA,u||(f.as="script"),f.crossOrigin="",f.href=d,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((y,x)=>{f.addEventListener("load",y),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})};var ti="rovingFocusGroup.onEntryFocus",wA={bubbles:!1,cancelable:!0},Ar="RovingFocusGroup",[Qi,Zx,jA]=Ag(Ar),[NA,Qx]=as(Ar,[jA]),[_A,SA]=NA(Ar),e0=h.forwardRef((e,t)=>n.jsx(Qi.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Qi.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(CA,{...e,ref:t})})}));e0.displayName=Ar;var CA=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=e,f=h.useRef(null),y=Ne(t,f),x=vc(o),[p,g]=ps({prop:i,defaultProp:l??null,onChange:c,caller:Ar}),[v,w]=h.useState(!1),b=gs(d),S=Zx(s),_=h.useRef(!1),[P,k]=h.useState(0);return h.useEffect(()=>{const j=f.current;if(j)return j.addEventListener(ti,b),()=>j.removeEventListener(ti,b)},[b]),n.jsx(_A,{scope:s,orientation:r,dir:x,loop:a,currentTabStopId:p,onItemFocus:h.useCallback(j=>g(j),[g]),onItemShiftTab:h.useCallback(()=>w(!0),[]),onFocusableItemAdd:h.useCallback(()=>k(j=>j+1),[]),onFocusableItemRemove:h.useCallback(()=>k(j=>j-1),[]),children:n.jsx(he.div,{tabIndex:v||P===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...e.style},onMouseDown:le(e.onMouseDown,()=>{_.current=!0}),onFocus:le(e.onFocus,j=>{const E=!_.current;if(j.target===j.currentTarget&&E&&!v){const B=new CustomEvent(ti,wA);if(j.currentTarget.dispatchEvent(B),!B.defaultPrevented){const I=S().filter(D=>D.focusable),R=I.find(D=>D.active),O=I.find(D=>D.id===p),T=[R,O,...I].filter(Boolean).map(D=>D.ref.current);n0(T,u)}}_.current=!1}),onBlur:le(e.onBlur,()=>w(!1))})})}),t0="RovingFocusGroupItem",s0=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:o,children:i,...l}=e,c=Bt(),d=o||c,u=SA(t0,s),m=u.currentTabStopId===d,f=Zx(s),{onFocusableItemAdd:y,onFocusableItemRemove:x,currentTabStopId:p}=u;return h.useEffect(()=>{if(r)return y(),()=>x()},[r,y,x]),n.jsx(Qi.ItemSlot,{scope:s,id:d,focusable:r,active:a,children:n.jsx(he.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:le(e.onMouseDown,g=>{r?u.onItemFocus(d):g.preventDefault()}),onFocus:le(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:le(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=EA(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=f().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const S=b.indexOf(g.currentTarget);b=u.loop?TA(b,S+1):b.slice(S+1)}setTimeout(()=>n0(b))}}),children:typeof i=="function"?i({isCurrentTabStop:m,hasTabStop:p!=null}):i})})});s0.displayName=t0;var kA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function EA(e,t,s){const r=PA(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kA[r]}function n0(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function TA(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var DA=e0,AA=s0,mo="Tabs",[RA]=as(mo,[Qx]),r0=Qx(),[MA,Rc]=RA(mo),a0=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=vc(l),[m,f]=ps({prop:r,onChange:a,defaultProp:o??"",caller:mo});return n.jsx(MA,{scope:s,baseId:Bt(),value:m,onValueChange:f,orientation:i,dir:u,activationMode:c,children:n.jsx(he.div,{dir:u,"data-orientation":i,...d,ref:t})})});a0.displayName=mo;var o0="TabsList",i0=h.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,o=Rc(o0,s),i=r0(s);return n.jsx(DA,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:n.jsx(he.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});i0.displayName=o0;var l0="TabsTrigger",c0=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...o}=e,i=Rc(l0,s),l=r0(s),c=m0(i.baseId,r),d=h0(i.baseId,r),u=r===i.value;return n.jsx(AA,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(he.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:le(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?i.onValueChange(r):m.preventDefault()}),onKeyDown:le(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(r)}),onFocus:le(e.onFocus,()=>{const m=i.activationMode!=="manual";!u&&!a&&m&&i.onValueChange(r)})})})});c0.displayName=l0;var d0="TabsContent",u0=h.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:a,children:o,...i}=e,l=Rc(d0,s),c=m0(l.baseId,r),d=h0(l.baseId,r),u=r===l.value,m=h.useRef(u);return h.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),n.jsx(Gt,{present:a||u,children:({present:f})=>n.jsx(he.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:f&&o})})});u0.displayName=d0;function m0(e,t){return`${e}-trigger-${t}`}function h0(e,t){return`${e}-content-${t}`}var OA=a0,f0=i0,p0=c0,g0=u0;const ho=OA,Rr=h.forwardRef(({className:e,...t},s)=>n.jsx(f0,{ref:s,className:K("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Rr.displayName=f0.displayName;const Ze=h.forwardRef(({className:e,...t},s)=>n.jsx(p0,{ref:s,className:K("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Ze.displayName=p0.displayName;const It=h.forwardRef(({className:e,...t},s)=>n.jsx(g0,{ref:s,className:K("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));It.displayName=g0.displayName;const el={jotform:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),color:"text-orange-600 bg-orange-100",description:"Form builder and data collection platform"},google_sheets:{icon:n.jsxs("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:[n.jsx("path",{fill:"#0f9d58",d:"M19,3H5C3.9,3 3,3.9 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.9 20.1,3 19,3Z"}),n.jsx("path",{fill:"#ffffff",d:"M6,7H18V9H6V7M6,11H18V13H6V11M6,15H18V17H6V15Z"})]}),color:"text-green-600 bg-green-100",description:"Google Sheets spreadsheet application"},google_drive:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#4285f4",d:"M12.01 4.32L6.49 14H17.5l-5.49-9.68zM7.99 15L4.86 20.5L15.01 15H7.99zM20.98 15L15.51 4.5L12.01 10.5L17.49 21L20.98 15z"})}),color:"text-blue-600 bg-blue-100",description:"Google Drive cloud storage"},google_appsheet:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#4285f4",d:"M3 3h18v18H3V3zm2 2v14h14V5H5zm2 2h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z"})}),color:"text-blue-600 bg-blue-100",description:"Google AppSheet no-code app platform"},google_appscript:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#4285f4",d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),color:"text-blue-600 bg-blue-100",description:"Google Apps Script automation platform"},zapier:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#ff4a00",d:"M12 2L22 8.5L17 12L22 15.5L12 22L2 15.5L7 12L2 8.5L12 2Z"})}),color:"text-orange-600 bg-orange-100",description:"Zapier automation platform"},make:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#6366f1",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})}),color:"text-indigo-600 bg-indigo-100",description:"Make.com (formerly Integromat) automation"},wordpress:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#21759b",d:"M21.469,6.825c0.485,1.135,0.763,2.4,0.763,3.731c0,2.948-1.266,5.605-3.278,7.441L22.395,8C23.024,7.194,21.469,6.825,21.469,6.825z M20.764,10.604c0-1.366-0.491-2.313-0.909-3.049C19.377,6.899,19.058,6.327,19.058,5.688c0-0.683,0.518-1.319,1.249-1.319c0.033,0,0.064,0.004,0.096,0.006C18.792,2.904,15.616,1.875,12.192,1.875c-4.436,0-8.334,2.267-10.607,5.698c0.595,0.019,1.153,0.031,1.628,0.031c1.33,0,3.394-0.161,3.394-0.161c0.686-0.04,0.767,0.969,0.081,1.049c0,0-0.689,0.081-1.456,0.121L9.213,19.716l2.567-7.697L9.726,8.673c-0.686-0.04-1.334-0.121-1.334-0.121c-0.686-0.081-0.605-1.089,0.081-1.049c0,0,2.105,0.161,3.354,0.161c1.33,0,3.394-0.161,3.394-0.161c0.686-0.04,0.767,0.969,0.081,1.049c0,0-0.689,0.081-1.456,0.121l4.049,12.044l1.118-3.735C20.242,14.963,20.764,12.902,20.764,10.604z M12.192,13.032L8.67,21.758c1.075,0.317,2.217,0.49,3.522,0.49c1.451,0,2.845-0.251,4.137-0.708c-0.033-0.053-0.064-0.109-0.089-0.169L12.192,13.032z M3.758,10.556c0,3.283,1.794,6.14,4.444,7.624L4.296,8.668C3.936,9.26,3.758,9.887,3.758,10.556z M12,2.875c5.514,0,10,4.486,10,10s-4.486,10-10,10s-10-4.486-10-10S6.486,2.875,12,2.875"})}),color:"text-blue-700 bg-blue-100",description:"WordPress content management system"},airtable:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#ffb100",d:"M12 2L2 7V17L12 22L22 17V7L12 2ZM12 4.8L19.2 8.5L12 12.2L4.8 8.5L12 4.8ZM4 10.1L11 13.8V19.9L4 16.2V10.1ZM13 19.9V13.8L20 10.1V16.2L13 19.9Z"})}),color:"text-yellow-600 bg-yellow-100",description:"Airtable database and collaboration platform"},notion:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#000000",d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466l1.823 1.447zm.793 2.8v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.887-.748-.84l-15.177.887c-.56.047-.747.327-.747.607zm14.336.652c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.888l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933l3.269-.186z"})}),color:"text-gray-700 bg-gray-100",description:"Notion workspace and documentation"},slack:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#4a154b",d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zm13.906-9.478a2.527 2.527 0 0 1 2.522 2.52 2.528 2.528 0 0 1-2.522 2.521h-2.52V8.207a2.528 2.528 0 0 1 2.52-2.52z"})}),color:"text-purple-600 bg-purple-100",description:"Slack team communication platform"},openai:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#10a37f",d:"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142-.0852 4.783-2.7582a.7712.7712 0 0 0 .7806 0l5.8428 3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142.0852-4.7735 2.7818a.7759.7759 0 0 0-.3927.6813v6.7369l-2.0201-1.1686a.0804.0804 0 0 1-.038-.0567V6.2689a4.4992 4.4992 0 0 1 7.3665-3.4425zm-5.6506 2.5161l-5.8428-3.3685V4.6081a.0804.0804 0 0 1 .0332-.0615l4.8303-2.7865a4.4992 4.4992 0 0 1 6.6802 4.66v5.6772a.79.79 0 0 0-.4070.667zm-4.0321-2.7443l2.0201-1.1686a.071.071 0 0 1 .071 0L17.7736 7.9379a4.4708 4.4708 0 0 1 .5346 3.0137l-.142.0852-4.7735 2.7582a.7712.7712 0 0 0-.7806 0l-5.8428-3.3685V8.1075a.0804.0804 0 0 1 .0332-.0615z"})}),color:"text-green-600 bg-green-100",description:"OpenAI ChatGPT and API integration"},anthropic:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#d97706",d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),color:"text-amber-600 bg-amber-100",description:"Anthropic Claude AI assistant"},shopify:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#95bf47",d:"M15.337 2.357c-.496-.056-1.16.062-1.794.403-.176.095-.618.217-.618.434 0 .062.031.124.031.186-.062 1.208-.651 2.818-1.46 4.025-.031.031-.062.062-.093.093-.062-.806-.062-1.489 0-1.829.124-1.085-.124-1.953-.93-2.632-.651-.527-1.86-.806-3.379-.093-1.085.496-2.418 1.52-3.658 3.131-.806.992-1.302 1.953-1.488 2.632 0 .031-.031.062-.031.093-.031 0-.062.031-.093.031C1.209 8.802.434 9.67.155 10.787c-.217.837-.062 1.612.403 2.17.341.403.775.62 1.271.713.217.031.465.031.744.031h.031v.031c.031.31.093.651.217.961.155.434.372.806.651 1.085.341.341.744.558 1.209.651.31.062.651.062 1.023.031.806-.062 1.581-.31 2.325-.744.341-.186.682-.403.992-.682.031-.031.062-.062.093-.062.031-.031.062-.031.093-.062.155-.155.279-.31.403-.496.031-.031.062-.062.093-.093 1.829-2.387 3.286-5.017 4.341-7.652.093-.248.186-.496.279-.744.062-.186.124-.372.186-.589.031-.124.062-.248.093-.372.031-.155.062-.279.062-.434.031-.155.031-.31.031-.465 0-.093.031-.186.031-.279 0-.031 0-.062.031-.093.031-.248.093-.496.155-.775.031-.093.062-.186.062-.31.031-.155.062-.341.093-.527.031-.248.062-.496.093-.744.031-.341.062-.682.093-1.023.031-.372.062-.713.093-1.054C15.648 2.76 15.648 2.573 15.337 2.357z"})}),color:"text-green-600 bg-green-100",description:"Shopify e-commerce platform"},microsoft_365:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#0078d4",d:"M2 3h9v18H2V3zm11-1h9v9h-9V2zm0 11h9v9h-9v-9z"})}),color:"text-blue-600 bg-blue-100",description:"Microsoft 365 productivity suite"},hubspot:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#ff7a59",d:"M18.164 7.931V5.184a1.892 1.892 0 1 0-1.298.521v2.226a4.596 4.596 0 0 0-2.25-.578 4.63 4.63 0 0 0-4.632 4.632 4.63 4.63 0 0 0 4.632 4.632 4.596 4.596 0 0 0 2.25-.578v.521a1.892 1.892 0 1 0 1.298 0V12.01a1.892 1.892 0 0 0 0-4.08zm-3.548 7.266a3.234 3.234 0 1 1 0-6.467 3.234 3.234 0 0 1 0 6.467z"})}),color:"text-orange-600 bg-orange-100",description:"HubSpot CRM and marketing automation"},stripe:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#6772e5",d:"M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.774 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z"})}),color:"text-indigo-600 bg-indigo-100",description:"Stripe payment processing"},salesforce:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"#00a1e0",d:"M12.5 2.5c1.9 0 3.5 1.6 3.5 3.5s-1.6 3.5-3.5 3.5S9 7.9 9 6s1.6-3.5 3.5-3.5zm6.4 6.1c.8.5 1.4 1.4 1.4 2.4 0 1.6-1.3 2.9-2.9 2.9-.5 0-1-.1-1.4-.4-.4.9-1.3 1.5-2.4 1.5-.9 0-1.7-.5-2.1-1.2-.3.1-.6.2-1 .2-1.4 0-2.5-1.1-2.5-2.5 0-.7.3-1.3.8-1.8-.2-.4-.3-.8-.3-1.2 0-1.6 1.3-2.9 2.9-2.9.5 0 1 .1 1.4.4.4-.9 1.3-1.5 2.4-1.5.9 0 1.7.5 2.1 1.2.3-.1.6-.2 1-.2 1.4 0 2.5 1.1 2.5 2.5 0 .7-.3 1.3-.8 1.8z"})}),color:"text-blue-600 bg-blue-100",description:"Salesforce CRM platform"},custom_api:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"currentColor",d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),color:"text-gray-600 bg-gray-100",description:"Custom API integration"},other:{icon:n.jsx("svg",{viewBox:"0 0 24 24",className:"w-4 h-4",children:n.jsx("path",{fill:"currentColor",d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})}),color:"text-gray-600 bg-gray-100",description:"Other platform or service"}},tl=({platform:e,size:t="sm",showTooltip:s=!1})=>{const r=el[e];if(!r)return null;const a={sm:"w-6 h-6 p-1",md:"w-8 h-8 p-1.5",lg:"w-10 h-10 p-2"},o=n.jsx("div",{className:`${a[t]} ${r.color} rounded-md flex items-center justify-center`,title:s?r.description:void 0,children:r.icon});return s?n.jsxs("div",{className:"relative group",children:[o,n.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:r.description})]}):o},IA=({project:e,onClose:t,onFilesUpdated:s})=>{const[r,a]=h.useState([]),[o,i]=h.useState(!1),[l,c]=h.useState({}),[d,u]=h.useState(e.files||[]),[m,f]=h.useState(!1),[y,x]=h.useState(!1),p=[{value:"document",label:"Document"},{value:"image",label:"Image"},{value:"erd",label:"ERD/Diagram"},{value:"specification",label:"Specification"},{value:"contract",label:"Contract"},{value:"report",label:"Report"},{value:"other",label:"Other"}],g=h.useCallback(R=>{R.preventDefault(),f(!1);const O=Array.from(R.dataTransfer.files);b(O)},[]),v=h.useCallback(R=>{R.preventDefault(),f(!0)},[]),w=h.useCallback(R=>{R.preventDefault(),f(!1)},[]),b=R=>{const O=Array.from(R).map($=>({id:Math.random().toString(36).substr(2,9),file:$,name:$.name,description:"",file_type:S($.name),preview:$.type.startsWith("image/")?URL.createObjectURL($):null}));a($=>[...$,...O])},S=R=>{const O=R.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","bmp","svg"].includes(O)?"image":["pdf","doc","docx"].includes(O)?"document":"other"},_=R=>{a(O=>O.filter($=>$.id!==R)),c(O=>{const $={...O};return delete $[R],$})},P=(R,O,$)=>{a(T=>T.map(D=>D.id===R?{...D,[O]:$}:D))},k=async()=>{if(r.length!==0){i(!0),c({});try{const{djangoClient:R}=await mr(async()=>{const{djangoClient:$}=await Promise.resolve().then(()=>ca);return{djangoClient:$}},void 0),O=R.getClient();for(const[$,T]of r.entries()){c(D=>({...D,[T.id]:{status:"uploading",progress:0}}));try{const D=new FormData;D.append("file",T.file),D.append("name",T.name),D.append("description",T.description),D.append("file_type",T.file_type),await O.post(`/projects/${e.id}/upload_file/`,D,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:C=>{const N=Math.round(C.loaded*100/C.total);c(A=>({...A,[T.id]:{status:"uploading",progress:N}}))}}),c(C=>({...C,[T.id]:{status:"completed",progress:100}}))}catch(D){console.error(`Error uploading file ${T.name}:`,D),c(C=>({...C,[T.id]:{status:"error",progress:0}}))}}x(!0);try{const $=await O.get(`/projects/${e.id}/files/`);u($.data),s&&s()}catch($){console.error("Error refreshing files:",$)}finally{x(!1)}a([]),c({})}catch(R){console.error("Error in upload process:",R),c(O=>{const $={...O};return Object.keys($).forEach(T=>{$[T].status==="uploading"&&($[T]={status:"error",progress:0})}),$}),x(!1)}finally{i(!1)}}},j=async R=>{x(!0);try{const{djangoClient:O}=await mr(async()=>{const{djangoClient:D}=await Promise.resolve().then(()=>ca);return{djangoClient:D}},void 0),$=O.getClient();await $.delete(`/project-files/${R}/`);const T=await $.get(`/projects/${e.id}/files/`);u(T.data),s&&s()}catch(O){console.error("Error deleting file:",O)}finally{x(!1)}},E=R=>{if(R===0)return"0 Bytes";const O=1024,$=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(R)/Math.log(O));return parseFloat((R/Math.pow(O,T)).toFixed(2))+" "+$[T]},B=R=>R.is_image?n.jsx(fb,{className:"w-4 h-4"}):R.is_pdf?n.jsx(ze,{className:"w-4 h-4"}):n.jsx(ze,{className:"w-4 h-4"}),I=R=>{const O=l[R];if(!O)return null;switch(O.status){case"uploading":return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(He,{className:"w-4 h-4 animate-spin text-blue-500"}),n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${O.progress}%`}})}),n.jsxs("span",{className:"text-sm text-blue-600",children:[O.progress,"%"]})]});case"completed":return n.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[n.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),n.jsx("span",{className:"text-sm",children:"Uploaded successfully"})]});case"error":return n.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[n.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500 flex items-center justify-center",children:n.jsx(Vt,{className:"w-2 h-2 text-white"})}),n.jsx("span",{className:"text-sm",children:"Upload failed"})]});default:return null}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs(Z,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4",children:[n.jsxs(pe,{className:"flex flex-row items-center justify-between",children:[n.jsxs(xe,{children:["Project Files - ",e.title]}),n.jsx(V,{variant:"ghost",size:"sm",onClick:t,disabled:o,children:n.jsx(Vt,{className:"w-4 h-4"})})]}),n.jsxs(ne,{className:"space-y-6",children:[o&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(He,{className:"w-5 h-5 animate-spin text-blue-500"}),n.jsxs("span",{className:"text-blue-700 font-medium",children:["Uploading files... (",Object.values(l).filter(R=>R.status==="completed").length,"/",r.length,")"]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Upload New Files"}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${m?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"} ${o?"opacity-50 pointer-events-none":""}`,onDrop:g,onDragOver:v,onDragLeave:w,children:[n.jsx(jn,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),n.jsxs("p",{className:"text-gray-600 mb-2",children:["Drag and drop files here, or"," ",n.jsxs("label",{className:"text-blue-600 hover:text-blue-700 cursor-pointer",children:["click to browse",n.jsx(q,{type:"file",multiple:!0,className:"hidden",onChange:R=>b(R.target.files),disabled:o})]})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Supports PDF, images, documents, and more"})]}),r.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-medium",children:["Files to Upload (",r.length,")"]}),r.map(R=>n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[R.preview&&n.jsx("img",{src:R.preview,alt:"Preview",className:"w-16 h-16 object-cover rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(q,{value:R.name,onChange:O=>P(R.id,"name",O.target.value),placeholder:"File name",className:"font-medium",disabled:o}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>_(R.id),disabled:o,children:n.jsx(Vt,{className:"w-4 h-4"})})]}),n.jsx(Ye,{value:R.description,onChange:O=>P(R.id,"description",O.target.value),placeholder:"File description (optional)",className:"resize-none",rows:2,disabled:o}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(Se,{value:R.file_type,onValueChange:O=>P(R.id,"file_type",O),disabled:o,children:[n.jsx(be,{className:"w-40",children:n.jsx(Ce,{})}),n.jsx(we,{children:p.map(O=>n.jsx(X,{value:O.value,children:O.label},O.value))})]}),n.jsx("span",{className:"text-sm text-gray-500",children:E(R.file.size)})]}),n.jsx("div",{className:"mt-3",children:I(R.id)})]})]})},R.id)),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx(V,{variant:"outline",onClick:()=>a([]),disabled:o,children:"Clear All"}),n.jsx(V,{onClick:k,disabled:o||r.length===0,children:o?n.jsxs(n.Fragment,{children:[n.jsx(He,{className:"w-4 h-4 animate-spin mr-2"}),"Uploading..."]}):`Upload ${r.length} Files`})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Existing Files (",d.length,")"]}),y&&n.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[n.jsx(He,{className:"w-4 h-4 animate-spin"}),n.jsx("span",{className:"text-sm",children:"Refreshing files..."})]})]}),d.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ze,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No files uploaded yet"})]}):n.jsx("div",{className:"grid gap-4",children:d.map(R=>{var O;return n.jsx(Z,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:B(R)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:R.name}),R.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.description}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[n.jsx(je,{variant:"outline",className:"text-xs",children:((O=p.find($=>$.value===R.file_type))==null?void 0:O.label)||R.file_type}),n.jsx("span",{className:"text-xs text-gray-500",children:E(R.file_size)}),R.uploaded_by_name&&n.jsxs("span",{className:"text-xs text-gray-500",children:["by ",R.uploaded_by_name]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(R.created_date).toLocaleDateString()})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[R.is_image&&n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>window.open(R.file_url,"_blank"),children:n.jsx(zn,{className:"w-4 h-4"})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>window.open(R.file_url,"_blank"),children:n.jsx(ab,{className:"w-4 h-4"})}),n.jsx(V,{variant:"ghost",size:"sm",onClick:()=>j(R.id),className:"text-red-600 hover:text-red-700",disabled:y,children:n.jsx(fi,{className:"w-4 h-4"})})]})]})},R.id)})})]})]})]})})},FA=({project:e,onClose:t,onPlatformsUpdated:s})=>{const[r,a]=h.useState(e.platforms||[]),[o,i]=h.useState(!1),l={"Google Ecosystem":["google_sheets","google_drive","google_appsheet","google_appscript","google_workspace","google_cloud"],"Automation Platforms":["zapier","make"],"AI & Machine Learning":["openai","anthropic"],"Form Builders":["jotform","typeform"],"E-commerce":["shopify","woocommerce","stripe","paypal"],"CRM & Sales":["hubspot","salesforce"],Productivity:["notion","airtable","slack","microsoft_365","calendly"],"Web Development":["wordpress","webflow","bubble"],Marketing:["mailchimp"],Custom:["custom_api","other"]},c=m=>{a(f=>f.includes(m)?f.filter(y=>y!==m):[...f,m])},d=async()=>{i(!0);try{const{djangoClient:m}=await mr(async()=>{const{djangoClient:y}=await Promise.resolve().then(()=>ca);return{djangoClient:y}},void 0);await m.getClient().patch(`/projects/${e.id}/update_platforms/`,{platforms:r}),s&&s(),t()}catch(m){console.error("Error updating platforms:",m)}i(!1)},u=()=>{a([])};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs(Z,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto m-4",children:[n.jsxs(pe,{className:"flex flex-row items-center justify-between",children:[n.jsxs(xe,{children:["Select Platforms - ",e.title]}),n.jsx(V,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(Vt,{className:"w-4 h-4"})})]}),n.jsxs(ne,{className:"space-y-6",children:[r.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Selected Platforms (",r.length,")"]}),n.jsx(V,{variant:"outline",size:"sm",onClick:u,children:"Clear All"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(m=>{var f,y;return n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(tl,{platform:m,size:"sm"}),n.jsxs(je,{variant:"secondary",className:"cursor-pointer hover:bg-red-100",onClick:()=>c(m),children:[((y=(f=el[m])==null?void 0:f.description)==null?void 0:y.split(" ")[0])||m,n.jsx(Vt,{className:"w-3 h-3 ml-1"})]})]},m)})})]}),n.jsx("div",{className:"space-y-6",children:Object.entries(l).map(([m,f])=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:f.map(y=>{const x=r.includes(y),p=el[y];return p?n.jsxs("div",{className:`relative cursor-pointer rounded-lg border-2 p-3 hover:shadow-md transition-all ${x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>c(y),children:[x&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(Ls,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(tl,{platform:y,size:"md"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:p.description.split(" ")[0]}),n.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:p.description})]})]})]},y):null})})]},m))}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(V,{variant:"outline",onClick:t,children:"Cancel"}),n.jsx(V,{onClick:d,disabled:o,children:o?"Saving...":"Save Platforms"})]})]})]})})},LA={proposal:"bg-blue-100 text-blue-800 border-blue-200",active:"bg-green-100 text-green-800 border-green-200",completed:"bg-emerald-100 text-emerald-800 border-emerald-200",on_hold:"bg-yellow-100 text-yellow-800 border-yellow-200",cancelled:"bg-red-100 text-red-800 border-red-200"},$A={integrations:"bg-purple-100 text-purple-800 border-purple-200",automations:"bg-blue-100 text-blue-800 border-blue-200","automations+integrations":"bg-indigo-100 text-indigo-800 border-indigo-200",apps:"bg-green-100 text-green-800 border-green-200",websites:"bg-orange-100 text-orange-800 border-orange-200"},im={discovery:15,design:35,development:65,testing:80,deployment:95,training:100};function VA({project:e,isSelected:t,onClick:s,userRole:r,onProjectUpdated:a}){var w,b,S;const[o,i]=h.useState(!1),[l,c]=h.useState(!1),[d,u]=h.useState(!1),[m,f]=h.useState(!1),y=_=>{_.target.closest(".dropdown-trigger")||_.target.closest("button")||s()},x=()=>{a&&a()},p=()=>{a&&a(),u(!1)},g=m?e.platforms||[]:(e.platforms||[]).slice(0,3),v=(e.platforms||[]).length>3;return n.jsxs(n.Fragment,{children:[n.jsx(Z,{className:`cursor-pointer transition-all duration-200 rounded-lg border-l-4 ${t?"border-green-500 bg-white shadow-lg":"border-transparent bg-white/80 backdrop-blur-sm hover:bg-white hover:shadow-md"}`,onClick:y,children:n.jsxs(ne,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-slate-900 text-sm leading-tight mb-1",children:e.title}),n.jsx("p",{className:"text-xs text-slate-500",children:e.client_name})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[n.jsx(je,{className:`text-xs ${LA[e.status]}`,children:(w=e.status)==null?void 0:w.replace("_"," ")}),n.jsx(je,{variant:"outline",className:`text-xs ${$A[e.project_type]}`,children:(b=e.project_type)==null?void 0:b.replace("+"," + ")})]}),n.jsxs("div",{className:"relative dropdown-trigger",children:[n.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:_=>{_.stopPropagation(),i(!o)},children:n.jsx(ib,{className:"w-3 h-3"})}),o&&n.jsxs("div",{className:"absolute right-0 top-6 bg-white border rounded-md shadow-lg z-10 min-w-[160px]",children:[n.jsxs(V,{variant:"ghost",size:"sm",className:"w-full justify-start text-xs h-8",onClick:_=>{_.stopPropagation(),c(!0),i(!1)},children:[n.jsx(jn,{className:"w-3 h-3 mr-2"}),"Upload Files"]}),n.jsxs(V,{variant:"ghost",size:"sm",className:"w-full justify-start text-xs h-8",onClick:_=>{_.stopPropagation(),u(!0),i(!1)},children:[n.jsx(ul,{className:"w-3 h-3 mr-2"}),"Platforms"]})]})]})]})]}),e.platforms&&e.platforms.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"Platforms"}),v&&!m&&n.jsxs(V,{variant:"ghost",size:"sm",className:"h-4 p-0 text-xs text-blue-600 hover:text-blue-700",onClick:_=>{_.stopPropagation(),f(!0)},children:["+",(e.platforms||[]).length-3," more"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[g.map(_=>n.jsx(tl,{platform:_,size:"sm",showTooltip:!0},_)),m&&v&&n.jsx(V,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-xs text-gray-500",onClick:_=>{_.stopPropagation(),f(!1)},children:n.jsx(ll,{className:"w-3 h-3"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-500",children:[n.jsx("span",{className:"capitalize",children:(S=e.current_stage)==null?void 0:S.replace("_"," ")}),n.jsxs("span",{children:[im[e.current_stage]||0,"%"]})]}),n.jsx(no,{value:im[e.current_stage]||0,className:"h-1.5 bg-slate-100"})]}),n.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-500",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[r!=="client"&&e.total_fee&&n.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[n.jsx(jt,{className:"w-3 h-3"}),"$",e.total_fee.toLocaleString()]}),e.total_hours>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ut,{className:"w-3 h-3"}),e.total_hours,"h"]}),e.files_count>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ze,{className:"w-3 h-3"}),e.files_count]})]}),e.start_date&&n.jsxs("span",{children:["Started ",ve(new Date(e.start_date),"MMM d")]})]})]})}),o&&n.jsx("div",{className:"fixed inset-0 z-5",onClick:()=>i(!1)}),l&&n.jsx(IA,{project:e,onClose:()=>c(!1),onFilesUpdated:x}),d&&n.jsx(FA,{project:e,onClose:()=>u(!1),onPlatformsUpdated:p})]})}const si=[{key:"discovery",name:"Discovery & Requirements",percentage:15},{key:"design",name:"Design & Architecture",percentage:20},{key:"development",name:"Development & Configuration",percentage:30},{key:"testing",name:"Testing & QA",percentage:15},{key:"deployment",name:"Deployment & Implementation",percentage:15},{key:"training",name:"Training & Handoff",percentage:5}];function BA({project:e,tasks:t,onStageComplete:s,onCreateTask:r,userRole:a,invoiceLoading:o,onTasksUpdated:i,onProjectUpdated:l}){var x;const c=async(p,g)=>{try{const v=g==="completed"?"pending":"completed",w={status:v,...v==="completed"&&{completion_date:new Date().toISOString().split("T")[0]}};await Le.patch(p,w),i&&i()}catch(v){console.error("Error updating task status:",v)}},d=async p=>{try{await Oe.patch(p.id,{status:"completed"}),l&&l()}catch(g){console.error("Error completing project:",g)}},u=p=>{var g;return(g=e.stage_completion)!=null&&g[p]?"completed":e.current_stage===p?"active":"pending"},m=p=>t.filter(g=>g.stage===p),f=p=>m(p).reduce((g,v)=>g+(v.hours_logged||0),0),y=si.every(p=>{var g;return((g=e.stage_completion)==null?void 0:g[p.key])===!0});return n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:[n.jsx(pe,{className:"border-b border-slate-100",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(xe,{className:"text-xl font-bold text-slate-900",children:e.title}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-600",children:[n.jsx("span",{children:e.client_name}),n.jsx("span",{children:"•"}),n.jsx("span",{className:"capitalize",children:(x=e.project_type)==null?void 0:x.replace("+"," + ")}),a!=="client"&&e.total_fee&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsxs("span",{className:"font-semibold",children:["$",e.total_fee.toLocaleString()]})]})]})]}),a!=="client"&&n.jsxs(V,{onClick:r,className:"bg-slate-900 hover:bg-slate-800 text-white",children:[n.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})}),n.jsx(ne,{className:"p-6",children:n.jsxs("div",{className:"space-y-6",children:[si.map((p,g)=>{const v=u(p.key),w=m(p.key),b=w.filter(j=>j.status==="completed").length,S=f(p.key),_=v==="completed",P=v==="active",k=P&&w.length>0&&b===w.length;return n.jsxs("div",{className:"relative",children:[g<si.length-1&&n.jsx("div",{className:`absolute left-4 top-12 w-px h-16 ${_?"bg-green-500":"bg-slate-200"}`}),n.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-xl transition-all duration-200 ${P?"bg-blue-50 border border-blue-200":_?"bg-green-50 border border-green-200":"bg-slate-50 border border-slate-200"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${_?"bg-green-500 text-white":P?"bg-blue-500 text-white":"bg-slate-300 text-slate-600"}`,children:_?n.jsx(cl,{className:"w-4 h-4"}):P?n.jsx(ut,{className:"w-4 h-4"}):n.jsx(Jv,{className:"w-4 h-4"})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-slate-900",children:p.name}),n.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-600",children:[n.jsxs("span",{children:[p.percentage,"% of project fee"]}),a!=="client"&&e.total_fee&&n.jsxs("span",{className:"font-medium",children:["$",(e.total_fee*p.percentage/100).toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[w.length>0&&n.jsxs(je,{variant:"outline",className:"text-xs",children:[b,"/",w.length," tasks"]}),S>0&&n.jsxs(je,{variant:"outline",className:"text-xs",children:[S,"h logged"]})]})]}),w.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(no,{value:b/w.length*100,className:"h-2 bg-slate-200"}),n.jsxs("div",{className:"space-y-1",children:[w.slice(0,3).map(j=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[a!=="client"?n.jsx("input",{type:"checkbox",checked:j.status==="completed",onChange:()=>c(j.id,j.status),className:"w-3 h-3 rounded border-gray-300 text-blue-600 focus:ring-blue-500 focus:ring-2"}):n.jsx("div",{className:`w-2 h-2 rounded-full ${j.status==="completed"?"bg-green-500":j.status==="in_progress"?"bg-blue-500":"bg-slate-300"}`}),n.jsx("span",{className:j.status==="completed"?"text-slate-500 line-through":"text-slate-700",children:j.title})]}),j.hours_logged>0&&n.jsxs("span",{className:"text-xs text-slate-500",children:[j.hours_logged,"h"]})]},j.id)),w.length>3&&n.jsxs("p",{className:"text-xs text-slate-500",children:["+",w.length-3," more tasks"]})]})]}),a!=="client"&&k&&!_&&n.jsxs(V,{onClick:()=>s(e,p.key),disabled:o[p.key],className:"bg-green-600 hover:bg-green-700 text-white",children:[n.jsx(Ct,{className:"w-4 h-4 mr-2"}),o[p.key]?"Creating Invoice...":"Complete Stage & Create Invoice"]})]})]})]},p.key)}),a!=="client"&&y&&e.status!=="completed"&&n.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-green-900",children:"Ready to Complete Project"}),n.jsx("p",{className:"text-sm text-green-700",children:"All stages completed. Mark project as finished?"})]}),n.jsx(V,{onClick:()=>d(e),className:"bg-green-600 hover:bg-green-700",children:"Complete Project"})]})})]})})]})}const UA=[{key:"discovery",name:"Discovery & Requirements"},{key:"design",name:"Design & Architecture"},{key:"development",name:"Development & Configuration"},{key:"testing",name:"Testing & QA"},{key:"deployment",name:"Deployment & Implementation"},{key:"training",name:"Training & Handoff"}];function zA({project:e,onClose:t,onTaskCreated:s}){const[r,a]=h.useState({title:"",description:"",stage:e.current_stage||"discovery",hours_estimated:"",assigned_to:""}),[o,i]=h.useState(!1),[l,c]=h.useState([]),[d,u]=h.useState(!0),[m,f]=h.useState(null),[y,x]=h.useState(null);Zt.useEffect(()=>{p()},[]);const p=async()=>{u(!0),f(null);try{const w=(await _e.list("-created_date")).filter(b=>b.access_level!=="client");c(w)}catch(v){console.error("Error loading staff users:",v),f("Failed to load team members");try{const w=await _e.filter({access_level:"staff"});c(w),f(null)}catch(w){console.error("Fallback error loading staff users:",w)}}finally{u(!1)}},g=async v=>{var w,b,S;v.preventDefault(),i(!0),x(null);try{const _={title:r.title.trim(),description:r.description.trim(),project:e.id,stage:r.stage,status:"pending",hours_estimated:parseFloat(r.hours_estimated)||0,assigned_to:r.assigned_to||null};await Le.create(_),s(),t()}catch(_){if(console.error("Error creating task:",_),console.error("Error response:",(w=_.response)==null?void 0:w.data),console.error("Error status:",(b=_.response)==null?void 0:b.status),(S=_.response)!=null&&S.data){console.error("Validation errors:",_.response.data);let P="Failed to create task: ";if(typeof _.response.data=="object"){const k=Object.entries(_.response.data).map(([j,E])=>`${j}: ${Array.isArray(E)?E.join(", "):E}`).join("; ");P+=k}else P+=_.response.data;x(P)}else x("An unexpected error occurred while creating the task")}i(!1)};return n.jsx(ht,{open:!0,onOpenChange:t,children:n.jsxs(ot,{className:"sm:max-w-md",children:[n.jsx(ft,{children:n.jsx(pt,{children:"Add New Task"})}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"title",children:"Task Title"}),n.jsx(q,{id:"title",value:r.title,onChange:v=>a({...r,title:v.target.value}),placeholder:"Enter task title",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"description",children:"Description"}),n.jsx(Ye,{id:"description",value:r.description,onChange:v=>a({...r,description:v.target.value}),placeholder:"Task description",rows:3})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"stage",children:"Project Stage"}),n.jsxs(Se,{value:r.stage,onValueChange:v=>a({...r,stage:v}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select stage"})}),n.jsx(we,{children:UA.map(v=>n.jsx(X,{value:v.key,children:v.name},v.key))})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"assigned_to",children:"Assign To"}),n.jsxs(Se,{value:r.assigned_to,onValueChange:v=>a({...r,assigned_to:v}),disabled:d,children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:d?"Loading team members...":m?"Error loading team members":"Select team member"})}),n.jsxs(we,{children:[l.map(v=>n.jsx(X,{value:v.email,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:v.full_name}),n.jsxs("span",{className:"text-xs text-gray-500 capitalize",children:["(",v.access_level,")"]})]})},v.id)),l.length===0&&!d&&n.jsx(X,{value:"",disabled:!0,children:"No team members available"})]})]}),m&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:m})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"hours_estimated",children:"Estimated Hours"}),n.jsx(q,{id:"hours_estimated",type:"number",min:"0",step:"0.5",value:r.hours_estimated,onChange:v=>a({...r,hours_estimated:v.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:o||d,className:"bg-slate-900 hover:bg-slate-800",children:o?"Creating...":"Create Task"})]}),y&&n.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-sm text-red-700",children:y})})]})]})})}const WA={discovery:"discovery",design:"planning",development:"development",testing:"testing",deployment:"deployment",training:"maintenance"},Yr={discovery:"discovery",planning:"design",development:"development",testing:"testing",deployment:"deployment",maintenance:"training"},HA={financial:{model:"gpt-4o-mini",temperature:.3,max_tokens:800}},qA=async(e,t)=>{const s={discovery:"Discovery & Requirements Analysis",design:"System Design & Architecture",development:"Development & Configuration",testing:"Testing & Quality Assurance",deployment:"Deployment & Implementation",training:"Training & Handoff"};try{const r=await dr({prompt:`Generate a professional invoice description for the "${s[t]}" phase of a ${e.project_type} project titled "${e.title}" for client "${e.client_name}". 
      
      Project context: ${e.description}
      
      Requirements:
      - Use formal business language
      - Include 3-5 specific deliverables for this phase
      - Mention measurable outcomes where applicable
      - Keep description between 100-200 words
      - Focus on value provided to the client
      - Be specific about work completed in this ${s[t]} phase`,response_json_schema:{type:"object",properties:{description:{type:"string",description:"Professional invoice description (100-200 words)"},deliverables:{type:"array",items:{type:"string"},description:"List of 3-5 key deliverables for this phase"},hours_justification:{type:"string",description:"Brief justification for time spent on this phase"}},required:["description","deliverables"]},...HA.financial});if(!r.description||r.description.length<50)throw new Error("AI generated description too short for professional invoice");return r}catch(r){console.warn("AI description generation failed, using professional fallback:",r);const a={discovery:["Requirements analysis and documentation","System architecture design","Project timeline and milestones","Technical specification document","Stakeholder alignment sessions"],design:["System architecture design","Technical specifications","UI/UX design mockups","Database schema design","Integration planning documents"],development:["Core system development","Feature implementation","Code documentation","Development environment setup","Progress reviews and updates"],testing:["Comprehensive testing suite","Quality assurance protocols","Bug identification and resolution","Performance validation","Test documentation"],deployment:["Production deployment","System configuration","Go-live support","Deployment documentation","Post-deployment validation"],training:["User training sessions","Documentation handoff","Knowledge transfer","Support procedures setup","Project closure activities"]};return{description:`Professional ${s[t]} services completed for ${e.title}. This phase included comprehensive ${t} activities delivered according to project specifications and industry best practices. All deliverables were completed to client satisfaction with full documentation and quality assurance measures implemented throughout the process.`,deliverables:a[t]||[`${s[t]} documentation`,"Quality assurance review","Client communication and updates","Technical implementation","Testing and validation"],hours_justification:`Time allocated according to project scope and complexity for ${s[t]} phase, ensuring thorough delivery of all requirements.`}}};function x0(){const[e,t]=h.useState(null),[s,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState(null),[c,d]=h.useState(""),[u,m]=h.useState("all"),[f,y]=h.useState("all"),[x,p]=h.useState(!0),[g,v]=h.useState(!1),[w,b]=h.useState({});h.useEffect(()=>{S()},[]);const S=async()=>{try{const I=await _e.me();t(I);let R;if(I.access_level==="client"){const O=await bt.filter({user_id:I.id},1);O.length>0?R=await Oe.filter({client_id:O[0].id},"-updated_date"):R=[]}else if(I.role==="staff"||I.access_level==="staff"){const O=[{assigned_to:I.email},{assigned_to:I.id},{assignee:I.email},{assignee:I.id},{assigned_user:I.id}];let $=[];for(const C of O)try{if($=await Le.filter(C,"-created_date"),$.length>0)break}catch(N){console.log("Filter failed:",C,N);continue}const T=[...new Set($.map(C=>C.project_id||C.project))];R=(await Oe.list("-updated_date")).filter(C=>T.includes(C.id))}else R=await Oe.list("-updated_date");if(R=R.map(O=>({...O,current_stage:Yr[O.current_stage]||O.current_stage,stage_completion:_(O.stage_completion,Yr)})),r(R),R.length>0){l(R[0]);const O=I.role==="staff"||I.access_level==="staff"?await Le.filter({project_id:R[0].id,assigned_to:I.email},"-created_date"):await Le.filter({project_id:R[0].id},"-created_date");o(O)}}catch(I){console.error("Error loading data:",I)}p(!1)},_=(I,R)=>{if(!I)return{};const O={};return Object.keys(I).forEach($=>{const T=R[$]||$;O[T]=I[$]}),O},P=s.filter(I=>{const R=I.title.toLowerCase().includes(c.toLowerCase())||I.client_name.toLowerCase().includes(c.toLowerCase()),O=u==="all"||I.status===u,$=f==="all"||I.project_type===f;return R&&O&&$}),k=async I=>{l(I);const R=(e==null?void 0:e.role)==="staff"||(e==null?void 0:e.access_level)==="staff"?await Le.filter({project_id:I.id,assigned_to:e.email},"-created_date"):await Le.filter({project_id:I.id},"-created_date");o(R)},j=async()=>{if(i&&e)try{const I=(e==null?void 0:e.role)==="staff"||(e==null?void 0:e.access_level)==="staff"?await Le.filter({project:i.id,assigned_to:e.email},"-created_date"):await Le.filter({project:i.id},"-created_date");o(I)}catch(I){console.error("Error refreshing tasks:",I)}},E=async()=>{try{if(await S(),i){const I=await Oe.get(i.id),R={...I,current_stage:Yr[I.current_stage]||I.current_stage,stage_completion:_(I.stage_completion,Yr)};l(R)}}catch(I){console.error("Error refreshing project:",I)}},B=async(I,R)=>{var O,$;b(T=>({...T,[R]:!0}));try{const T=WA[R],D={discovery:15,design:20,development:30,testing:15,deployment:15,training:5};let C;try{C=await qA(I,R)}catch(N){console.warn("AI description generation failed, using fallback:",N),C={description:`Professional ${R} services completed for ${I.title}`,deliverables:[`${R} phase completion`],hours_justification:`Standard time allocation for ${R} phase`}}try{const N=`INV-${Date.now()}`,A=I.total_fee*D[R]/100,M={project:I.id,client:I.client,project_description:I.description||"",invoice_number:N,client_name:I.client_name||"",client_email:I.client_email||"",stage:T,stage_description:C.description||`Professional ${R} services completed for ${I.title}`,amount:parseFloat(A.toFixed(2)),percentage:D[R],due_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]},L=await Ue.create(M)}catch(N){console.error("Invoice creation failed - Full error:",N),(O=N.response)!=null&&O.data&&console.error("Backend validation errors:",JSON.stringify(N.response.data,null,2))}try{const{djangoClient:N}=await mr(async()=>{const{djangoClient:L}=await Promise.resolve().then(()=>ca);return{djangoClient:L}},void 0),M=await N.getClient().patch(`/projects/${I.id}/complete_stage/`,{stage:T});await S()}catch(N){throw console.error("Error completing stage:",N),console.error("Stage error response:",($=N.response)==null?void 0:$.data),N}}catch(T){console.error("Error completing stage:",T)}b(T=>({...T,[R]:!1}))};return x?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-slate-200 rounded w-64"}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"h-96 bg-slate-200 rounded-xl"}),n.jsx("div",{className:"lg:col-span-2 h-96 bg-slate-200 rounded-xl"})]})]})}):n.jsx("div",{className:"p-4 md:p-8 bg-gradient-to-br from-[#F2F2F2] to-gray-100 min-h-screen",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-[#1E1E1D] mb-2",children:"Projects"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Manage your integration and automation projects"})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(q,{placeholder:"Search projects...",value:c,onChange:I=>d(I.target.value),className:"pl-10 bg-white/90 backdrop-blur-sm border-gray-200 font-medium"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Se,{value:u,onValueChange:m,children:[n.jsx(be,{className:"w-32 bg-white/90 backdrop-blur-sm border-gray-200",children:n.jsx(Ce,{placeholder:"Status"})}),n.jsxs(we,{children:[n.jsx(X,{value:"all",children:"All Status"}),n.jsx(X,{value:"proposal",children:"Proposal"}),n.jsx(X,{value:"active",children:"Active"}),n.jsx(X,{value:"completed",children:"Completed"}),n.jsx(X,{value:"on_hold",children:"On Hold"})]})]}),n.jsxs(Se,{value:f,onValueChange:y,children:[n.jsx(be,{className:"w-40 bg-white/90 backdrop-blur-sm border-gray-200",children:n.jsx(Ce,{placeholder:"Type"})}),n.jsxs(we,{children:[n.jsx(X,{value:"all",children:"All Types"}),n.jsx(X,{value:"integrations",children:"Integrations"}),n.jsx(X,{value:"automations",children:"Automations"}),n.jsx(X,{value:"automations+integrations",children:"Automations + Integrations"}),n.jsx(X,{value:"apps",children:"Apps"}),n.jsx(X,{value:"websites",children:"Websites"})]})]})]})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-[#1E1E1D] text-lg",children:["Projects (",P.length,")"]}),n.jsxs("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:[P.map(I=>n.jsx(VA,{project:I,isSelected:(i==null?void 0:i.id)===I.id,onClick:()=>k(I),userRole:e==null?void 0:e.access_level},I.id)),P.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{className:"font-medium",children:"No projects found"})})]})]}),n.jsx("div",{className:"lg:col-span-2",children:i?n.jsx(BA,{project:i,tasks:a,onStageComplete:B,onCreateTask:()=>v(!0),onTasksUpdated:j,onProjectUpdated:E,userRole:e==null?void 0:e.access_level,invoiceLoading:w}):n.jsx(Z,{className:"h-96 flex items-center justify-center bg-white/90 backdrop-blur-sm border-gray-200",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx(Zn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Select a project to view details"})]})})})]}),g&&i&&n.jsx(zA,{project:i,onClose:()=>v(!1),onTaskCreated:S})]})})}const GA=async()=>{try{return(await Ft.getClient().get("/integrations/gmail/auth-url/")).data}catch(e){throw console.error("Error getting Gmail auth URL:",e),e}},YA=async()=>{try{return(await Ft.getClient().delete("/integrations/gmail/disconnect/")).data}catch(e){throw console.error("Error disconnecting Gmail:",e),e}},fo=async e=>{try{return(await Ft.getClient().post("/integrations/email/send/",e)).data}catch(t){throw console.error("Error sending external email:",t),t}},KA={draft:"bg-gray-100 text-gray-800 border-gray-200",sent:"bg-blue-100 text-blue-800 border-blue-200",accepted:"bg-green-100 text-green-800 border-green-200",declined:"bg-red-100 text-red-800 border-red-200"},XA={integrations:"bg-purple-100 text-purple-800",automations:"bg-blue-100 text-blue-800","automations+integrations":"bg-indigo-100 text-indigo-800",apps:"bg-green-100 text-green-800",websites:"bg-orange-100 text-orange-800"};function JA({proposal:e,isSelected:t,onClick:s}){var r,a;return n.jsx(Z,{className:`cursor-pointer transition-all duration-200 rounded-lg border-l-4 ${t?"border-amber-500 bg-white shadow-lg":"border-transparent bg-white/80 backdrop-blur-sm hover:bg-white hover:shadow-md"}`,onClick:s,children:n.jsxs(ne,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-slate-900 text-sm leading-tight mb-1",children:e.title}),n.jsx("p",{className:"text-xs text-slate-500",children:e.client_name})]}),n.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[n.jsx(je,{className:`text-xs ${KA[e.status]}`,children:e.status}),n.jsx(je,{variant:"outline",className:`text-xs ${XA[e.project_type]}`,children:(r=e.project_type)==null?void 0:r.replace("+"," + ")})]})]}),n.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-500",children:[n.jsxs("span",{className:"font-medium text-slate-700",children:["$",(a=e.total_fee)==null?void 0:a.toLocaleString()]}),n.jsx("span",{children:ve(new Date(e.created_date),"MMM d, yyyy")})]})]})})}const ZA={draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",accepted:"bg-green-100 text-green-800",declined:"bg-red-100 text-red-800"};function QA({proposal:e,onAccept:t,onSendToClient:s,userRole:r,generatingContent:a,acceptingProposal:o}){var c,d;const i=[{name:"Discovery & Requirements",percentage:15},{name:"Design & Architecture",percentage:20},{name:"Development & Configuration",percentage:30},{name:"Testing & QA",percentage:15},{name:"Deployment & Implementation",percentage:15},{name:"Training & Handoff",percentage:5}],l=`${window.location.origin}/proposal/${e.id}`;return n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:[n.jsx(pe,{className:"border-b border-slate-100",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx(xe,{className:"text-xl font-bold text-slate-900",children:e.title}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-600",children:[n.jsx("span",{children:e.client_name}),n.jsx("span",{children:"•"}),n.jsx("span",{children:e.client_email}),n.jsx("span",{children:"•"}),n.jsx("span",{className:"capitalize",children:(c=e.project_type)==null?void 0:c.replace("+"," + ")})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(je,{className:ZA[e.status],children:e.status}),e.status==="draft"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(V,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>s(e),disabled:a===e.id,children:[a===e.id?n.jsx(He,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(dl,{className:"w-4 h-4 mr-2"}),a===e.id?"Generating...":"Send to Client"]}),r==="admin"&&n.jsx(V,{size:"sm",className:"bg-green-600 hover:bg-green-600 text-white",onClick:()=>t(e),disabled:o===e.id,children:o===e.id?n.jsxs(n.Fragment,{children:[n.jsx(He,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Project..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Proceed & Create Project"]})})]}),e.status==="sent"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(V,{size:"sm",variant:"outline",onClick:()=>window.open(l,"_blank"),children:[n.jsx(cb,{className:"w-4 h-4 mr-2"}),"View Client Link"]}),r==="admin"&&n.jsx(V,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>t(e),disabled:o===e.id,children:o===e.id?n.jsxs(n.Fragment,{children:[n.jsx(He,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Project..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Accept & Create Project"]})})]})]})]})}),n.jsxs(ne,{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[n.jsx(jt,{className:"w-8 h-8 text-green-600 bg-green-100 rounded-lg p-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Total Value"}),n.jsxs("p",{className:"text-xl font-bold text-slate-900",children:["$",(d=e.total_fee)==null?void 0:d.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[n.jsx(Hs,{className:"w-8 h-8 text-blue-600 bg-blue-100 rounded-lg p-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Timeline"}),n.jsx("p",{className:"font-semibold text-slate-900",children:e.timeline||"TBD"})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[n.jsx(ze,{className:"w-8 h-8 text-purple-600 bg-purple-100 rounded-lg p-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Valid Until"}),n.jsx("p",{className:"font-semibold text-slate-900",children:e.valid_until?ve(new Date(e.valid_until),"MMM d, yyyy"):"N/A"})]})]})]}),n.jsx(Fa,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Project Description"}),n.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:n.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:e.description})})]}),e.scope_of_work&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Scope of Work"}),n.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:n.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:e.scope_of_work})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Payment Structure"}),n.jsx("div",{className:"space-y-3",children:i.map((u,m)=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-900",children:u.name}),n.jsxs("p",{className:"text-sm text-slate-500",children:[u.percentage,"% of total project fee"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-semibold text-slate-900",children:["$",(e.total_fee*u.percentage/100).toLocaleString()]})})]},m))})]})]})]})}function y0({open:e,onClose:t,onSend:s,initialSubject:r,initialBody:a,recipient:o,sending:i}){const[l,c]=h.useState(""),[d,u]=h.useState("");h.useEffect(()=>{e&&(c(r),u(a))},[e,r,a]);const m=()=>{s(l,d)};return n.jsx(ht,{open:e,onOpenChange:t,children:n.jsxs(ot,{className:"sm:max-w-7xl max-h-[95vh] flex flex-col",children:[n.jsxs(ft,{children:[n.jsx(pt,{children:"Review and Send Email"}),n.jsxs(Eg,{children:["You can edit the subject and body before sending. The email will be sent to: ",o]})]}),n.jsxs("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-0 py-4",children:[n.jsxs("div",{className:"space-y-4 flex flex-col min-h-0",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"subject",children:"Subject"}),n.jsx(q,{id:"subject",value:l,onChange:f=>c(f.target.value),className:"font-semibold"})]}),n.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[n.jsx(z,{htmlFor:"body",children:"Body (HTML)"}),n.jsx(Ye,{id:"body",value:d,onChange:f=>u(f.target.value),className:"flex-grow font-mono text-sm min-h-96",placeholder:"Enter email body HTML here..."})]})]}),n.jsxs("div",{className:"flex flex-col min-h-0",children:[n.jsx(z,{children:"Live Preview"}),n.jsx("div",{className:"flex-grow mt-2 border border-gray-200 rounded-lg overflow-hidden min-h-96",children:n.jsx("iframe",{srcDoc:d,title:"Email Preview",className:"w-full h-full min-h-96",sandbox:"allow-same-origin"})})]})]}),n.jsxs(Sa,{children:[n.jsxs(V,{type:"button",variant:"outline",onClick:t,children:[n.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Cancel"]}),n.jsxs(V,{type:"button",onClick:m,disabled:i,className:"bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:[i?n.jsx(He,{className:"w-4 h-4 mr-2 animate-spin"}):n.jsx(dl,{className:"w-4 h-4 mr-2"}),i?"Sending...":"Send Email"]})]})]})})}function v0(){const[e,t]=h.useState(null),[s,r]=h.useState([]),[a,o]=h.useState(null),[i,l]=h.useState(!1),[c,d]=h.useState(""),[u,m]=h.useState(!0),[f,y]=h.useState(null),[x,p]=h.useState({}),[g,v]=h.useState(null),[w,b]=h.useState(!1),[S,_]=h.useState(null),[P,k]=h.useState(!1);h.useEffect(()=>{j()},[]);const j=async()=>{try{const T=await _e.me();t(T);const D=await St.list("-updated_date");r(D),D.length>0&&o(D[0])}catch(T){console.error("Error loading data:",T)}m(!1)},E=s.filter(T=>T.title.toLowerCase().includes(c.toLowerCase())||T.client_name.toLowerCase().includes(c.toLowerCase())),B=()=>{l(!1),j()},I=T=>{o(T)},R=async T=>{var D,C;y(T.id);try{const N=await Ge.list(),A=N.length>0?N[0]:{company_name:"Nex-a Tech Solutions",company_logo_url:"",primary_color:"#72FD67",secondary_color:"#1E1E1D",accent_color:"#F2F2F2",email_theme:"light"},M=await dr({prompt:`Create a professional HTML proposal for ${A.company_name}.

Theme: ${A.email_theme}
Colors: Primary ${A.primary_color}, Secondary ${A.secondary_color}, Accent ${A.accent_color}
Logo: ${A.company_logo_url||"none"}

Proposal: ${T.title} for ${T.client_name}
Type: ${T.project_type}
Budget: $${(D=T.total_fee)==null?void 0:D.toLocaleString()}
Timeline: ${T.timeline||"TBD"}

Description: ${T.description}
Scope: ${T.scope_of_work||"To be defined"}

Create a complete HTML email with:
- Professional header with logo and company name
- Executive summary
- Project details and scope
- Investment information
- Accept proposal button linking to: ${window.location.origin}/clientProposalAcceptance?proposalId=${T.id}&email=${encodeURIComponent(T.client_email)}
- Clean, branded styling using the specified theme and colors

Make it self-contained HTML with inline CSS. Return ONLY a JSON object with html_content and subject_line properties.`,response_json_schema:{type:"object",properties:{html_content:{type:"string"},subject_line:{type:"string"}},required:["html_content","subject_line"]}});let L;if(M.result&&typeof M.result=="string")try{let U=M.result.trim();U.startsWith("```json")?(U=U.slice(7),U.endsWith("```")&&(U=U.slice(0,-3))):U.startsWith("```")&&(U=U.slice(3),U.endsWith("```")&&(U=U.slice(0,-3))),U=U.trim(),L=JSON.parse(U)}catch(U){console.error("Failed to parse JSON from result:",U),console.error("Problematic text:",M.result),L=M}else L=M;_({recipient:T.client_email,subject:L.subject_line||`Proposal: ${T.title} - ${A.company_name}`,body:L.html_content,proposalId:T.id,generatedContent:L.html_content}),b(!0)}catch(N){console.error("Error generating proposal content:",N);let A;try{const L=await Ge.list();A=L.length>0?L[0]:{company_name:"Nex-a Tech Solutions",company_logo_url:"",primary_color:"#72FD67",secondary_color:"#1E1E1D",accent_color:"#F2F2F2",email_theme:"light"}}catch{A={company_name:"Nex-a Tech Solutions",company_logo_url:"",primary_color:"#72FD67",secondary_color:"#1E1E1D",accent_color:"#F2F2F2",email_theme:"light"}}const M=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <style>
            body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: ${A.accent_color}; }
            .container { max-width: 800px; margin: 0 auto; background: white; padding: 40px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
            .header { text-align: center; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 2px solid ${A.primary_color}; }
            .logo { max-width: 200px; height: auto; margin-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: ${A.secondary_color}; margin: 0; }
            .proposal-title { font-size: 24px; color: ${A.primary_color}; margin: 30px 0 20px 0; text-align: center; }
            .section { margin: 30px 0; }
            .section h3 { color: ${A.secondary_color}; border-bottom: 1px solid #eee; padding-bottom: 10px; }
            .highlight-box { background: ${A.accent_color}; padding: 20px; border-radius: 8px; margin: 20px 0; }
            .investment { text-align: center; font-size: 32px; font-weight: bold; color: ${A.primary_color}; margin: 30px 0; }
            .accept-btn { display: inline-block; background: ${A.primary_color}; color: ${A.secondary_color}; padding: 15px 40px; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 18px; margin: 20px 0; }
            .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; text-align: center; color: #666; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              ${A.company_logo_url?`<img src="${A.company_logo_url}" alt="${A.company_name}" class="logo">`:""}
              <h1 class="company-name">${A.company_name}</h1>
            </div>
            
            <h2 class="proposal-title">PROJECT PROPOSAL</h2>
            
            <div class="section">
              <h3>Executive Summary</h3>
              <p>We are pleased to present this proposal for <strong>${T.title}</strong> for ${T.client_name}. This ${T.project_type} project will deliver significant value to your organization.</p>
            </div>
            
            <div class="section">
              <h3>Project Overview</h3>
              <div class="highlight-box">
                <p><strong>Project:</strong> ${T.title}</p>
                <p><strong>Type:</strong> ${T.project_type}</p>
                <p><strong>Timeline:</strong> ${T.timeline||"To be determined"}</p>
                <p><strong>Description:</strong> ${T.description}</p>
              </div>
            </div>
            
            <div class="section">
              <h3>Scope of Work</h3>
              <p>${T.scope_of_work||"Detailed scope to be finalized upon project acceptance."}</p>
            </div>
            
            <div class="investment">Investment: $${(C=T.total_fee)==null?void 0:C.toLocaleString()}</div>
            
            <div style="text-align: center; margin: 40px 0;">
              <a href="${window.location.origin}/clientProposalAcceptance?proposalId=${T.id}&email=${encodeURIComponent(T.client_email)}" class="accept-btn">Accept This Proposal</a>
            </div>
            
            <div class="footer">
              <p>Thank you for considering ${A.company_name} for your project needs.</p>
              <p>We look forward to working with you!</p>
            </div>
          </div>
        </body>
        </html>
      `;_({recipient:T.client_email,subject:`Proposal: ${T.title} - ${A.company_name}`,body:M,proposalId:T.id,generatedContent:M}),b(!0),console.warn("Using fallback proposal template due to AI generation error:",N)}finally{y(null)}},O=async(T,D)=>{var M,L,U;if(!S)return;k(!0);const{proposalId:C,recipient:N,generatedContent:A}=S;try{const G=await Ge.list(),H=G.length>0&&G[0].gmail_refresh_token;await fo({to:N,subject:T,body:"Please view this email in HTML format to see the proposal.",html_message:D});try{if(!(await fetch(`https://nexa-autolabstudios-enterprise-api.fly.dev/api/proposals/${C}/send_proposal/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({generated_content:A})})).ok)throw new Error("Failed to update proposal status")}catch(Q){console.error("Error with custom endpoint, trying direct update:",Q),await St.update(C,{status:"sent",generated_content:A})}b(!1),_(null),j(),alert("✅ Proposal sent successfully as HTML email!")}catch(G){console.error("Error sending proposal email:",G),(U=(L=(M=G.response)==null?void 0:M.data)==null?void 0:L.error)!=null&&U.includes("outside the app")?alert("Failed to send proposal: The default mailer can only send to users invited to this app. Please connect your Gmail account in Settings to send emails to any address."):alert("Failed to send proposal. Please try again.")}finally{k(!1)}},$=async T=>{var D,C,N,A,M;v(T.id);try{await St.update(T.id,{status:"accepted"});const L=T.client_id||T.clientId||((D=T.client)==null?void 0:D.id)||T.client;if(!L){console.error("❌ NO CLIENT ID FOUND!"),console.error("Available proposal fields:",Object.keys(T)),alert("Error: No client ID found in proposal. Check console for details.");return}const U={title:T.title,description:T.description,project_type:T.project_type,client:L,client_name:T.client_name,client_email:T.client_email,total_fee:T.total_fee,status:"active",current_stage:"discovery",start_date:new Date().toISOString().split("T")[0],stage_completion:{planning:!1,development:!1,testing:!1,deployment:!1,maintenance:!1}},G=await Oe.create(U);try{const H={planning:"Planning & Requirements Analysis",development:"Development & Configuration",testing:"Testing & Quality Assurance",deployment:"Deployment & Implementation",maintenance:"Maintenance & Support"},Q={planning:25,development:40,testing:15,deployment:15,maintenance:5};let ee=`${H.planning} - Project kickoff, requirements gathering, stakeholder interviews, technical specification development, and comprehensive project planning for ${T.title}.`;try{const Ae=await dr({prompt:`Generate a professional invoice description for the "${H.planning}" phase of a ${T.project_type} project titled "${T.title}" for client "${T.client_name}".

This is the initial invoice for project kickoff and planning phase.
Include specific deliverables and work to be completed in this phase. Be detailed and professional.

Project context: ${T.description}

Return ONLY a JSON object with a description property.`,response_json_schema:{type:"object",properties:{description:{type:"string"}},required:["description"]}});Ae&&Ae.description&&Ae.description.trim().length>0?ee=Ae.description.trim():console.warn("⚠️ AI returned empty description, using fallback")}catch(Ae){console.warn("❌ AI generation failed for invoice, using fallback description:",Ae)}const Y=(await Ue.list("-created_date",100)).map(Ae=>{const os=Ae.invoice_number.match(/^INV-(\d+)$/);return os?parseInt(os[1]):0}).filter(Ae=>Ae>0),re=`INV-${(Y.length>0?Math.max(...Y)+1:1).toString().padStart(4,"0")}`,me=Math.round(T.total_fee*Q.planning/100*100)/100,fe={project:G.id,client:L,invoice_number:re,stage:"planning",stage_description:ee,amount:me.toFixed(2),percentage:Q.planning.toString(),status:"draft",due_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]},et=await Ue.create(fe)}catch(H){console.error("❌ Error creating initial invoice:",H),console.error("Invoice error details:",(C=H.response)==null?void 0:C.data),alert(`Project created successfully! However, there was an issue creating the initial invoice: ${H.message}. You can create the invoice manually.`)}alert("✅ Proposal accepted! Project and initial invoice have been created successfully!"),j()}catch(L){console.error("❌ Error accepting proposal:",L),console.error("EXACT ERROR:",(N=L.response)==null?void 0:N.data),console.error("Error status:",(A=L.response)==null?void 0:A.status),(M=L.response)!=null&&M.data&&console.error("DETAILED ERROR:",JSON.stringify(L.response.data,null,2)),alert("There was an error creating the project. Please check the console for details.")}finally{v(null)}};return u?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-slate-200 rounded w-64"}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"h-96 bg-slate-200 rounded-xl"}),n.jsx("div",{className:"lg:col-span-2 h-96 bg-slate-200 rounded-xl"})]})]})}):(e==null?void 0:e.access_level)==="client"?n.jsx("div",{className:"p-8 text-center",children:n.jsxs("div",{className:"text-slate-500",children:[n.jsx(ze,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Access denied. Proposals are only available to admin and staff users."})]})}):n.jsx("div",{className:"p-4 sm:p-6 lg:p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900 mb-2",children:"Proposals"}),n.jsx("p",{className:"text-slate-600 text-sm sm:text-base",children:"Create and manage client proposals"})]}),n.jsxs(V,{size:"sm",onClick:()=>l(!0),className:"w-full sm:w-auto bg-amber-500 hover:bg-amber-600 text-slate-900",children:[n.jsx(Gs,{className:"w-4 h-4 mr-2"}),"New Proposal"]})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:n.jsx(q,{placeholder:"Search proposals...",value:c,onChange:T=>d(T.target.value),className:"w-full sm:max-w-md bg-white/80 backdrop-blur-sm border-slate-200"})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsxs("div",{className:"space-y-4 order-2 lg:order-1",children:[n.jsxs("h3",{className:"font-semibold text-slate-900 text-lg",children:["Proposals (",E.length,")"]}),n.jsxs("div",{className:"space-y-3 max-h-96 lg:max-h-[600px] overflow-y-auto",children:[E.map(T=>n.jsx(JA,{proposal:T,isSelected:(a==null?void 0:a.id)===T.id,onClick:()=>I(T)},T.id)),E.length===0&&n.jsx("div",{className:"text-center py-8 text-slate-500",children:n.jsx("p",{children:"No proposals found"})})]})]}),n.jsx("div",{className:"lg:col-span-2 order-1 lg:order-2",children:a?n.jsx(QA,{proposal:a,onAccept:$,onSendToClient:R,userRole:e==null?void 0:e.access_level,generatingContent:f,acceptingProposal:g}):n.jsx(Z,{className:"h-64 sm:h-96 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:n.jsxs("div",{className:"text-center text-slate-500",children:[n.jsx(ze,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Select a proposal to view details"})]})})})]}),i&&n.jsx(xx,{onClose:()=>l(!1),onProposalCreated:B}),w&&S&&n.jsx(y0,{open:w,onClose:()=>b(!1),onSend:O,initialSubject:S.subject,initialBody:S.body,recipient:S.recipient,sending:P})]})})}const e5={draft:"bg-gray-100 text-gray-800 border-gray-200",sent:"bg-blue-100 text-blue-800 border-blue-200",paid:"bg-green-100 text-green-800 border-green-200",overdue:"bg-red-100 text-red-800 border-red-200"},t5={discovery:"Discovery & Requirements",design:"Design & Architecture",development:"Development & Configuration",testing:"Testing & QA",deployment:"Deployment & Implementation",training:"Training & Handoff"};function s5({invoice:e,project:t,isSelected:s,onClick:r}){var a;return n.jsx(Z,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${s?"ring-2 ring-slate-900 bg-slate-50 border-slate-300":"bg-white/80 backdrop-blur-sm border-slate-200 hover:border-slate-300"}`,onClick:r,children:n.jsxs(ne,{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-slate-900 text-sm leading-tight mb-1",children:e.invoice_number}),n.jsx("p",{className:"text-xs text-slate-500",children:e.client_name}),n.jsx("p",{className:"text-xs text-slate-400",children:t5[e.stage]})]}),n.jsx(je,{className:`text-xs ${e5[e.status]}`,children:e.status})]}),n.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-500",children:[n.jsxs("span",{className:"font-medium text-slate-700 flex items-center gap-1",children:[n.jsx(jt,{className:"w-3 h-3"}),"$",(a=e.amount)==null?void 0:a.toLocaleString()]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ut,{className:"w-3 h-3"}),"Due ",ve(new Date(e.due_date),"MMM d")]})]}),t&&n.jsx("div",{className:"text-xs text-slate-400 truncate",children:t.title})]})})}const n5={draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"},lm={discovery:"Discovery & Requirements",design:"Design & Architecture",development:"Development & Configuration",testing:"Testing & QA",deployment:"Deployment & Implementation",training:"Training & Handoff"};function r5({invoice:e,project:t,onSendInvoice:s,onMarkAsPaid:r,sendingInvoice:a}){var o,i,l,c;return n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:[n.jsx(pe,{className:"border-b border-slate-100",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs(xe,{className:"text-xl font-bold text-slate-900",children:["Invoice ",e.invoice_number]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-600",children:[n.jsx("span",{children:e.client_name}),n.jsx("span",{children:"•"}),n.jsx("span",{children:lm[e.stage]}),n.jsx("span",{children:"•"}),n.jsxs("span",{children:[e.percentage,"% of project"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(je,{className:n5[e.status],children:e.status}),e.status==="draft"&&n.jsxs(V,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>s(e),disabled:a===e.id,children:[n.jsx(wt,{className:"w-4 h-4 mr-2"}),a===e.id?"Sending...":"Send Invoice"]}),e.status==="sent"&&n.jsxs(V,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>r(e),children:[n.jsx(cl,{className:"w-4 h-4 mr-2"}),"Mark as Paid"]})]})]})}),n.jsxs(ne,{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[n.jsx(jt,{className:"w-8 h-8 text-green-600 bg-green-100 rounded-lg p-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Amount"}),n.jsxs("p",{className:"text-xl font-bold text-slate-900",children:["$",(o=e.amount)==null?void 0:o.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[n.jsx(Hs,{className:"w-8 h-8 text-blue-600 bg-blue-100 rounded-lg p-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Due Date"}),n.jsx("p",{className:"font-semibold text-slate-900",children:ve(new Date(e.due_date),"MMM d, yyyy")})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl",children:[n.jsx(ze,{className:"w-8 h-8 text-purple-600 bg-purple-100 rounded-lg p-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Created"}),n.jsx("p",{className:"font-semibold text-slate-900",children:ve(new Date(e.created_date),"MMM d, yyyy")})]})]})]}),n.jsx(Fa,{}),t&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Project Details"}),n.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-medium text-slate-900",children:t.title}),n.jsx("span",{className:"text-slate-600 capitalize",children:(i=t.project_type)==null?void 0:i.replace("+"," + ")})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-500",children:"Total Project Value"}),n.jsxs("span",{className:"font-medium text-slate-700",children:["$",(l=t.total_fee)==null?void 0:l.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsxs("span",{className:"text-slate-500",children:["This Invoice (",e.percentage,"%)"]}),n.jsxs("span",{className:"font-medium text-slate-700",children:["$",(c=e.amount)==null?void 0:c.toLocaleString()]})]})]})]}),e.project_description&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Project Description"}),n.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:n.jsx("p",{className:"text-slate-600 whitespace-pre-wrap",children:e.project_description})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Stage Description"}),n.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:n.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:e.stage_description||`Work completed for the ${lm[e.stage]} phase of the project.`})})]}),(e.sent_date||e.paid_date)&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Payment History"}),n.jsxs("div",{className:"space-y-2",children:[e.sent_date&&n.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[n.jsx("span",{className:"text-blue-800 font-medium",children:"Invoice Sent"}),n.jsx("span",{className:"text-blue-600",children:ve(new Date(e.sent_date),"MMM d, yyyy")})]}),e.paid_date&&n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[n.jsx("span",{className:"text-green-800 font-medium",children:"Payment Received"}),n.jsx("span",{className:"text-green-600",children:ve(new Date(e.paid_date),"MMM d, yyyy")})]})]})]})]})]})}function b0(){const[e,t]=h.useState(null),[s,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState(null),[c,d]=h.useState(""),[u,m]=h.useState("all"),[f,y]=h.useState(!0),[x,p]=h.useState(null),[g,v]=h.useState(!1),[w,b]=h.useState(!1),[S,_]=h.useState(null),[P,k]=h.useState(!1);h.useEffect(()=>{j()},[]);const j=async()=>{y(!0);try{const D=await _e.me();if(t(D),D.access_level==="client"){y(!1);return}const[C,N]=await Promise.all([Ue.list("-created_date"),Oe.list("-updated_date")]);r(C),o(N),!i&&C.length>0&&l(C[0])}catch(D){console.error("Error loading data:",D)}y(!1)},E=()=>{v(!1),j()},B=s.filter(D=>{const C=D.client_name.toLowerCase().includes(c.toLowerCase())||D.invoice_number.toLowerCase().includes(c.toLowerCase()),N=u==="all"||D.status===u;return C&&N}),I=async D=>{var C;p(D.id);try{const N=a.find(me=>me.id===D.project_id),A=await Ge.list(),M=A.length>0?A[0]:{company_name:"Nex-a Portal",company_logo_url:"",primary_color:"#72FD67",secondary_color:"#1E1E1D",accent_color:"#F2F2F2",email_theme:"light",company_address:"",company_phone:"",company_email:"",payment_terms:"Payment is due within 30 days of receipt",invoice_footer:"Thank you for your business!",bank_name:"",account_name:"",bsb:"",account_number:"",paypal_email:"",stripe_link:""},L=M.email_theme==="dark",U=M.email_theme==="contrast";let G,H,Q,ee,W,Y,ce;L?(G="#1a1a1a",H="#2a2a2a",Q="#ffffff",ee="#cccccc",W="linear-gradient(135deg, #333 0%, #444 100%)",Y="#333333",ce="#404040"):U?(G="#ffffff",H="#ffffff",Q="#1E1E1D",ee="#666666",W=`linear-gradient(135deg, ${M.secondary_color} 0%, #444 100%)`,Y="#1a1a1a",ce="#333333"):(G="#F2F2F2",H="white",Q="#1E1E1D",ee="#666",W=`linear-gradient(135deg, ${M.secondary_color} 0%, #444 100%)`,Y=M.accent_color,ce="#E0E0E0");const re=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
            body { 
              font-family: 'Bricolage Grotesque', -apple-system, sans-serif; 
              margin: 0; 
              padding: 20px; 
              background: ${G}; 
              line-height: 1.6;
            }
            .container { 
              max-width: 800px; 
              margin: 0 auto; 
              background: ${H}; 
              border-radius: 16px; 
              overflow: hidden; 
              box-shadow: 0 20px 50px rgba(0,0,0,0.1); 
            }
            .header { 
              background: ${M.primary_color};
              color: white; 
              padding: 40px; 
              text-align: center; 
            }
            .logo { 
              width: 100px; 
              height: 100px; 
              margin: 0 auto 20px; 
              display: flex; 
              align-items: center; 
              justify-content: center; 
            }
            .logo img {
              max-width: 100%;
              max-height: 100%;
              object-fit: contain;
            }
            .logo-fallback {
              width: 100px; 
              height: 100px; 
              margin: 0 auto 20px; 
              display: flex; 
              align-items: center; 
              justify-content: center; 
              border-radius: 16px;
              background: ${M.primary_color}; 
              color: ${M.secondary_color};
            }
            .content { 
              padding: 40px; 
            }
            .invoice-details { 
              display: grid; 
              grid-template-columns: 1fr 1fr; 
              gap: 40px; 
              margin-bottom: 40px; 
            }
            @media (max-width: 640px) {
              .invoice-details { 
                grid-template-columns: 1fr; 
                gap: 20px; 
              }
            }
            .detail-box { 
              background: ${Y}; 
              padding: 24px; 
              border-radius: 12px; 
              ${U?`border: 1px solid ${ce};`:""}
            }
            .amount-box { 
              background: linear-gradient(135deg, ${M.primary_color} 0%, #5DE055 100%); 
              color: ${M.secondary_color}; 
              padding: 30px; 
              border-radius: 16px; 
              text-align: center; 
              margin: 30px 0; 
            }
            .payment-methods { 
              background: ${Y}; 
              padding: 30px; 
              border-radius: 12px; 
              margin: 30px 0; 
              ${U?`border: 1px solid ${ce};`:""}
            }
            .method { 
              margin-bottom: 20px; 
              padding-bottom: 20px; 
              border-bottom: 1px solid ${ce}; 
            }
            .method:last-child { 
              border-bottom: none; 
              margin-bottom: 0; 
              padding-bottom: 0; 
            }
            .footer { 
              background: ${Y}; 
              padding: 30px 40px; 
              text-align: center; 
              border-top: 1px solid ${ce}; 
              ${U?`border: 1px solid ${ce}; border-top: none;`:""}
            }
            h1 { 
              margin: 0; 
              font-size: 32px; 
              font-weight: 700; 
            }
            h2 { 
              margin: 0 0 10px 0; 
              font-size: 24px; 
              font-weight: 600; 
              color: ${Q}; 
            }
            h3 { 
              margin: 0 0 15px 0; 
              font-size: 20px; 
              font-weight: 600; 
              color: ${Q}; 
            }
            h4 { 
              margin: 0 0 8px 0; 
              font-size: 16px; 
              font-weight: 600; 
              color: ${Q}; 
            }
            p { 
              margin: 0 0 8px 0; 
              color: ${ee}; 
            }
            .highlight { 
              color: ${Q}; 
              font-weight: 600; 
            }
            ${U?`
            .content h2, .content h3 { color: #ffffff; } /* For contrast, headings inside content are white */
            .content h4 { color: #ffffff; }
            .content .highlight { color: #ffffff; }
            .content p { color: #cccccc; } /* Light text for paragraphs */
            .detail-box .highlight { color: #ffffff; }
            `:""}
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
            </div>
            
            <div class="content">
              <div style="text-align: center; margin-bottom: 40px;">
                <h2 style="color:${ee}; font-size: 15px; margin-bottom: 5px;">This invoice reflects the agreed-upon project deliverables and corresponding payment for the current stage of completion. Please review the details carefully. Payment is requested in accordance with the terms outlined in our agreement/proposal to ensure smooth continuation and timely delivery of the project.</h2>
                <p style="text-align:start; font-size: 12px; color: ${ee};">Invoice #${D.invoice_number}</p>
              </div>

              <div class="invoice-details">
                <div class="detail-box">
                  <h3>Bill To</h3>
                  <h4 class="highlight">${D.client_name}</h4>
                  <p>${D.client_email}</p>
                  ${N?`<p style="margin-top: 15px;"><span class="highlight">Project:</span> ${N.title}</p>`:""}
                </div>
                
                <div class="detail-box">
                  <h3>Invoice Details</h3>
                  <p><span class="highlight">Date:</span> ${ve(new Date,"MMMM d, yyyy")}</p>
                  <p><span class="highlight">Due Date:</span> ${ve(new Date(D.due_date),"MMMM d, yyyy")}</p>
                  <p><span class="highlight">Stage:</span> ${D.stage_description}</p>
                </div>
              </div>

              <div class="amount-box">
                <h2 style="color: ${M.secondary_color}; margin-bottom: 10px;">Total Amount Due</h2>
                <h1 style="color: ${M.secondary_color}; font-size: 48px;">$${(C=D.amount)==null?void 0:C.toLocaleString()}</h1>
              </div>

              ${D.project_description?`
              <div class="detail-box" style="margin: 30px 0;">
                <h3>Project Context</h3>
                <p style="color: ${U?"#cccccc":ee}; font-size: 15px; line-height: 1.7;">${D.project_description}</p>
              </div>
              `:""}

              <div class="detail-box" style="margin: 30px 0;">
                <h3>Work Description for this Invoice</h3>
                <p style="color: ${U?"#cccccc":Q}; font-size: 16px; line-height: 1.8;">${D.stage_description}</p>
              </div>

              ${M.bank_name||M.paypal_email||M.stripe_link?`
              <div class="payment-methods">
                <h3>Payment Options</h3>
                
                ${M.bank_name?`
                <div class="method">
                  <h4>🏦 Bank Transfer</h4>
                  <p><span class="highlight">Bank:</span> ${M.bank_name}</p>
                  ${M.account_name?`<p><span class="highlight">Account Name:</span> ${M.account_name}</p>`:""}
                  ${M.bsb?`<p><span class="highlight">BSB:</span> ${M.bsb}</p>`:""}
                  ${M.account_number?`<p><span class="highlight">Account #:</span> ${M.account_number}</p>`:""}
                </div>
                `:""}
                
                ${M.paypal_email?`
                <div class="method">
                  <h4>💳 PayPal</h4>
                  <p>Send payment to: <span class="highlight">${M.paypal_email}</span></p>
                </div>
                `:""}
                
                ${M.stripe_link?`
                <div class="method">
                  <h4>🔒 Online Payment</h4>
                  <p>Pay securely online: <a href="${M.stripe_link}" style="color: ${M.primary_color}; font-weight: 600; text-decoration: none;">Click here to pay</a></p>
                </div>
                `:""}
              </div>
              `:""}

              <div class="detail-box">
                <h4>Payment Terms</h4>
                <p>${M.payment_terms}</p>
              </div>
            </div>
            
            <div class="footer">
              <p class="highlight" style="margin-bottom: 15px; font-size: 18px;">${M.invoice_footer}</p>
              ${M.company_address?`<p style="margin-bottom: 8px;">${M.company_address}</p>`:""}
              <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; margin-top: 10px;">
                ${M.company_phone?`<p style="margin: 0;">📞 ${M.company_phone}</p>`:""}
                ${M.company_email?`<p style="margin: 0;">✉️ ${M.company_email}</p>`:""}
              </div>
            </div>
          </div>
        </body>
        </html>
      `;_({recipient:D.client_email,subject:`Invoice ${D.invoice_number} from ${M.company_name}`,body:re,invoiceId:D.id}),b(!0)}catch(N){console.error("Error preparing invoice:",N)}finally{p(null)}},R=async(D,C)=>{var M,L,U,G,H,Q,ee;if(!S)return;k(!0);const{invoiceId:N,recipient:A}=S;try{const W=await Ge.list(),Y=W.length>0&&W[0].gmail_refresh_token,ce=`
  Invoice ${S.subject.split(" ")[1]} from ${((M=W[0])==null?void 0:M.company_name)||"Nex-a Portal"}

  Dear ${A},

  Please find attached your invoice details:

  Invoice Number: ${i==null?void 0:i.invoice_number}
  Amount Due: $${(L=i==null?void 0:i.amount)==null?void 0:L.toLocaleString()}
  Due Date: ${i==null?void 0:i.due_date}

  ${i==null?void 0:i.stage_description}

  Payment Terms: ${((U=W[0])==null?void 0:U.payment_terms)||"Payment is due within 30 days of receipt"}

  Thank you for your business!

  Best regards,
  ${((G=W[0])==null?void 0:G.company_name)||"Nex-a Portal"} Team
      `.trim();Y?await fo({to:A,subject:D,body:ce,html_message:C}):await xc({to:A,subject:D,body:ce,html_message:C});try{const re=await Ue.get(N),me={project:re.project,invoice_number:re.invoice_number,client:re.client,stage:re.stage,stage_description:re.stage_description,amount:re.amount,percentage:re.percentage,due_date:re.due_date,status:"sent",sent_date:new Date().toISOString().split("T")[0]};await Ue.update(N,me)}catch(re){console.error("Error updating invoice status:",re)}b(!1),_(null),j()}catch(W){console.error("Error sending invoice:",W),(ee=(Q=(H=W.response)==null?void 0:H.data)==null?void 0:Q.error)!=null&&ee.includes("outside the app")?alert("Failed to send invoice: The default mailer can only send to users invited to this app. Please connect your Gmail account in Settings to send emails to any address."):alert("Failed to send invoice email.")}finally{k(!1)}},O=async D=>{try{const C={project:D.project,invoice_number:D.invoice_number,client:D.client,stage:D.stage,stage_description:D.stage_description,amount:D.amount,percentage:D.percentage,due_date:D.due_date,status:"paid",paid_date:new Date().toISOString().split("T")[0]};await Ue.update(D.id,C),j()}catch(C){console.error("Error updating invoice:",C),C.response&&(console.error("Error response status:",C.response.status),console.error("Error response data:",JSON.stringify(C.response.data,null,2))),alert("Failed to mark invoice as paid. Check console for details.")}},$=()=>({all:s.length,draft:s.filter(C=>C.status==="draft").length,sent:s.filter(C=>C.status==="sent").length,paid:s.filter(C=>C.status==="paid").length,overdue:s.filter(C=>C.status==="overdue").length});if(f)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-slate-200 rounded w-64"}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"h-96 bg-slate-200 rounded-xl"}),n.jsx("div",{className:"lg:col-span-2 h-96 bg-slate-200 rounded-xl"})]})]})});if((e==null?void 0:e.access_level)==="client")return n.jsx("div",{className:"p-8 text-center",children:n.jsxs("div",{className:"text-slate-500",children:[n.jsx(Ct,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Access denied. Invoices are only available to admin and staff users."})]})});const T=$();return n.jsxs("div",{className:"p-4 md:p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:[n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Invoices"}),n.jsx("p",{className:"text-slate-600",children:"Manage client invoicing and payments"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(V,{onClick:()=>v(!0),className:"bg-slate-900 hover:bg-slate-800 text-white font-semibold",children:[n.jsx(Gs,{className:"w-4 h-4 mr-2"}),"New Invoice"]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[n.jsx(jt,{className:"w-4 h-4"}),"Total Revenue: $",s.filter(D=>D.status==="paid").reduce((D,C)=>D+(C.amount||0),0).toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:T.all}),n.jsx("div",{className:"text-sm text-slate-500",children:"Total"})]})}),n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:T.draft}),n.jsx("div",{className:"text-sm text-gray-500",children:"Draft"})]})}),n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:T.sent}),n.jsx("div",{className:"text-sm text-blue-500",children:"Sent"})]})}),n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-900",children:T.paid}),n.jsx("div",{className:"text-sm text-green-500",children:"Paid"})]})}),n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-900",children:T.overdue}),n.jsx("div",{className:"text-sm text-red-500",children:"Overdue"})]})})]}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx(q,{placeholder:"Search invoices...",value:c,onChange:D=>d(D.target.value),className:"max-w-md bg-white/80 backdrop-blur-sm border-slate-200"}),n.jsx(ho,{value:u,onValueChange:m,children:n.jsxs(Rr,{className:"bg-white/80 backdrop-blur-sm",children:[n.jsx(Ze,{value:"all",children:"All"}),n.jsx(Ze,{value:"draft",children:"Draft"}),n.jsx(Ze,{value:"sent",children:"Sent"}),n.jsx(Ze,{value:"paid",children:"Paid"}),n.jsx(Ze,{value:"overdue",children:"Overdue"})]})})]}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"font-semibold text-slate-900 text-lg",children:["Invoices (",B.length,")"]}),n.jsxs("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:[B.map(D=>n.jsx(s5,{invoice:D,project:a.find(C=>C.id===D.project_id),isSelected:(i==null?void 0:i.id)===D.id,onClick:()=>l(D)},D.id)),B.length===0&&n.jsx("div",{className:"text-center py-8 text-slate-500",children:n.jsx("p",{children:"No invoices found"})})]})]}),n.jsx("div",{className:"lg:col-span-2",children:i?n.jsx(r5,{invoice:i,project:a.find(D=>D.id===i.project_id),onSendInvoice:I,onMarkAsPaid:O,sendingInvoice:x}):n.jsx(Z,{className:"h-96 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:n.jsxs("div",{className:"text-center text-slate-500",children:[n.jsx(Ct,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Select an invoice to view details"})]})})})]})]}),g&&n.jsx(Ux,{projects:a.filter(D=>D.status==="active"),onClose:()=>v(!1),onInvoiceCreated:E}),w&&S&&n.jsx(y0,{open:w,onClose:()=>b(!1),onSend:R,initialSubject:S.subject,initialBody:S.body,recipient:S.recipient,sending:P})]})}const a5=({onSuccess:e,onError:t})=>{const[s,r]=h.useState(!1);h.useEffect(()=>{const o=i=>{i.origin===window.location.origin&&(console.log("Received OAuth2 callback message:",i.data),i.data.type==="google-oauth-success"?(r(!1),e(i.data.result),window.oauthCheckInterval&&clearInterval(window.oauthCheckInterval)):i.data.type==="google-oauth-error"&&(r(!1),t(new Error(i.data.error||"OAuth2 authentication failed")),window.oauthCheckInterval&&clearInterval(window.oauthCheckInterval)))};return window.addEventListener("message",o),()=>{window.removeEventListener("message",o),window.oauthCheckInterval&&clearInterval(window.oauthCheckInterval)}},[e,t]);const a=()=>{r(!0);const o="463551739763-nat3ea1vstq8ofld68qousutlg7gucap.apps.googleusercontent.com",i=encodeURIComponent(window.location.origin+"/auth/google/callback"),l=encodeURIComponent("openid email profile"),c="code",d=Math.random().toString(36).substring(2,15);sessionStorage.setItem("oauth_state",d);const u=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${o}&redirect_uri=${i}&scope=${l}&response_type=${c}&state=${d}&access_type=offline&prompt=consent`;console.log("=== OAUTH2 DEBUG ==="),console.log("OAuth2 URL:",u),console.log("Redirect URI:",decodeURIComponent(i)),console.log("Scopes:",decodeURIComponent(l)),console.log("State:",d);const m=window.open(u,"google-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!m){r(!1),t(new Error("Popup blocked. Please allow popups and try again."));return}const f=setInterval(()=>{m.closed&&(clearInterval(f),r(!1),s&&t(new Error("Google Sign-In was cancelled")))},1e3);window.oauthCheckInterval=f};return n.jsxs(V,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-3 py-3",onClick:a,disabled:s,children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Connecting...":"Continue with Google"]})},o5=({onSuccess:e,onError:t})=>{const[s,r]=h.useState(!1),a=async()=>{r(!0);try{const{PublicClientApplication:o}=await mr(async()=>{const{PublicClientApplication:u}=await import("./index-8BwA9Hpq.js");return{PublicClientApplication:u}},[]),i={auth:{clientId:void 0,authority:"https://login.microsoftonline.com/common",redirectUri:window.location.origin}},l=new o(i);await l.initialize();const c={scopes:["openid","profile","email"]},d=await l.loginPopup(c);await e(d.accessToken||d.idToken)}catch(o){t(o)}finally{r(!1)}};return n.jsxs(V,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-3 py-3",onClick:a,disabled:s,children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#F25022",d:"M1 1h10v10H1z"}),n.jsx("path",{fill:"#00A4EF",d:"M13 1h10v10H13z"}),n.jsx("path",{fill:"#7FBA00",d:"M1 13h10v10H1z"}),n.jsx("path",{fill:"#FFB900",d:"M13 13h10v10H13z"})]}),s?"Connecting...":"Continue with Microsoft Account"]})},i5=({onSuccess:e,onBack:t})=>{const[s,r]=h.useState(1),[a,o]=h.useState(""),[i,l]=h.useState(""),[c,d]=h.useState(!1),[u,m]=h.useState(""),f=async x=>{x.preventDefault(),d(!0),m("");try{await dt.sendPhoneOTP(a),r(2)}catch(p){m(p.error||"Failed to send OTP. Please check your phone number.")}finally{d(!1)}},y=async x=>{x.preventDefault(),d(!0),m("");try{const p=await dt.verifyPhoneOTP(a,i);e(p)}catch(p){m(p.error||"Invalid verification code. Please try again.")}finally{d(!1)}};return s===1?n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:t,className:"p-1",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx("h3",{className:"font-semibold",children:"Enter your phone number"})]}),u&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:u})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"phone",children:"Phone Number"}),n.jsx(q,{type:"tel",id:"phone",value:a,onChange:x=>o(x.target.value),placeholder:"+1 (555) 123-4567",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include country code (e.g., +1 for US)"})]}),n.jsx(V,{type:"submit",disabled:c||!a,className:"w-full",children:c?"Sending verification code...":"Send verification code"})]})]}):n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:()=>r(1),className:"p-1",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx("h3",{className:"font-semibold",children:"Enter verification code"})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["We sent a 6-digit verification code to ",a]}),u&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:u})]}),n.jsxs("form",{onSubmit:y,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"otp",children:"Verification Code"}),n.jsx(q,{type:"text",id:"otp",value:i,onChange:x=>l(x.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",maxLength:6,required:!0})]}),n.jsx(V,{type:"submit",disabled:c||i.length!==6,className:"w-full",children:c?"Verifying...":"Verify code"}),n.jsx(V,{type:"button",variant:"ghost",className:"w-full text-sm",onClick:()=>r(1),disabled:c,children:"Didn't receive code? Try different number"})]})]})};function l5(){const e=Ws(),[t,s]=h.useState("main"),[r,a]=h.useState({email:"",password:""}),[o,i]=h.useState(!1),[l,c]=h.useState(""),d=p=>{a({...r,[p.target.name]:p.target.value})},u=async p=>{p.preventDefault(),i(!0),c("");try{(await dt.login(r)).access&&e("/dashboard")}catch(g){c(g.detail||g.error||"Invalid email or password")}finally{i(!1)}},m=async p=>{i(!0),c("");try{if(console.log("Google OAuth2 success result:",p),p.access)e("/dashboard");else throw new Error("No access token received from Google authentication")}catch(g){console.error("Google login processing error:",g),c(g.message||"Google authentication failed")}finally{i(!1)}},f=p=>{var v,w,b,S,_;console.error("Google login error:",p),c("");let g="Google authentication failed. Please try again.";(v=p.message)!=null&&v.includes("not configured")||(w=p.message)!=null&&w.includes("unregistered_origin")?g="Google Sign-In is not properly configured for this domain. Please contact support or try email login.":(b=p.message)!=null&&b.includes("popup blocked")?g="Google Sign-In popup was blocked. Please allow popups and try again.":(S=p.message)!=null&&S.includes("cancelled")?g="Google Sign-In was cancelled.":(_=p.message)!=null&&_.includes("Invalid state parameter")?g="Security validation failed. Please try again.":p.message&&(g=p.message),c(g)},y=async(p,g)=>{i(!0),c("");try{let v;switch(p){case"microsoft":v=await dt.microsoftLogin(g);break;default:throw new Error(`Unsupported provider: ${p}`)}v.access&&e("/dashboard")}catch(v){c(v.error||v.detail||`${p} authentication failed`)}finally{i(!1)}},x=p=>{p.access&&e("/dashboard")};return t==="email"?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsxs(pe,{className:"text-center",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:()=>s("main"),className:"p-1",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center",children:n.jsx(wt,{className:"w-6 h-6 text-[#1E1E1D]"})})]}),n.jsx(xe,{className:"text-2xl font-bold",children:"Sign in with Email"})]}),n.jsxs(ne,{children:[l&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:l})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"email",children:"Email Address"}),n.jsx(q,{type:"email",name:"email",id:"email",value:r.email,onChange:d,placeholder:"Enter your email address",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"password",children:"Password"}),n.jsx(q,{type:"password",name:"password",id:"password",value:r.password,onChange:d,placeholder:"Enter your password",required:!0})]}),n.jsx(V,{type:"submit",disabled:o,className:"w-full bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:o?"Signing in...":"Sign In"})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsx("a",{href:"/forgotpassword",className:"text-sm font-medium text-[#72FD67] hover:text-green-400 transition-colors duration-200",children:"Forgot your password?"})})]})]})}):t==="phone"?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsx(pe,{className:"text-center",children:n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center mb-4",children:n.jsx(hn,{className:"w-6 h-6 text-[#1E1E1D]"})})}),n.jsx(ne,{children:n.jsx(i5,{onSuccess:x,onBack:()=>s("main")})})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsxs(pe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center mb-4",children:n.jsx(Cb,{className:"w-6 h-6 text-[#1E1E1D]"})}),n.jsx(xe,{className:"text-2xl font-bold",children:"Log in or sign up"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back! Please sign in to your account."})]}),n.jsxs(ne,{className:"space-y-4",children:[l&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:l})]}),n.jsxs(V,{onClick:()=>s("email"),className:"w-full bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold py-3",disabled:o,children:[n.jsx(wt,{className:"w-5 h-5 mr-2"}),"Continue with Email"]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-gray-50 px-2 text-gray-500",children:"OR"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(a5,{onSuccess:m,onError:f}),n.jsx(o5,{onSuccess:p=>y("microsoft",p),onError:p=>c("Microsoft authentication failed. Please try again.")}),n.jsxs(V,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-3 py-3",onClick:()=>s("phone"),disabled:o,children:[n.jsx(hn,{className:"w-5 h-5"}),"Continue with phone"]})]}),n.jsxs("div",{className:"text-center text-xs text-gray-500 mt-6",children:["By continuing, you agree to our"," ",n.jsx("a",{href:"/terms",className:"underline hover:text-gray-700",children:"Terms of Use"})," and ",n.jsx("a",{href:"/privacy",className:"underline hover:text-gray-700",children:"Privacy Policy"})]})]})]})})}const c5=[{key:"discovery",name:"Discovery & Requirements"},{key:"planning",name:"Design & Architecture"},{key:"development",name:"Development & Configuration"},{key:"testing",name:"Testing & QA"},{key:"deployment",name:"Deployment & Implementation"},{key:"maintenance",name:"Training & Handoff"}];function d5({projects:e,tasks:t,user:s,onClose:r,onEntryAdded:a}){const[o,i]=h.useState({project:"",task:"",hours:"",description:"",date:new Date().toISOString().split("T")[0],stage:"development"}),[l,c]=h.useState(!1),d=async m=>{m.preventDefault(),c(!0);try{if(console.log("Creating time entry with data:",{project:o.project,task:o.task||null,user_email:s.email,hours:parseFloat(o.hours),description:o.description,date:o.date,stage:o.stage}),await hs.create({project:o.project,task:o.task||null,user_email:s.email,hours:parseFloat(o.hours),description:o.description,date:o.date,stage:o.stage}),o.task)try{const f=t.find(y=>y.id===o.task);if(f){const y=typeof f.hours_logged=="string"?parseFloat(f.hours_logged)||0:f.hours_logged||0,x=Number((y+parseFloat(o.hours)).toFixed(2));console.log("Updating task hours:",{taskId:f.id,currentHours:y,addedHours:parseFloat(o.hours),updatedHours:x}),await Le.patch(f.id,{hours_logged:x}),console.log("Task hours updated successfully")}}catch(f){console.error("Error updating task hours (non-critical):",f)}if(o.project)try{const f=e.find(y=>y.id===o.project);if(f){const y=typeof f.total_hours=="string"?parseFloat(f.total_hours)||0:f.total_hours||0,x=Number((y+parseFloat(o.hours)).toFixed(2));console.log("Updating project hours:",{projectId:f.id,currentHours:y,addedHours:parseFloat(o.hours),updatedHours:x}),await Oe.patch(f.id,{total_hours:x}),console.log("Project hours updated successfully")}}catch(f){console.error("Error updating project hours (non-critical):",f)}a()}catch(f){console.error("Error creating time entry:",f),f.response&&console.error("Error response data:",f.response.data),alert("Failed to create time entry. Please try again.")}c(!1)},u=t.filter(m=>m.project&&m.project===o.project||m.project_id&&m.project_id===o.project);return e.find(m=>m.id===o.project),n.jsx(ht,{open:!0,onOpenChange:r,children:n.jsxs(ot,{className:"sm:max-w-md",children:[n.jsx(ft,{children:n.jsx(pt,{children:"Add Time Entry"})}),n.jsxs("form",{onSubmit:d,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"project",children:"Project"}),n.jsxs(Se,{value:o.project,onValueChange:m=>{var f;return i({...o,project:m,task:"",stage:((f=e.find(y=>y.id===m))==null?void 0:f.current_stage)||"development"})},children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select project"})}),n.jsx(we,{children:e.map(m=>n.jsx(X,{value:m.id,children:m.title},m.id))})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"task",children:"Task (Optional)"}),n.jsxs(Se,{value:o.task,onValueChange:m=>i({...o,task:m==="none"?"":m}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select task"})}),n.jsxs(we,{children:[n.jsx(X,{value:"none",children:"No specific task"}),u.map(m=>n.jsx(X,{value:m.id,children:m.title},m.id))]})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"stage",children:"Project Stage"}),n.jsxs(Se,{value:o.stage,onValueChange:m=>i({...o,stage:m}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select stage"})}),n.jsx(we,{children:c5.map(m=>n.jsx(X,{value:m.key,children:m.name},m.key))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"hours",children:"Hours"}),n.jsx(q,{id:"hours",type:"number",min:"0",step:"0.25",value:o.hours,onChange:m=>i({...o,hours:m.target.value}),placeholder:"0.0",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"date",children:"Date"}),n.jsx(q,{id:"date",type:"date",value:o.date,onChange:m=>i({...o,date:m.target.value}),required:!0})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"description",children:"Description"}),n.jsx(Ye,{id:"description",value:o.description,onChange:m=>i({...o,description:m.target.value}),placeholder:"What did you work on?",rows:3,required:!0})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(V,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),n.jsx(V,{type:"submit",disabled:l,className:"bg-slate-900 hover:bg-slate-800",children:l?"Adding...":"Add Entry"})]})]})]})})}const u5={discovery:"bg-blue-100 text-blue-800",design:"bg-purple-100 text-purple-800",development:"bg-green-100 text-green-800",testing:"bg-yellow-100 text-yellow-800",deployment:"bg-orange-100 text-orange-800",training:"bg-pink-100 text-pink-800"};function m5({timeEntries:e,projects:t,tasks:s}){const r=a=>{const o=typeof a=="string"?parseFloat(a):Number(a);return isNaN(o)?0:o};return e.length===0?n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:n.jsxs(ne,{className:"p-8 text-center",children:[n.jsx(ut,{className:"w-12 h-12 mx-auto mb-4 text-slate-400"}),n.jsx("p",{className:"text-slate-500",children:"No time entries found for the selected filters"})]})}):n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:[n.jsx(pe,{children:n.jsxs(xe,{className:"flex items-center gap-2",children:[n.jsx(ut,{className:"w-5 h-5"}),"Time Entries (",e.length,")"]})}),n.jsx(ne,{children:n.jsx("div",{className:"space-y-3",children:e.map(a=>{var l;let o=a.project_title;if(!o){const c=t.find(d=>d.id===a.project||d.id===a.project_id);o=c==null?void 0:c.title}let i=a.task_title;if(!i&&a.task){const c=s.find(d=>d.id===a.task||d.id===a.task_id);i=c==null?void 0:c.title}return n.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-slate-900",children:o||"Unknown Project"}),i&&n.jsx("p",{className:"text-sm text-slate-600",children:i})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(je,{className:u5[a.stage]||"bg-gray-100 text-gray-800",children:(l=a.stage)==null?void 0:l.replace("_"," ")}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-slate-900",children:[r(a.hours).toFixed(2),"h"]}),n.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[n.jsx(Hs,{className:"w-3 h-3"}),ve(new Date(a.date),"MMM d")]})]})]})]}),n.jsx("p",{className:"text-sm text-slate-700 mb-2",children:a.description}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(es,{className:"w-3 h-3"}),n.jsx("span",{children:a.user_email}),n.jsx("span",{children:"•"}),n.jsx("span",{children:ve(new Date(a.created_date),"MMM d, yyyy 'at' h:mm a")})]})]},a.id)})})})]})}function h5({timeEntries:e,projects:t,dateFilter:s}){const r=d=>{const u=typeof d=="string"?parseFloat(d):Number(d);return isNaN(u)?0:u},a=e.reduce((d,u)=>d+r(u.hours),0),o=new Set(e.map(d=>d.project||d.project_id).filter(d=>d!=null)).size,i=e.length>0?a/Math.max(1,new Set(e.map(d=>d.date)).size):0,c=[{title:`Total Hours (${(()=>{switch(s){case"today":return"Today";case"this_week":return"This Week";case"this_month":return"This Month";default:return"All Time"}})()})`,value:`${a.toFixed(1)}h`,icon:ut,color:"text-blue-600 bg-blue-100"},{title:"Active Projects",value:o,icon:nw,color:"text-green-600 bg-green-100"},{title:"Avg Hours/Day",value:`${i.toFixed(1)}h`,icon:ml,color:"text-purple-600 bg-purple-100"},{title:"Entries Logged",value:e.length,icon:Hs,color:"text-orange-600 bg-orange-100"}];return n.jsx(n.Fragment,{children:c.map((d,u)=>n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:n.jsx(ne,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${d.color}`,children:n.jsx(d.icon,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:d.title}),n.jsx("p",{className:"text-xl font-bold text-slate-900",children:d.value})]})]})})},u))})}function w0(){const[e,t]=h.useState(null),[s,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState(!1),[u,m]=h.useState("all"),[f,y]=h.useState("this_week"),[x,p]=h.useState(!0),[g,v]=h.useState(!1),[w,b]=h.useState(0),[S,_]=h.useState(""),[P,k]=h.useState(""),[j,E]=h.useState("");h.useEffect(()=>{B()},[]),h.useEffect(()=>{let N=null;return g&&(N=setInterval(()=>{b(A=>A+1)},1e3)),()=>{N&&clearInterval(N)}},[g]);const B=async()=>{try{const N=await _e.me();if(t(N),N.access_level==="client"){p(!1);return}let A;if(N.role==="staff"||N.access_level==="staff"){const U=[{assigned_to:N.email},{assigned_to:N.id},{assignee:N.email},{assignee:N.id},{assigned_user:N.id}];let G=[];for(const ee of U)try{if(G=await Le.filter(ee,"-created_date"),G.length>0)break}catch{continue}const H=[...new Set(G.map(ee=>ee.project_id||ee.project))];A=(await Oe.list("-updated_date")).filter(ee=>H.includes(ee.id))}else A=await Oe.filter({status:"active"});let M;if(N.role==="staff"||N.access_level==="staff"){const U=[{assigned_to:N.email},{assigned_to:N.id},{assignee:N.email},{assignee:N.id},{assigned_user:N.id}];for(const G of U)try{if(M=await Le.filter(G,"-created_date"),M.length>0)break}catch{continue}M||(M=[])}else M=await Le.list("-created_date");const L=await hs.list("-created_date",50);r(A),o(M),l(L)}catch(N){console.error("Error loading data:",N)}p(!1)},I=N=>{const A=Math.floor(N/3600),M=Math.floor(N%3600/60),L=N%60;return`${A.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},R=()=>{if(!S){alert("Please select a project first");return}v(!0)},O=()=>{v(!1)},$=async()=>{if(w!==0){v(!1);try{const N=s.find(H=>H.id===S),A=a.find(H=>H.id===P),M=Math.round(w/3600*100)/100,L=.02,U=M<L?L:M,G={project:S,task:P==="none"?null:P,user_email:e.email,hours:U,description:j||`Timer session - ${N==null?void 0:N.title}`,date:new Date().toISOString().split("T")[0],stage:N!=null&&N.current_stage&&["discovery","planning","development","testing","deployment","maintenance"].includes(N.current_stage)?N.current_stage:"development"};if(console.log("Creating time entry with data:",G),await hs.create(G),A&&P!=="none")try{const H=typeof A.hours_logged=="string"?parseFloat(A.hours_logged)||0:A.hours_logged||0,Q=Number((H+U).toFixed(2));await Le.patch(A.id,{hours_logged:Q})}catch(H){console.error("Error updating task hours (non-critical):",H),H.response&&console.error("Task update error data:",H.response.data)}if(N)try{const H=typeof N.total_hours=="string"?parseFloat(N.total_hours)||0:N.total_hours||0,Q=Number((H+U).toFixed(2));await Oe.patch(N.id,{total_hours:Q}),console.log("Project hours updated successfully")}catch(H){console.error("Error updating project hours (non-critical):",H),H.response&&console.error("Project update error data:",H.response.data)}b(0),_(""),k(""),E(""),B()}catch(N){console.error("Error saving time entry:",N),N.response&&(console.error("Error response data:",N.response.data),console.error("Error status:",N.response.status)),alert("Failed to save time entry. Please try again.")}}},T=()=>{d(!1),B()},D=()=>{let N=i;u&&u!=="all"&&(N=N.filter(U=>U.project===u||U.project_id===u));const A=new Date,M=new Date(A.setDate(A.getDate()-A.getDay())),L=new Date(A.getFullYear(),A.getMonth(),1);switch(f){case"today":N=N.filter(U=>new Date(U.date).toDateString()===new Date().toDateString());break;case"this_week":N=N.filter(U=>new Date(U.date)>=M);break;case"this_month":N=N.filter(U=>new Date(U.date)>=L);break}return N};if(x)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-slate-200 rounded w-64"}),n.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"h-96 bg-slate-200 rounded-xl"}),n.jsx("div",{className:"lg:col-span-2 h-96 bg-slate-200 rounded-xl"})]})]})});if((e==null?void 0:e.access_level)==="client")return n.jsx("div",{className:"p-8 text-center",children:n.jsxs("div",{className:"text-slate-500",children:[n.jsx(ut,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Access denied. Time tracking is only available to admin and staff users."})]})});const C=D();return n.jsx("div",{className:"p-4 md:p-8 bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Time Tracking"}),n.jsx("p",{className:"text-slate-600",children:"Track time spent on projects and tasks"})]}),n.jsxs(V,{onClick:()=>d(!0),className:"bg-slate-900 hover:bg-slate-800 text-white",children:[n.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Add Time Entry"]})]}),n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg",children:[n.jsx(pe,{children:n.jsxs(xe,{className:"flex items-center gap-2",children:[n.jsx(ut,{className:"w-5 h-5"}),"Timer"]})}),n.jsxs(ne,{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-mono font-bold text-slate-900 mb-4",children:I(w)}),n.jsxs("div",{className:"flex justify-center gap-2",children:[g?n.jsxs(V,{onClick:O,variant:"outline",children:[n.jsx(Fb,{className:"w-4 h-4 mr-2"}),"Pause"]}):n.jsxs(V,{onClick:R,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Vb,{className:"w-4 h-4 mr-2"}),"Start"]}),n.jsxs(V,{onClick:$,variant:"outline",disabled:w===0,children:[n.jsx(tw,{className:"w-4 h-4 mr-2"}),"Stop & Save"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Project"}),n.jsxs(Se,{value:S,onValueChange:_,children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select project"})}),n.jsx(we,{children:s.map(N=>n.jsx(X,{value:N.id,children:N.title},N.id))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Task (Optional)"}),n.jsxs(Se,{value:P,onValueChange:k,children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select task"})}),n.jsxs(we,{children:[n.jsx(X,{value:"none",children:"No specific task"}),a.filter(A=>(A.project_id||A.project)===S).map(A=>n.jsx(X,{value:A.id,children:A.title},A.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Description"}),n.jsx(q,{value:j,onChange:N=>E(N.target.value),placeholder:"What are you working on?"})]})]})]})]}),n.jsx("div",{className:"grid lg:grid-cols-4 gap-6",children:n.jsx(h5,{timeEntries:C,projects:s,dateFilter:f})}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs(Se,{value:u,onValueChange:m,children:[n.jsx(be,{className:"w-48 bg-white/80 backdrop-blur-sm",children:n.jsx(Ce,{placeholder:"All projects"})}),n.jsxs(we,{children:[n.jsx(X,{value:"all",children:"All Projects"}),s.map(N=>n.jsx(X,{value:N.id,children:N.title},N.id))]})]}),n.jsxs(Se,{value:f,onValueChange:y,children:[n.jsx(be,{className:"w-40 bg-white/80 backdrop-blur-sm",children:n.jsx(Ce,{})}),n.jsxs(we,{children:[n.jsx(X,{value:"today",children:"Today"}),n.jsx(X,{value:"this_week",children:"This Week"}),n.jsx(X,{value:"this_month",children:"This Month"}),n.jsx(X,{value:"all",children:"All Time"})]})]})]}),n.jsx(m5,{timeEntries:C,projects:s,tasks:a}),c&&n.jsx(d5,{projects:s,tasks:a,user:e,onClose:()=>d(!1),onEntryAdded:T})]})})}function f5({onClose:e,onUserInvited:t}){const[s,r]=h.useState({email:"",full_name:"",role:"staff",phone:"",specialization:"",hourly_rate:"",personal_message:""}),[a,o]=h.useState(!1),[i,l]=h.useState(""),[c,d]=h.useState(""),u=async m=>{var f,y,x,p,g,v,w;m.preventDefault(),o(!0),l(""),d("");try{const b={email:s.email,full_name:s.full_name,role:s.role,phone:s.phone||"",specialization:s.specialization||"",hourly_rate:s.hourly_rate?parseFloat(s.hourly_rate):null,status:"pending"};await Xn.send(b);const S=await Ge.list(),_=S.length>0?S[0]:{company_name:"Nex-a Portal",company_logo_url:"",primary_color:"#72FD67",secondary_color:"#1E1E1D",accent_color:"#F2F2F2",email_theme:"light"},P=window.location.origin,k=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <style>
            body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: ${_.accent_color}; }
            .container { max-width: 600px; margin: 0 auto; background: white; padding: 40px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
            .header { text-align: center; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 2px solid ${_.primary_color}; }
            .logo { max-width: 200px; height: auto; margin-bottom: 20px; }
            .company-name { font-size: 28px; font-weight: bold; color: ${_.secondary_color}; margin: 0; }
            .invitation-title { font-size: 24px; color: ${_.primary_color}; margin: 30px 0 20px 0; text-align: center; }
            .greeting { font-size: 18px; color: ${_.secondary_color}; margin: 20px 0; }
            .section { margin: 30px 0; }
            .section h3 { color: ${_.secondary_color}; border-bottom: 1px solid #eee; padding-bottom: 10px; }
            .highlight-box { background: ${_.accent_color}; padding: 20px; border-radius: 8px; margin: 20px 0; }
            .role-badge { display: inline-block; background: ${_.primary_color}; color: ${_.secondary_color}; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 14px; margin: 10px 0; }
            .personal-message { background: #f8f9fa; padding: 20px; border-left: 4px solid ${_.primary_color}; margin: 20px 0; font-style: italic; }
            .accept-btn { display: inline-block; background: ${_.primary_color}; color: ${_.secondary_color}; padding: 15px 40px; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 18px; margin: 20px 0; }
            .accept-btn:hover { opacity: 0.9; }
            .footer { margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; text-align: center; color: #666; font-size: 14px; }
            .important-note { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 8px; margin: 20px 0; color: #856404; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              ${_.company_logo_url?`<img src="${_.company_logo_url}" alt="${_.company_name}" class="logo">`:""}
              <h1 class="company-name">${_.company_name}</h1>
            </div>
            
            <h2 class="invitation-title">TEAM INVITATION</h2>
            
            <div class="greeting">
              Hi ${s.full_name||s.email},
            </div>
            
            <div class="section">
              <p>You've been invited to join our team! We're excited to have you on board.</p>
              
              <div class="highlight-box">
                <p><strong>Your Role:</strong> <span class="role-badge">${s.role.toUpperCase()}</span></p>
                ${s.specialization?`<p><strong>Specialization:</strong> ${s.specialization}</p>`:""}
                ${s.hourly_rate?`<p><strong>Hourly Rate:</strong> $${s.hourly_rate}/hour</p>`:""}
              </div>
              
              ${s.personal_message?`
              <div class="personal-message">
                <strong>Personal Message:</strong><br>
                ${s.personal_message.replace(/\n/g,"<br>")}
              </div>
              `:""}
            </div>
            
            <div class="section">
              <h3>Next Steps</h3>
              <p>To accept your invitation and create your account, please click the button below:</p>
              
              <div style="text-align: center; margin: 30px 0;">
                <a href="${P}/userInviteAcceptance?email=${encodeURIComponent(s.email)}" class="accept-btn">Accept Invitation</a>
              </div>
              
              <div class="important-note">
                <strong>Important:</strong> This invitation is specifically for <strong>${s.email}</strong>. Please use this email address to complete your registration.
              </div>
            </div>
            
            <div class="footer">
              <p>Welcome to the team!</p>
              <p><strong>${_.company_name}</strong></p>
            </div>
          </div>
        </body>
        </html>
      `,j=`Hi ${s.full_name||s.email},

You've been invited to join the ${s.role} team on ${_.company_name}.

${s.personal_message?`Personal message:
${s.personal_message}

`:""}To accept your invitation and create your account, please click the link below:

${P}/userInviteAcceptance?email=${encodeURIComponent(s.email)}

Important: This invitation is specifically for ${s.email}. Please use this email address to complete your registration.

Best regards,
${_.company_name} Team`;try{_.gmail_refresh_token?await fo({to:s.email,subject:`You're invited to join ${_.company_name}`,body:j,html_message:k}):await xc({to:s.email,subject:`You're invited to join ${_.company_name}`,body:j,html_message:k}),d("Invitation sent successfully!"),setTimeout(()=>{t()},1500)}catch(E){console.error("Email sending error:",E);let B="Invitation created but email could not be sent. ";(x=(y=(f=E.response)==null?void 0:f.data)==null?void 0:y.error)!=null&&x.includes("outside the app")?B+="The default mailer can only send to users invited to this app. Please connect your Gmail account in Settings to send emails to send emails to any address.":B+="The user can still sign up with the invited email address.",l(B),setTimeout(()=>{t()},2e3)}}catch(b){console.error("Error creating invitation:",b);let S="Error creating invitation. ";(g=(p=b.response)==null?void 0:p.data)!=null&&g.error?S+=b.response.data.error:(w=(v=b.response)==null?void 0:v.data)!=null&&w.email?S+=b.response.data.email[0]:b.email?S+=b.email[0]:S+="Please check the details and try again.",l(S)}o(!1)};return n.jsx(ht,{open:!0,onOpenChange:e,children:n.jsxs(ot,{className:"sm:max-w-md",children:[n.jsx(ft,{children:n.jsxs(pt,{className:"flex items-center gap-2",children:[n.jsx(wt,{className:"w-5 h-5"}),"Invite New Team Member"]})}),i&&n.jsxs($e,{variant:"destructive",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:i})]}),c&&n.jsxs($e,{className:"border-green-200 bg-green-50 text-green-800",children:[n.jsx(wt,{className:"h-4 w-4"}),n.jsx(Ve,{children:c})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"full_name",children:"Full Name"}),n.jsx(q,{id:"full_name",value:s.full_name,onChange:m=>r({...s,full_name:m.target.value}),placeholder:"John Doe",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"email",children:"Email Address"}),n.jsx(q,{id:"email",type:"email",value:s.email,onChange:m=>r({...s,email:m.target.value}),placeholder:"john@company.com",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"role",children:"Role"}),n.jsxs(Se,{value:s.role,onValueChange:m=>r({...s,role:m}),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select role"})}),n.jsxs(we,{children:[n.jsx(X,{value:"admin",children:"Admin"}),n.jsx(X,{value:"staff",children:"Staff"})]})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"phone",children:"Phone"}),n.jsx(q,{id:"phone",value:s.phone,onChange:m=>r({...s,phone:m.target.value}),placeholder:"Phone number"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"specialization",children:"Specialization"}),n.jsx(q,{id:"specialization",value:s.specialization,onChange:m=>r({...s,specialization:m.target.value}),placeholder:"e.g. Backend Development"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"hourly_rate",children:"Hourly Rate ($)"}),n.jsx(q,{id:"hourly_rate",type:"number",min:"0",step:"0.01",value:s.hourly_rate,onChange:m=>r({...s,hourly_rate:m.target.value}),placeholder:"0.00"})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"personal_message",children:"Personal Message (Optional)"}),n.jsx(Ye,{id:"personal_message",value:s.personal_message,onChange:m=>r({...s,personal_message:m.target.value}),placeholder:"Add a personal welcome message...",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx(V,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),n.jsxs(V,{type:"submit",disabled:a,className:"bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:[n.jsx(dl,{className:"w-4 h-4 mr-2"}),a?"Sending...":"Send Invitation"]})]})]})]})})}function j0(){const[e,t]=h.useState(null),[s,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState(""),[c,d]=h.useState("all"),[u,m]=h.useState(!0),[f,y]=h.useState(!1);h.useEffect(()=>{x()},[]);const x=async()=>{try{const k=await _e.me();if(t(k),k.access_level!=="admin"){m(!1);return}const[j,E]=await Promise.all([_e.list("-created_date"),Xn.filter({status:"pending"},"-created_date")]);r(j),o(E)}catch(k){console.error("Error loading data:",k)}m(!1)},p=async(k,j)=>{try{await _e.updateUser(k,{access_level:j}),x()}catch(E){console.error("Error updating user role:",E),alert("Failed to update user role. Please try again.")}},g=()=>{y(!1),x()},v=s.filter(k=>{var I;if(k.access_level==="client")return!1;const E=((I=k.full_name)==null?void 0:I.toLowerCase().includes(i.toLowerCase()))||k.email.toLowerCase().includes(i.toLowerCase()),B=c==="all"||k.access_level===c;return E&&B}),w=a.filter(k=>{const j=k.full_name.toLowerCase().includes(i.toLowerCase())||k.email.toLowerCase().includes(i.toLowerCase()),E=c==="all"||k.role===c;return j&&E}),b={admin:"bg-emerald-100 text-emerald-800 border-emerald-200",staff:"bg-blue-100 text-blue-800 border-blue-200"},S={admin:da,staff:Ev};if(u)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-slate-200 rounded w-64"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:Array(6).fill(0).map((k,j)=>n.jsx("div",{className:"h-48 bg-slate-200 rounded-xl"},j))})]})});if((e==null?void 0:e.access_level)!=="admin")return n.jsx("div",{className:"p-8 text-center",children:n.jsxs("div",{className:"text-slate-500",children:[n.jsx(Ms,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Access denied. Team management is only available to admin users."})]})});const _=s.filter(k=>k.access_level!=="client"),P={total:_.length,admin:_.filter(k=>k.access_level==="admin").length,staff:_.filter(k=>k.access_level==="staff").length,pending:a.length};return n.jsxs("div",{className:"p-4 md:p-8 bg-gradient-to-br from-[#F2F2F2] to-gray-100 min-h-screen",children:[n.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
          * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
          }
        `}),n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-[#1E1E1D] mb-2",children:"Team Management"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Manage internal team members and their access levels"})]}),n.jsxs(V,{onClick:()=>y(!0),className:"bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold shadow-lg",children:[n.jsx(yr,{className:"w-4 h-4 mr-2"}),"Invite User"]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-[#1E1E1D]",children:P.total}),n.jsx("div",{className:"text-sm text-gray-500 font-medium",children:"Active Team"})]})}),n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-900",children:P.admin}),n.jsx("div",{className:"text-sm text-emerald-600 font-medium",children:"Admins"})]})}),n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-900",children:P.staff}),n.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Staff"})]})}),n.jsx(Z,{className:"bg-white/80 backdrop-blur-sm",children:n.jsxs(ne,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-amber-900",children:P.pending}),n.jsx("div",{className:"text-sm text-amber-600 font-medium",children:"Pending Invites"})]})})]}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx(q,{placeholder:"Search team members...",value:i,onChange:k=>l(k.target.value),className:"max-w-md bg-white/80 backdrop-blur-sm border-gray-200 font-medium"}),n.jsxs(Se,{value:c,onValueChange:d,children:[n.jsx(be,{className:"w-40 bg-white/80 backdrop-blur-sm border-gray-200",children:n.jsx(Ce,{placeholder:"Filter by role"})}),n.jsxs(we,{children:[n.jsx(X,{value:"all",children:"All Roles"}),n.jsx(X,{value:"admin",children:"Admins"}),n.jsx(X,{value:"staff",children:"Staff"})]})]})]}),w.length>0&&n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-[#1E1E1D] mb-4",children:"Pending Invitations"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(k=>{var j;return n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg opacity-70",children:[n.jsx(pe,{className:"pb-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-gray-500 font-bold text-lg",children:((j=k.full_name)==null?void 0:j.charAt(0))||"U"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-700",children:k.full_name}),n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:k.email})]})]})})}),n.jsxs(ne,{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Invited as"}),n.jsx(je,{className:b[k.role],children:k.role})]}),n.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-400 pt-2 border-t",children:[n.jsxs("span",{children:["Invited on ",new Date(k.created_date).toLocaleDateString()]}),n.jsx(je,{variant:"outline",className:"bg-amber-100 text-amber-800 border-amber-200",children:"Pending"})]})]})]},k.id)})}),n.jsx("hr",{className:"my-6"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(k=>{var E;const j=S[k.access_level]||Ms;return n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg hover:shadow-xl transition-shadow",children:[n.jsx(pe,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#1E1E1D] to-gray-700 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-[#72FD67] font-bold text-lg",children:((E=k.full_name)==null?void 0:E.charAt(0))||"U"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-[#1E1E1D]",children:k.full_name}),n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:k.email})]})]}),n.jsx(j,{className:"w-5 h-5 text-gray-400"})]})}),n.jsxs(ne,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Role"}),n.jsxs(Se,{value:k.access_level,onValueChange:B=>p(k.id,B),disabled:k.id===e.id,children:[n.jsx(be,{className:"w-32",children:n.jsx(Ce,{})}),n.jsxs(we,{children:[n.jsx(X,{value:"admin",children:"Admin"}),n.jsx(X,{value:"staff",children:"Staff"})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Status"}),n.jsx(je,{className:b[k.access_level],children:k.access_level})]}),k.specialization&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Specialization"}),n.jsx("span",{className:"text-sm font-medium text-[#1E1E1D]",children:k.specialization})]}),k.hourly_rate&&n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Hourly Rate"}),n.jsxs("span",{className:"text-sm font-medium text-[#1E1E1D]",children:["$",k.hourly_rate,"/hr"]})]}),k.phone&&n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-100",children:[n.jsx(hn,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-600 font-medium",children:k.phone})]}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:n.jsxs("span",{children:["Joined ",new Date(k.created_date).toLocaleDateString()]})})]})]},k.id)})}),v.length===0&&w.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Ms,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"font-medium",children:"No team members or pending invitations found matching your search criteria"})]}),f&&n.jsx(f5,{onClose:()=>y(!1),onUserInvited:g})]})]})}const p5={office_supplies:"bg-blue-100 text-blue-800",software:"bg-purple-100 text-purple-800",hardware:"bg-gray-100 text-gray-800",travel:"bg-green-100 text-green-800",meals:"bg-orange-100 text-orange-800",utilities:"bg-yellow-100 text-yellow-800",rent:"bg-red-100 text-red-800",marketing:"bg-pink-100 text-pink-800",training:"bg-indigo-100 text-indigo-800",other:"bg-slate-100 text-slate-600"},g5={office_supplies:"Office Supplies",software:"Software",hardware:"Hardware",travel:"Travel",meals:"Meals",utilities:"Utilities",rent:"Rent",marketing:"Marketing",training:"Training",other:"Other"};function cm({expense:e,detailed:t=!1}){var s;return n.jsx(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 hover:shadow-lg transition-shadow",children:n.jsxs(ne,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-[#1E1E1D] mb-1",children:e.title}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[n.jsx("span",{children:e.vendor}),n.jsx("span",{children:"•"}),n.jsx("span",{children:ve(new Date(e.date),"MMM d, yyyy")}),!e.tax_deductible&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsx("span",{className:"text-red-600 font-medium",children:"Non-deductible"})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-lg text-[#1E1E1D]",children:["$",(s=e.amount)==null?void 0:s.toLocaleString()]}),n.jsx(je,{className:p5[e.category],children:g5[e.category]})]})]}),t&&n.jsxs("div",{className:"space-y-3 border-t border-gray-100 pt-3",children:[e.notes&&n.jsx("p",{className:"text-sm text-gray-600",children:e.notes}),n.jsxs("div",{className:"flex justify-between items-center",children:[e.receipt_url&&n.jsxs(V,{variant:"outline",size:"sm",onClick:()=>window.open(e.receipt_url,"_blank"),children:[n.jsx(Ct,{className:"w-3 h-3 mr-2"}),"View Receipt"]}),n.jsxs("div",{className:"text-xs text-gray-400",children:["Added ",ve(new Date(e.created_date),"MMM d, yyyy")]})]})]})]})})}const x5={paid:"bg-green-100 text-green-800"};function dm({invoice:e,detailed:t=!1}){var s;return n.jsx(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 hover:shadow-lg transition-shadow",children:n.jsxs(ne,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-[#1E1E1D] mb-1",children:e.invoice_number}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[n.jsx("span",{children:e.client_name}),n.jsx("span",{children:"•"}),n.jsx("span",{children:ve(new Date(e.paid_date),"MMM d, yyyy")})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-lg text-green-600",children:["+$",(s=e.amount)==null?void 0:s.toLocaleString()]}),n.jsx(je,{className:x5[e.status],children:"Paid"})]})]}),t&&n.jsxs("div",{className:"space-y-3 border-t border-gray-100 pt-3",children:[n.jsx("p",{className:"text-sm text-gray-600",children:e.stage_description}),n.jsxs("div",{className:"text-xs text-gray-400",children:["Invoice created ",ve(new Date(e.created_date),"MMM d, yyyy")]})]})]})})}function y5({expenses:e,income:t,dateFilter:s}){const r=e.reduce((c,d)=>c+(d.amount||0),0),a=t.reduce((c,d)=>c+(d.amount||0),0),o=a-r,i=e.filter(c=>c.tax_deductible).reduce((c,d)=>c+(d.amount||0),0),l=()=>{switch(s){case"this_month":return"This Month";case"this_quarter":return"This Quarter";case"this_year":return"This Year";default:return"All Time"}};return n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg",children:[n.jsx(pe,{className:"pb-3",children:n.jsxs(xe,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(ml,{className:"w-4 h-4 text-green-600"}),"Total Income"]})}),n.jsxs(ne,{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",a.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l()})]})]}),n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg",children:[n.jsx(pe,{className:"pb-3",children:n.jsxs(xe,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(ow,{className:"w-4 h-4 text-red-600"}),"Total Expenses"]})}),n.jsxs(ne,{children:[n.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["$",r.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l()})]})]}),n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg",children:[n.jsx(pe,{className:"pb-3",children:n.jsxs(xe,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(jt,{className:"w-4 h-4 text-[#1E1E1D]"}),"Net Income"]})}),n.jsxs(ne,{children:[n.jsxs("div",{className:`text-2xl font-bold ${o>=0?"text-green-600":"text-red-600"}`,children:[o>=0?"+":"","$",o.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l()})]})]}),n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg",children:[n.jsx(pe,{className:"pb-3",children:n.jsxs(xe,{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[n.jsx(Ct,{className:"w-4 h-4 text-blue-600"}),"Tax Deductible"]})}),n.jsxs(ne,{children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",i.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deductible expenses"})]})]})]})}function N0(){const[e,t]=h.useState(null),[s,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState("overview"),[u,m]=h.useState(!1),[f,y]=h.useState("this_year"),[x,p]=h.useState("all"),[g,v]=h.useState(!0);h.useEffect(()=>{w()},[]);const w=async()=>{try{const j=await _e.me();if(t(j),j.access_level==="client"||j.access_level==="staff"){v(!1);return}const[E,B,I]=await Promise.all([Ma.list("-date"),Ue.list("-created_date"),Oe.list("-updated_date")]);r(E),o(B),l(I)}catch(j){console.error("Error loading data:",j)}v(!1)},b=()=>{m(!1),w()},S=()=>{let j=s;x!=="all"&&(j=j.filter(O=>O.category===x));const E=new Date,B=new Date(E.getFullYear(),0,1),I=new Date(E.getFullYear(),E.getMonth(),1),R=new Date(E.getFullYear(),Math.floor(E.getMonth()/3)*3,1);switch(f){case"this_month":j=j.filter(O=>new Date(O.date)>=I);break;case"this_quarter":j=j.filter(O=>new Date(O.date)>=R);break;case"this_year":j=j.filter(O=>new Date(O.date)>=B);break}return j},_=()=>{const j=a.filter(O=>O.status==="paid"),E=new Date,B=new Date(E.getFullYear(),0,1),I=new Date(E.getFullYear(),E.getMonth(),1),R=new Date(E.getFullYear(),Math.floor(E.getMonth()/3)*3,1);switch(f){case"this_month":return j.filter(O=>new Date(O.paid_date)>=I);case"this_quarter":return j.filter(O=>new Date(O.paid_date)>=R);case"this_year":return j.filter(O=>new Date(O.paid_date)>=B);default:return j}};if(g)return n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-slate-200 rounded w-64"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array(3).fill(0).map((j,E)=>n.jsx("div",{className:"h-32 bg-slate-200 rounded-xl"},E))})]})});if((e==null?void 0:e.access_level)!=="admin")return n.jsx("div",{className:"p-8 text-center",children:n.jsxs("div",{className:"text-slate-500",children:[n.jsx(ze,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Access denied. Books are only available to admin users."})]})});const P=S(),k=_();return n.jsx("div",{className:"p-4 md:p-8 bg-gradient-to-br from-[#F2F2F2] to-gray-100 min-h-screen",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-[#1E1E1D] mb-2",children:"Books"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Track income and expenses for tax purposes"})]}),n.jsxs(V,{onClick:()=>m(!0),className:"bg-[#1E1E1D] hover:bg-gray-800 text-white font-semibold",children:[n.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Add Expense"]})]}),n.jsx(y5,{expenses:P,income:k,dateFilter:f}),n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsxs(Se,{value:f,onValueChange:y,children:[n.jsx(be,{className:"w-40 bg-white/90 backdrop-blur-sm border-gray-200",children:n.jsx(Ce,{})}),n.jsxs(we,{children:[n.jsx(X,{value:"this_month",children:"This Month"}),n.jsx(X,{value:"this_quarter",children:"This Quarter"}),n.jsx(X,{value:"this_year",children:"This Year"}),n.jsx(X,{value:"all",children:"All Time"})]})]}),n.jsxs(Se,{value:x,onValueChange:p,children:[n.jsx(be,{className:"w-48 bg-white/90 backdrop-blur-sm border-gray-200",children:n.jsx(Ce,{placeholder:"All Categories"})}),n.jsxs(we,{children:[n.jsx(X,{value:"all",children:"All Categories"}),n.jsx(X,{value:"office_supplies",children:"Office Supplies"}),n.jsx(X,{value:"software",children:"Software"}),n.jsx(X,{value:"hardware",children:"Hardware"}),n.jsx(X,{value:"travel",children:"Travel"}),n.jsx(X,{value:"meals",children:"Meals"}),n.jsx(X,{value:"utilities",children:"Utilities"}),n.jsx(X,{value:"rent",children:"Rent"}),n.jsx(X,{value:"marketing",children:"Marketing"}),n.jsx(X,{value:"training",children:"Training"}),n.jsx(X,{value:"other",children:"Other"})]})]})]}),n.jsxs(ho,{value:c,onValueChange:d,children:[n.jsxs(Rr,{className:"bg-white/90 backdrop-blur-sm border-gray-200",children:[n.jsx(Ze,{value:"overview",children:"Overview"}),n.jsx(Ze,{value:"expenses",children:"Expenses"}),n.jsx(Ze,{value:"income",children:"Income"})]}),n.jsx(It,{value:"overview",className:"space-y-6",children:n.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-[#1E1E1D] text-lg",children:"Recent Expenses"}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:P.slice(0,5).map(j=>n.jsx(cm,{expense:j},j.id))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-[#1E1E1D] text-lg",children:"Recent Income"}),n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:k.slice(0,5).map(j=>n.jsx(dm,{invoice:j},j.id))})]})]})}),n.jsx(It,{value:"expenses",className:"space-y-4",children:n.jsxs("div",{className:"grid gap-4",children:[P.map(j=>n.jsx(cm,{expense:j,detailed:!0},j.id)),P.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Ct,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"font-medium",children:"No expenses found for the selected period"})]})]})}),n.jsx(It,{value:"income",className:"space-y-4",children:n.jsxs("div",{className:"grid gap-4",children:[k.map(j=>n.jsx(dm,{invoice:j,detailed:!0},j.id)),k.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(jt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"font-medium",children:"No income found for the selected period"})]})]})})]}),u&&n.jsx(Jx,{projects:i,onClose:()=>m(!1),onExpenseAdded:b})]})})}function _0(){var _,P,k;const{id:e}=$0();Ws();const[t,s]=h.useState(null),[r,a]=h.useState(null),[o,i]=h.useState(!0),[l,c]=h.useState(!1),[d,u]=h.useState(null),m=hr();h.useEffect(()=>{f()},[e,m.pathname]);const f=async()=>{try{const[j,E]=await Promise.all([St.list().then(B=>B.find(I=>I.id===e)),Ge.list()]);if(!j){i(!1);return}s(j),E.length>0?a(E[0]):a({company_name:"TechFlow Integration Solutions",company_logo_url:"",primary_color:"#72FD67",secondary_color:"#1E1E1D",accent_color:"#F2F2F2",company_address:"",company_phone:"",company_email:""})}catch(j){console.error("Error loading proposal:",j),u("Failed to load proposal details.")}i(!1)},y=async()=>{if(!t||!r){u("Proposal or settings not loaded. Please refresh the page.");return}c(!0),u(null);try{await St.update(t.id,{status:"accepted"}),s(T=>({...T,status:"accepted"}));const j=await Oe.create({title:t.title,description:t.description,project_type:t.project_type,client_id:t.client_id,client_name:t.client_name,client_email:t.client_email,total_fee:t.total_fee,status:"active",current_stage:"discovery",start_date:new Date().toISOString().split("T")[0],stage_completion:{discovery:!1,design:!1,development:!1,testing:!1,deployment:!1,training:!1}}),E=15,B=t.total_fee*E/100,I=`INV-${Date.now().toString().slice(-6)}`,R=await Ue.create({project_id:j.id,project_description:j.description,invoice_number:I,client_id:t.client_id,client_name:t.client_name,client_email:t.client_email,stage:"discovery",stage_description:`Initial deposit for ${t.title} (Discovery Phase)`,amount:B,percentage:E,status:"draft",due_date:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]}),O=`Invoice ${I} from ${r.company_name}`,$=v5(R,j,r);r.gmail_refresh_token?await fo({to:t.client_email,subject:O,body:$}):await xc({to:t.client_email,subject:O,body:$}),await Ue.update(R.id,{status:"sent",sent_date:new Date().toISOString().split("T")[0]}),await ms.create({title:"Proposal Accepted!",message:`"${t.title}" for ${t.client_name} was accepted and project created.`,link:it(`Projects?projectId=${j.id}`)}),window.location.href=it(`ThankYou?proposalId=${t.id}`)}catch(j){console.error("Error during proposal acceptance:",j),u("An error occurred while processing your acceptance. Please contact us directly."),c(!1),s(E=>({...E,status:"sent"}))}},x=async()=>{if(t){c(!0),u(null);try{await St.update(t.id,{status:"declined"}),s(j=>({...j,status:"declined"}))}catch(j){console.error("Error declining proposal:",j),u("An error occurred. Please try again.")}c(!1)}};if(o)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});if(!t)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Proposal Not Found"}),n.jsx("p",{className:"text-gray-600",children:"The proposal you're looking for doesn't exist or may have been removed."})]})});const p=(r==null?void 0:r.primary_color)||"#72FD67",g=(r==null?void 0:r.secondary_color)||"#1E1E1D",v=(r==null?void 0:r.accent_color)||"#F2F2F2",w=(r==null?void 0:r.company_name)||"TechFlow Integration Solutions",b=(_=t.project_type)==null?void 0:_.replace("+"," + ").replace(/\b\w/g,j=>j.toUpperCase()),S=[{name:"Discovery & Requirements",percentage:15},{name:"Design & Architecture",percentage:20},{name:"Development & Configuration",percentage:30},{name:"Testing & QA",percentage:15},{name:"Deployment & Implementation",percentage:15},{name:"Training & Handoff",percentage:5}];return n.jsxs("div",{className:"min-h-screen",style:{background:`linear-gradient(135deg, ${v}, #f8fafc)`},children:[n.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
          * {
            font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;
          }
        `}),n.jsx("div",{className:"bg-white/90 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-10",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[r!=null&&r.company_logo_url?n.jsx("img",{src:r.company_logo_url,alt:w,className:"h-12 w-auto object-contain"}):n.jsx("div",{className:"h-12 w-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${g}, #4a5568)`},children:n.jsx("span",{className:"text-2xl",children:"⚡"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",style:{color:g},children:w}),n.jsx("p",{className:"text-sm text-gray-600",children:"Project Proposal"})]})]}),n.jsx(je,{className:`px-3 py-1 ${t.status==="accepted"?"bg-green-100 text-green-800 border-green-200":t.status==="sent"?"bg-blue-100 text-blue-800 border-blue-200":t.status==="declined"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:t.status==="accepted"?"Accepted":t.status==="sent"?"Under Review":t.status==="declined"?"Declined":t.status})]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8 space-y-8",children:[n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-xl overflow-hidden",children:[n.jsx("div",{className:"h-32 flex items-end p-8",style:{background:`linear-gradient(135deg, ${g}, #4a5568)`},children:n.jsxs("div",{className:"text-white",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.title}),n.jsxs("p",{className:"text-white/90",children:["Proposal for ",t.client_name]})]})}),n.jsx(ne,{className:"p-8",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:p},children:n.jsx(jt,{className:"w-6 h-6",style:{color:g}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Investment"}),n.jsxs("p",{className:"text-2xl font-bold",style:{color:g},children:["$",(P=t.total_fee)==null?void 0:P.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:p},children:n.jsx(ut,{className:"w-6 h-6",style:{color:g}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Timeline"}),n.jsx("p",{className:"text-xl font-semibold",style:{color:g},children:t.timeline||"8-12 weeks"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:p},children:n.jsx(ze,{className:"w-6 h-6",style:{color:g}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Project Type"}),n.jsx("p",{className:"text-lg font-semibold",style:{color:g},children:b})]})]})]})})]}),t.generated_content&&n.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:t.generated_content}}),n.jsx(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg",children:n.jsxs(ne,{className:"p-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:g},children:"Project Overview"}),n.jsx("div",{className:"prose max-w-none",children:n.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:t.description})})]})}),t.scope_of_work&&n.jsx(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg",children:n.jsxs(ne,{className:"p-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:g},children:"Detailed Scope of Work"}),n.jsx("div",{className:"prose max-w-none",children:n.jsx("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:t.scope_of_work})})]})}),n.jsx(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg",children:n.jsxs(ne,{className:"p-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:g},children:"Investment & Payment Structure"}),n.jsxs("div",{className:"space-y-4",children:[S.map((j,E)=>n.jsxs("div",{className:"flex justify-between items-center p-4 rounded-xl border",style:{backgroundColor:v},children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold",style:{color:g},children:j.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[j.percentage,"% of total project investment"]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-xl font-bold",style:{color:g},children:["$",(t.total_fee*j.percentage/100).toLocaleString()]})})]},E)),n.jsxs("div",{className:"flex justify-between items-center p-4 rounded-xl border-2",style:{backgroundColor:p,borderColor:p,color:g},children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-lg",children:"Total Project Investment"}),n.jsx("p",{className:"text-sm opacity-80",children:"Paid across project milestones"})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"text-2xl font-bold",children:["$",(k=t.total_fee)==null?void 0:k.toLocaleString()]})})]})]})]})}),t.status==="sent"&&n.jsxs("div",{className:"mt-12 text-center p-8 bg-gray-50 rounded-lg",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ready to proceed?"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Accept the proposal to automatically create the project and receive your first invoice."}),d&&n.jsx("p",{className:"mt-4 text-red-600 bg-red-100 p-3 rounded-md",children:d}),n.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[n.jsx(V,{size:"lg",variant:"outline",onClick:x,disabled:l,className:"px-10 py-6 text-lg",children:"Decline"}),n.jsxs(V,{size:"lg",onClick:y,disabled:l,className:"px-10 py-6 text-lg",style:{backgroundColor:p,color:g},children:[l&&n.jsx(He,{className:"w-5 h-5 mr-3 animate-spin"}),"Accept & Start Project"]})]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Valid until ",ve(new Date(t.valid_until),"MMMM d, yyyy")]})]}),t.status==="accepted"&&n.jsxs("div",{className:"mt-12 text-center p-8 bg-green-50 text-green-800 rounded-lg",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Proposal Accepted!"}),n.jsx("p",{className:"mt-2",children:"This proposal was accepted. We're excited to work with you!"})]}),t.status==="declined"&&n.jsxs("div",{className:"mt-12 text-center p-8 bg-red-50 text-red-800 rounded-lg",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Proposal Declined"}),n.jsx("p",{className:"mt-2",children:"This proposal was declined."})]}),n.jsx(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200 shadow-lg",children:n.jsxs(ne,{className:"p-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:g},children:"Questions? Get in Touch"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(r==null?void 0:r.company_email)&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:p},children:n.jsx(wt,{className:"w-6 h-6",style:{color:g}})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",style:{color:g},children:"Email"}),n.jsx("p",{className:"text-gray-600",children:r.company_email})]})]}),(r==null?void 0:r.company_phone)&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:p},children:n.jsx(hn,{className:"w-6 h-6",style:{color:g}})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",style:{color:g},children:"Phone"}),n.jsx("p",{className:"text-gray-600",children:r.company_phone})]})]}),(r==null?void 0:r.company_address)&&n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:p},children:n.jsx(zm,{className:"w-6 h-6",style:{color:g}})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",style:{color:g},children:"Address"}),n.jsx("p",{className:"text-gray-600",children:r.company_address})]})]})]})]})}),n.jsx("div",{className:"text-center py-8",children:n.jsxs("p",{className:"text-gray-500",children:["© ",new Date().getFullYear()," ",w,". All rights reserved."]})})]})]})}function v5(e,t,s){return`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Invoice ${e.invoice_number}</title>
      <style>
        body { font-family: sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        h1 { color: ${s.secondary_color}; border-bottom: 2px solid ${s.primary_color}; padding-bottom: 10px; margin-bottom: 20px; }
        strong { color: ${s.secondary_color}; }
        .invoice-details p { margin-bottom: 5px; }
        .footer { text-align: center; margin-top: 30px; font-size: 0.9em; color: #666; }
      </style>
    </head>
    <body>
      <div class="container">
        <h1>Invoice from ${s.company_name}</h1>
        <p>Hello ${e.client_name},</p>
        <p>This is your invoice for the first milestone of the project: <strong>${t.title}</strong>.</p>

        <div class="invoice-details">
          <p><strong>Invoice Number:</strong> ${e.invoice_number}</p>
          <p><strong>Description:</strong> ${e.stage_description}</p>
          ${e.project_description?`<p><strong>Project Description:</strong> ${e.project_description}</p>`:""}
          <p><strong>Amount Due:</strong> $${e.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}</p>
          <p><strong>Due Date:</strong> ${new Date(e.due_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}</p>
        </div>

        <p style="margin-top: 20px;">Thank you for your business!</p>

        <div class="footer">
          <p>${s.company_name} | ${s.company_email||""} | ${s.company_phone||""}</p>
        </div>
      </div>
    </body>
    </html>
  `}const tn={User:{entity:_e,name:"Users",icon:"👤"},Client:{entity:bt,name:"Clients",icon:"🏢"},Project:{entity:Oe,name:"Projects",icon:"📁"},Task:{entity:Le,name:"Tasks",icon:"✅"},TimeEntry:{entity:hs,name:"Time Entries",icon:"⏰"},Proposal:{entity:St,name:"Proposals",icon:"📄"},Invoice:{entity:Ue,name:"Invoices",icon:"🧾"},Expense:{entity:Ma,name:"Expenses",icon:"💰"},Settings:{entity:Ge,name:"Settings",icon:"⚙️"},ProjectRequest:{entity:il,name:"Project Requests",icon:"📋"}};function b5(){const[e,t]=h.useState("User"),[s,r]=h.useState([]),[a,o]=h.useState(""),[i,l]=h.useState(!1),[c,d]=h.useState(null),[u,m]=h.useState(!1),[f,y]=h.useState(null),[x,p]=h.useState({}),[g,v]=h.useState(!1);h.useEffect(()=>{w()},[e]);const w=async()=>{l(!0);try{const j=await tn[e].entity.list("-updated_date",100);r(j)}catch(j){console.error(`Error loading ${e}:`,j),r([])}l(!1)},b=j=>{d(j),p({...j})},S=async()=>{v(!0);try{await tn[e].entity.update(c.id,x),d(null),p({}),w()}catch(j){console.error("Error updating record:",j),alert("Failed to update record. Please try again.")}v(!1)},_=async()=>{if(f)try{await tn[e].entity.delete(f.id),m(!1),y(null),w()}catch(j){console.error("Error deleting record:",j),alert("Failed to delete record. Please try again.")}},P=(j,E)=>j==="created_date"||j==="updated_date"?n.jsx("span",{className:"text-sm text-gray-500",children:ve(new Date(E),"MMM d, yyyy HH:mm")}):typeof E=="boolean"?n.jsx(je,{variant:E?"default":"secondary",children:E?"True":"False"}):typeof E=="object"&&E!==null?n.jsx("span",{className:"text-sm text-gray-500",children:"Object"}):typeof E=="string"&&E.length>50?n.jsxs("span",{className:"text-sm",children:[E.substring(0,50),"..."]}):n.jsx("span",{className:"text-sm",children:String(E)}),k=s.filter(j=>JSON.stringify(j).toLowerCase().includes(a.toLowerCase()));return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[#1E1E1D]",children:"Record Manager"}),n.jsx("p",{className:"text-gray-600",children:"Edit and delete records across all entities"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("div",{className:"relative",children:[n.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(q,{placeholder:"Search records...",value:a,onChange:j=>o(j.target.value),className:"pl-10 w-64"})]})})]}),n.jsxs(ho,{value:e,onValueChange:t,children:[n.jsx(Rr,{className:"grid grid-cols-5 md:grid-cols-10 gap-1 h-auto p-1 bg-white/90",children:Object.entries(tn).map(([j,E])=>n.jsxs(Ze,{value:j,className:"flex flex-col items-center gap-1 px-2 py-2 text-xs",children:[n.jsx("span",{className:"text-lg",children:E.icon}),n.jsx("span",{className:"hidden md:inline",children:E.name})]},j))}),Object.entries(tn).map(([j,E])=>n.jsx(It,{value:j,className:"space-y-4",children:n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm",children:[n.jsx(pe,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(xe,{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-2xl",children:E.icon}),E.name," (",k.length,")"]}),i&&n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[#1E1E1D]"})]})}),n.jsx(ne,{children:n.jsxs("div",{className:"space-y-4",children:[k.map(B=>n.jsx(Z,{className:"border border-gray-200",children:n.jsx(ne,{className:"p-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(B).slice(0,6).map(([I,R])=>n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:I.replace(/_/g," ")}),n.jsx("div",{className:"mt-1",children:P(I,R)})]},I))}),n.jsxs("div",{className:"flex gap-2 ml-4",children:[n.jsx(V,{size:"sm",variant:"outline",onClick:()=>b(B),children:n.jsx(Qb,{className:"w-4 h-4"})}),n.jsx(V,{size:"sm",variant:"outline",onClick:()=>{y(B),m(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:n.jsx(fi,{className:"w-4 h-4"})})]})]})})},B.id)),k.length===0&&!i&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:n.jsx("p",{children:"No records found"})})]})})]})},j))]}),c&&n.jsx(ht,{open:!0,onOpenChange:()=>d(null),children:n.jsxs(ot,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsx(ft,{children:n.jsxs(pt,{children:["Edit ",tn[e].name.slice(0,-1)," - ",c.id]})}),n.jsxs(Sa,{children:[n.jsxs(V,{variant:"outline",onClick:()=>d(null),children:[n.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Cancel"]}),n.jsxs(V,{onClick:S,disabled:g,children:[n.jsx(Wm,{className:"w-4 h-4 mr-2"}),g?"Saving...":"Save Changes"]})]})]})}),n.jsx(ht,{open:u,onOpenChange:m,children:n.jsxs(ot,{children:[n.jsx(ft,{children:n.jsxs(pt,{className:"flex items-center gap-2 text-red-600",children:[n.jsx(Hm,{className:"w-5 h-5"}),"Confirm Deletion"]})}),n.jsxs(Sa,{children:[n.jsx(V,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),n.jsxs(V,{onClick:_,className:"bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(fi,{className:"w-4 h-4 mr-2"}),"Delete Record"]})]})]})})]})}function w5({open:e,onClose:t}){const[s,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState(""),[c,d]=h.useState(!0);h.useEffect(()=>{e&&u()},[e]);const u=async()=>{d(!0);try{const[x,p]=await Promise.all([_e.list("-created_date"),bt.list("-created_date")]);r(x),o(p)}catch(x){console.error("Error loading users:",x)}d(!1)},m=x=>{if(!JSON.parse(localStorage.getItem("original_user")||"null")){const g=JSON.parse(sessionStorage.getItem("current_user")||"null");localStorage.setItem("original_user",JSON.stringify(g))}localStorage.setItem("impersonated_user",JSON.stringify(x)),sessionStorage.setItem("current_user",JSON.stringify(x)),localStorage.setItem("is_impersonating","true"),window.location.reload()},f=s.filter(x=>{var p,g;return((p=x.full_name)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))||((g=x.email)==null?void 0:g.toLowerCase().includes(i.toLowerCase()))}),y=a.filter(x=>{var p,g,v;return((p=x.name)==null?void 0:p.toLowerCase().includes(i.toLowerCase()))||((g=x.email)==null?void 0:g.toLowerCase().includes(i.toLowerCase()))||((v=x.company)==null?void 0:v.toLowerCase().includes(i.toLowerCase()))});return c?n.jsx(ht,{open:e,onOpenChange:t,children:n.jsx(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})}):n.jsx(ht,{open:e,onOpenChange:t,children:n.jsxs(ot,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsx(ft,{children:n.jsxs(pt,{className:"flex items-center gap-2",children:[n.jsx(zn,{className:"w-5 h-5"}),"View App As User"]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(q,{placeholder:"Search by name or email...",value:i,onChange:x=>l(x.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"space-y-4",children:[f.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider mb-3",children:["Staff & Admin Users (",f.length,")"]}),n.jsx("div",{className:"space-y-2",children:f.map(x=>n.jsx(Z,{className:"hover:shadow-md transition-shadow",children:n.jsx(ne,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(es,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:x.full_name}),n.jsx("p",{className:"text-sm text-gray-500",children:x.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(je,{variant:x.access_level==="admin"?"default":x.access_level==="staff"?"secondary":"outline",children:x.access_level}),n.jsxs(V,{size:"sm",onClick:()=>m(x),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(zn,{className:"w-4 h-4 mr-2"}),"View As"]})]})]})})},x.id))})]}),y.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider mb-3",children:["Clients (",y.length,")"]}),n.jsx("div",{className:"space-y-2",children:y.map(x=>{const p=s.find(g=>g.id===x.user_id);return n.jsx(Z,{className:"hover:shadow-md transition-shadow",children:n.jsx(ne,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx(Um,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:x.name}),n.jsx("p",{className:"text-sm text-gray-500",children:x.email}),x.company&&n.jsx("p",{className:"text-xs text-gray-400",children:x.company})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(je,{variant:"outline",className:"bg-purple-50 text-purple-700",children:"client"}),p?n.jsxs(V,{size:"sm",onClick:()=>m({...p,access_level:"client"}),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(zn,{className:"w-4 h-4 mr-2"}),"View As"]}):n.jsx(V,{size:"sm",disabled:!0,variant:"outline",children:"No User Account"})]})]})})},x.id)})})]}),f.length===0&&y.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(es,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No users found matching your search."})]})]})]})]})})}function j5({settings:e,onDisconnect:t}){const[s,r]=h.useState(!1),[a,o]=h.useState(!1),[i,l]=h.useState(null),c=async()=>{var m,f,y,x,p;r(!0),l(null);try{const{data:g}=await GA();g.authorizationUrl&&(window.location.href=g.authorizationUrl)}catch(g){console.error("Error getting auth URL:",g),(y=(f=(m=g.response)==null?void 0:m.data)==null?void 0:f.error)!=null&&y.includes("Gmail API credentials are not configured")?l("Configuration incomplete. Please provide your Gmail API credentials in your app's environment settings as described in the 'Setup Required' section below."):(p=(x=g.response)==null?void 0:x.data)!=null&&p.error?l(g.response.data.error):l("Could not start connection process. An unknown error occurred."),r(!1)}},d=async()=>{o(!0);try{await YA(),t()}catch(m){console.error("Error disconnecting:",m),alert("Could not disconnect. See console for details.")}o(!1)},u=!!(e!=null&&e.gmail_connected_email);return n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200",children:[n.jsxs(pe,{children:[n.jsx(xe,{className:"text-[#1E1E1D]",children:"Gmail Connection"}),n.jsx(Mf,{children:"Connect your Gmail account to send emails directly from the app."})]}),n.jsxs(ne,{children:[u?n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(qs,{className:"w-6 h-6 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-green-800",children:"Connected as:"}),n.jsx("p",{className:"text-sm text-green-700",children:e.gmail_connected_email})]})]}),n.jsxs(V,{variant:"destructive",onClick:d,disabled:a,children:[n.jsx(zb,{className:"w-4 h-4 mr-2"}),a?"Disconnecting...":"Disconnect"]})]}):n.jsxs("div",{className:"space-y-4",children:[" ",n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ke,{className:"w-6 h-6 text-gray-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-800",children:"Not Connected"}),n.jsx("p",{className:"text-sm text-gray-600",children:"You are currently using the default email provider."})]})]}),n.jsxs(V,{onClick:c,disabled:s,className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(wt,{className:"w-4 h-4 mr-2"}),s?"Redirecting...":"Connect with Gmail"]})]}),i&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ke,{className:"w-5 h-5 text-red-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-red-800",children:"Configuration Error"}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:i})]})]})})]}),n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border-l-4 border-blue-400 text-blue-800",children:[n.jsxs("p",{className:"text-sm",children:[n.jsx("strong",{children:"Setup Required:"})," To connect Gmail, you need to configure the following environment variables in your app settings:"]}),n.jsxs("ul",{className:"text-sm mt-2 space-y-1 ml-4 list-disc",children:[n.jsxs("li",{children:[n.jsx("code",{children:"GMAIL_CLIENT_ID"})," - Your Google OAuth Client ID"]}),n.jsxs("li",{children:[n.jsx("code",{children:"GMAIL_CLIENT_SECRET"})," - Your Google OAuth Client Secret"]})]}),n.jsxs("p",{className:"text-sm mt-2",children:["Get these credentials from the ",n.jsx("a",{href:"https://console.cloud.google.com/apis/credentials",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Google Cloud Console"}),"."]})]})]})]})}function S0(){const[e,t]=h.useState(null),[s,r]=h.useState(null),[a,o]=h.useState(!0),[i,l]=h.useState(!1),[c,d]=h.useState(!1),u=h.useRef(null),[m,f]=h.useState({company_name:"TechFlow Integration Solutions",company_address:"",company_phone:"",company_email:"",company_logo_url:"",primary_color:"#72FD67",secondary_color:"#1E1E1D",accent_color:"#F2F2F2",dark_mode:!1,email_theme:"light",bank_name:"",account_name:"",bsb:"",account_number:"",paypal_email:"",stripe_link:"",payment_terms:"Payment is due within 30 days of receipt",invoice_footer:"Thank you for your business!"}),[y,x]=h.useState(!1),p=hr(),g=Ws(),w=new URLSearchParams(p.search).get("tab")||"company";h.useEffect(()=>{b()},[]);const b=async()=>{o(!0);try{const j=await _e.me();if(t(j),j.access_level!=="admin"){o(!1);return}const E=await Ge.list();E.length>0&&(r(E[0]),f(B=>({...B,...E[0]})))}catch(j){console.error("Error loading settings:",j)}o(!1)},S=()=>{b()},_=async()=>{l(!0);try{s?await Ge.update(s.id,m):await Ge.create(m),b()}catch(j){console.error("Error saving settings:",j)}l(!1)},P=(j,E)=>{f(B=>({...B,[j]:E}))},k=async j=>{d(!0);try{const{file_url:E}=await ur({file:j});f(B=>({...B,company_logo_url:E}))}catch(E){console.error("Error uploading logo:",E),alert("Failed to upload logo. Please try again.")}d(!1)};return a?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-slate-200 rounded w-64"}),n.jsx("div",{className:"grid gap-6",children:n.jsx("div",{className:"h-96 bg-slate-200 rounded-xl"})})]})}):(e==null?void 0:e.access_level)!=="admin"?n.jsx("div",{className:"p-8 text-center",children:n.jsxs("div",{className:"text-slate-500",children:[n.jsx(ul,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Access denied. Settings are only available to admin users."})]})}):n.jsxs("div",{className:"p-4 md:p-8 bg-gradient-to-br from-[#F2F2F2] to-gray-100 min-h-screen",children:[n.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
          * {
            font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;
          }
        `}),n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-[#1E1E1D] mb-2",children:"Settings"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Manage company settings and branding"})]}),n.jsxs("div",{className:"flex gap-3",children:[" ",n.jsxs(V,{onClick:()=>x(!0),variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[n.jsx(da,{className:"w-4 h-4 mr-2"}),"View as User"]}),n.jsxs(V,{onClick:_,disabled:i,className:"bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:[n.jsx(Wm,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save Changes"]})]})]}),n.jsxs(ho,{defaultValue:w,onValueChange:j=>g(`/Settings?tab=${j}`),className:"space-y-6",children:[n.jsxs(Rr,{className:"bg-white/90 backdrop-blur-sm border-gray-200",children:[n.jsxs(Ze,{value:"company",className:"flex items-center gap-2",children:[n.jsx(Um,{className:"w-4 h-4"}),"Company"]}),n.jsxs(Ze,{value:"branding",className:"flex items-center gap-2",children:[n.jsx(Rb,{className:"w-4 h-4"}),"Branding"]}),n.jsxs(Ze,{value:"payments",className:"flex items-center gap-2",children:[n.jsx(sb,{className:"w-4 h-4"}),"Payment Details"]}),n.jsxs(Ze,{value:"connections",className:"flex items-center gap-2",children:[n.jsx(bb,{className:"w-4 h-4"}),"Connections"]}),n.jsxs(Ze,{value:"admin",className:"flex items-center gap-2",children:[n.jsx(da,{className:"w-4 h-4"}),"Admin Tools"]})]}),n.jsx(It,{value:"company",children:n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200",children:[n.jsx(pe,{children:n.jsx(xe,{className:"text-[#1E1E1D]",children:"Company Information"})}),n.jsxs(ne,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"company_name",children:"Company Name"}),n.jsx(q,{id:"company_name",value:m.company_name,onChange:j=>P("company_name",j.target.value),className:"font-medium"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"company_email",children:"Company Email"}),n.jsx(q,{id:"company_email",type:"email",value:m.company_email,onChange:j=>P("company_email",j.target.value)})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"company_address",children:"Company Address"}),n.jsx(Ye,{id:"company_address",value:m.company_address,onChange:j=>P("company_address",j.target.value),placeholder:"123 Business St, City, State 12345",rows:3})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"company_phone",children:"Phone Number"}),n.jsx(q,{id:"company_phone",value:m.company_phone,onChange:j=>P("company_phone",j.target.value),placeholder:"(555) 123-4567"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"payment_terms",children:"Payment Terms"}),n.jsx(Ye,{id:"payment_terms",value:m.payment_terms,onChange:j=>P("payment_terms",j.target.value),rows:2})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"invoice_footer",children:"Invoice Footer"}),n.jsx(Ye,{id:"invoice_footer",value:m.invoice_footer,onChange:j=>P("invoice_footer",j.target.value),rows:2})]})]})]})}),n.jsx(It,{value:"branding",children:n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200",children:[n.jsx(pe,{children:n.jsx(xe,{className:"text-[#1E1E1D]",children:"Brand Identity"})}),n.jsxs(ne,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx(z,{className:"text-base font-semibold",children:"Company Logo"}),n.jsxs("div",{className:"mt-2 space-y-4",children:[m.company_logo_url&&n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[n.jsx("img",{src:m.company_logo_url,alt:"Company Logo",className:"h-16 w-16 object-contain bg-white rounded border"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Current Logo"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Upload a new logo to replace this one"})]})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx(V,{type:"button",variant:"outline",onClick:()=>{var j;return(j=u.current)==null?void 0:j.click()},disabled:c,className:"mb-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-gray-300 border-t-gray-600 mr-2"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(jn,{className:"w-4 h-4 mr-2"}),"Upload Logo"]})}),n.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG, or SVG. Max 2MB. Square format recommended."})]}),n.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:j=>{const E=j.target.files[0];E&&k(E)},className:"hidden"})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1E1E1D] mb-4",children:"Theme Settings"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-[#1E1E1D]",children:"Dark Mode"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Enable dark theme across the app"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:m.dark_mode,onChange:j=>P("dark_mode",j.target.checked),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#72FD67]"})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1E1E1D] mb-4",children:"Email Theme Selection"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Choose how your invoices and proposals appear to clients"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(z,{className:"text-base font-medium",children:"Light Theme"}),n.jsx("input",{type:"radio",name:"email_theme",value:"light",checked:m.email_theme==="light",onChange:()=>P("email_theme","light"),className:"w-4 h-4 text-[#72FD67] border-gray-300 focus:ring-[#72FD67]"})]}),n.jsx("div",{className:"border-2 rounded-lg overflow-hidden shadow-sm",style:{borderColor:m.email_theme==="light"?m.primary_color:"#e5e7eb"},children:n.jsxs("div",{className:"h-80 p-4 text-xs",style:{background:"linear-gradient(135deg, #1E1E1D 0%, #444 100%)",color:"white"},children:[n.jsxs("div",{className:"text-center mb-3",children:[m.company_logo_url?n.jsx("div",{className:"w-8 h-8 mx-auto mb-2 flex items-center justify-center",children:n.jsx("img",{src:m.company_logo_url,alt:"Logo",className:"max-w-full max-h-full object-contain"})}):n.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded flex items-center justify-center",style:{backgroundColor:m.primary_color},children:n.jsx("span",{style:{color:m.secondary_color},children:"⚡"})}),n.jsx("div",{className:"font-bold text-sm",children:m.company_name}),n.jsx("div",{className:"text-xs opacity-75",children:"Business Portal"})]}),n.jsxs("div",{className:"bg-white text-gray-900 p-4 rounded mb-2",children:[n.jsxs("div",{className:"text-center mb-3",children:[n.jsx("div",{className:"font-bold text-base mb-1",style:{color:m.primary_color},children:"PROPOSAL"}),n.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"System Integration Project"})]}),n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"font-medium",children:"Client:"}),n.jsx("span",{className:"text-gray-600",children:"Acme Corporation"})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"font-medium",children:"Timeline:"}),n.jsx("span",{className:"text-gray-600",children:"8-12 weeks"})]})]}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded mb-3",children:[n.jsx("div",{className:"text-xs font-medium mb-1",children:"Project Overview"}),n.jsx("div",{className:"text-xs text-gray-600 leading-relaxed",children:"Comprehensive system integration to streamline business operations and enhance productivity..."})]}),n.jsx("div",{className:"text-center p-3 rounded text-sm font-bold",style:{background:`linear-gradient(135deg, ${m.primary_color}, #5DE055)`,color:m.secondary_color},children:"Investment: $25,000"}),n.jsx("div",{className:"text-center mt-3",children:n.jsx("div",{className:"inline-block px-4 py-2 rounded text-xs font-semibold text-white",style:{backgroundColor:m.primary_color},children:"Accept Proposal"})})]})]})}),n.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Clean, professional look with white content cards"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(z,{className:"text-base font-medium",children:"Dark Theme"}),n.jsx("input",{type:"radio",name:"email_theme",value:"dark",checked:m.email_theme==="dark",onChange:()=>P("email_theme","dark"),className:"w-4 h-4 text-[#72FD67] border-gray-300 focus:ring-[#72FD67]"})]}),n.jsx("div",{className:"border-2 rounded-lg overflow-hidden shadow-sm",style:{borderColor:m.email_theme==="dark"?m.primary_color:"#e5e7eb"},children:n.jsxs("div",{className:"h-80 p-4 text-xs bg-gray-900",children:[n.jsxs("div",{className:"text-center mb-3",children:[m.company_logo_url?n.jsx("div",{className:"w-8 h-8 mx-auto mb-2 flex items-center justify-center",children:n.jsx("img",{src:m.company_logo_url,alt:"Logo",className:"max-w-full max-h-full object-contain"})}):n.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded flex items-center justify-center",style:{backgroundColor:m.primary_color},children:n.jsx("span",{style:{color:m.secondary_color},children:"⚡"})}),n.jsx("div",{className:"font-bold text-sm text-white",children:m.company_name}),n.jsx("div",{className:"text-xs text-gray-400",children:"Business Portal"})]}),n.jsxs("div",{className:"bg-gray-800 text-white p-4 rounded mb-2 border border-gray-700",children:[n.jsxs("div",{className:"text-center mb-3",children:[n.jsx("div",{className:"font-bold text-base mb-1",style:{color:m.primary_color},children:"PROPOSAL"}),n.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"System Integration Project"})]}),n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"font-medium text-white",children:"Client:"}),n.jsx("span",{className:"text-gray-300",children:"Acme Corporation"})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"font-medium text-white",children:"Timeline:"}),n.jsx("span",{className:"text-gray-300",children:"8-12 weeks"})]})]}),n.jsxs("div",{className:"bg-gray-700 p-3 rounded mb-3",children:[n.jsx("div",{className:"text-xs font-medium mb-1 text-white",children:"Project Overview"}),n.jsx("div",{className:"text-xs text-gray-300 leading-relaxed",children:"Comprehensive system integration to streamline business operations and enhance productivity..."})]}),n.jsx("div",{className:"text-center p-3 rounded text-sm font-bold",style:{background:`linear-gradient(135deg, ${m.primary_color}, #5DE055)`,color:m.secondary_color},children:"Investment: $25,000"}),n.jsx("div",{className:"text-center mt-3",children:n.jsx("div",{className:"inline-block px-4 py-2 rounded text-xs font-semibold text-white",style:{backgroundColor:m.primary_color},children:"Accept Proposal"})})]})]})}),n.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Modern dark theme with high contrast"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(z,{className:"text-base font-medium",children:"Contrast Theme"}),n.jsx("input",{type:"radio",name:"email_theme",value:"contrast",checked:m.email_theme==="contrast",onChange:()=>P("email_theme","contrast"),className:"w-4 h-4 text-[#72FD67] border-gray-300 focus:ring-[#72FD67]"})]}),n.jsx("div",{className:"border-2 rounded-lg overflow-hidden shadow-sm",style:{borderColor:m.email_theme==="contrast"?m.primary_color:"#e5e7eb"},children:n.jsxs("div",{className:"h-80 p-4 text-xs bg-white",children:[n.jsxs("div",{className:"text-center mb-3 text-gray-900",children:[m.company_logo_url?n.jsx("div",{className:"w-8 h-8 mx-auto mb-2 flex items-center justify-center",children:n.jsx("img",{src:m.company_logo_url,alt:"Logo",className:"max-w-full max-h-full object-contain"})}):n.jsx("div",{className:"w-8 h-8 mx-auto mb-2 rounded flex items-center justify-center",style:{backgroundColor:m.primary_color},children:n.jsx("span",{style:{color:m.secondary_color},children:"⚡"})}),n.jsx("div",{className:"font-bold text-sm",children:m.company_name}),n.jsx("div",{className:"text-xs text-gray-600",children:"Business Portal"})]}),n.jsxs("div",{className:"bg-gray-900 text-white p-4 rounded mb-2 border border-gray-300",children:[n.jsxs("div",{className:"text-center mb-3",children:[n.jsx("div",{className:"font-bold text-base mb-1",style:{color:m.primary_color},children:"PROPOSAL"}),n.jsx("div",{className:"text-xs text-gray-300 mb-2",children:"System Integration Project"})]}),n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"font-medium text-white",children:"Client:"}),n.jsx("span",{className:"text-gray-300",children:"Acme Corporation"})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"font-medium text-white",children:"Timeline:"}),n.jsx("span",{className:"text-gray-300",children:"8-12 weeks"})]})]}),n.jsxs("div",{className:"bg-gray-800 p-3 rounded mb-3",children:[n.jsx("div",{className:"text-xs font-medium mb-1 text-white",children:"Project Overview"}),n.jsx("div",{className:"text-xs text-gray-300 leading-relaxed",children:"Comprehensive system integration to streamline business operations and enhance productivity..."})]}),n.jsx("div",{className:"text-center p-3 rounded text-sm font-bold",style:{background:`linear-gradient(135deg, ${m.primary_color}, #5DE055)`,color:m.secondary_color},children:"Investment: $25,000"}),n.jsx("div",{className:"text-center mt-3",children:n.jsx("div",{className:"inline-block px-4 py-2 rounded text-xs font-semibold text-white",style:{backgroundColor:m.primary_color},children:"Accept Proposal"})})]})]})}),n.jsx("div",{className:"text-xs text-gray-500 text-center",children:"White background with bold dark content cards"})]})]}),n.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"text-blue-600 mt-0.5",children:"ℹ️"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Email Theme Preview"}),n.jsx("p",{children:"Choose from three distinctive email themes for your proposals and invoices. All themes use your brand colors and maintain excellent readability for professional client communications."})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1E1E1D] mb-4",children:"Brand Colors"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"primary_color",children:"Primary Color"}),n.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[n.jsx(q,{id:"primary_color",type:"color",value:m.primary_color,onChange:j=>P("primary_color",j.target.value),className:"w-12 h-12 p-1 border-2"}),n.jsx(q,{value:m.primary_color,onChange:j=>P("primary_color",j.target.value),placeholder:"#72FD67"})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"secondary_color",children:"Secondary Color"}),n.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[n.jsx(q,{id:"secondary_color",type:"color",value:m.secondary_color,onChange:j=>P("secondary_color",j.target.value),className:"w-12 h-12 p-1 border-2"}),n.jsx(q,{value:m.secondary_color,onChange:j=>P("secondary_color",j.target.value),placeholder:"#1E1E1D"})]})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"accent_color",children:"Accent Color"}),n.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[n.jsx(q,{id:"accent_color",type:"color",value:m.accent_color,onChange:j=>P("accent_color",j.target.value),className:"w-12 h-12 p-1 border-2"}),n.jsx(q,{value:m.accent_color,onChange:j=>P("accent_color",j.target.value),placeholder:"#F2F2F2"})]})]})]})]})]})]})}),n.jsx(It,{value:"payments",children:n.jsxs(Z,{className:"bg-white/90 backdrop-blur-sm border-gray-200",children:[n.jsx(pe,{children:n.jsx(xe,{className:"text-[#1E1E1D]",children:"Payment Methods"})}),n.jsxs(ne,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1E1E1D] mb-4",children:"Bank Transfer"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"bank_name",children:"Bank Name"}),n.jsx(q,{id:"bank_name",value:m.bank_name,onChange:j=>P("bank_name",j.target.value),placeholder:"e.g. Commonwealth Bank"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"account_name",children:"Account Name"}),n.jsx(q,{id:"account_name",value:m.account_name,onChange:j=>P("account_name",j.target.value),placeholder:"e.g. John Smith"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"bsb",children:"BSB"}),n.jsx(q,{id:"bsb",value:m.bsb,onChange:j=>P("bsb",j.target.value),placeholder:"e.g. 062-000"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"account_number",children:"Account Number"}),n.jsx(q,{id:"account_number",value:m.account_number,onChange:j=>P("account_number",j.target.value),placeholder:"e.g. 1234 5678"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-[#1E1E1D] mb-4",children:"Online Payments"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"paypal_email",children:"PayPal Email"}),n.jsx(q,{id:"paypal_email",type:"email",value:m.paypal_email,onChange:j=>P("paypal_email",j.target.value),placeholder:"payments@techflow.com"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"stripe_link",children:"Stripe Payment Link"}),n.jsx(q,{id:"stripe_link",value:m.stripe_link,onChange:j=>P("stripe_link",j.target.value),placeholder:"https://buy.stripe.com/..."})]})]})]})]})]})}),n.jsx(It,{value:"connections",children:n.jsx(j5,{settings:s,onDisconnect:S})}),n.jsx(It,{value:"admin",children:n.jsx(b5,{})})]})]}),y&&n.jsx(w5,{open:y,onClose:()=>x(!1)})]})}function N5({client:e,onInvite:t,isInviting:s,projects:r=[],proposals:a=[]}){const[o,i]=Zt.useState(!1),l=r.filter(u=>u.status==="active").length;r.filter(u=>u.status==="completed").length;const c=a.filter(u=>u.status==="sent").length,d=async()=>{const u=`Hi ${e.name},

You've been invited to access the client portal for Nex-a Portal.

This will allow you to view your project progress, track tasks, and request new projects directly.

To get started, please click the link below to sign in or create your account using this email address (${e.email}):

${window.location.origin}

Once you sign in, your account will be automatically set up and linked to your client profile.

Best regards,
The Nex-a Portal Team`;try{await navigator.clipboard.writeText(u),i(!0),setTimeout(()=>i(!1),2e3)}catch(m){console.error("Failed to copy invitation text:",m)}};return n.jsxs(Z,{className:"bg-white/80 backdrop-blur-sm border-gray-200 shadow-lg hover:shadow-xl transition-shadow flex flex-col justify-between",children:[n.jsx(pe,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(xe,{className:"text-[#1E1E1D]",children:e.name}),e.company&&n.jsx("p",{className:"text-sm text-gray-500 font-medium",children:e.company})]}),n.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[!e.user_id&&n.jsx(je,{variant:"outline",className:"text-xs",children:"Not a User"}),e.user_id&&n.jsx(je,{className:"bg-emerald-100 text-emerald-800 border-emerald-200 text-xs",children:"User Access"})]})]})}),n.jsxs(ne,{className:"space-y-3 text-sm flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[n.jsx(wt,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:e.email})]}),e.phone&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[n.jsx(hn,{className:"w-4 h-4 flex-shrink-0"}),n.jsx("span",{children:e.phone})]}),e.billing_address&&n.jsxs("div",{className:"flex items-start gap-3 text-gray-600",children:[n.jsx(zm,{className:"w-4 h-4 flex-shrink-0 mt-1"}),n.jsx("span",{className:"whitespace-pre-wrap",children:e.billing_address})]}),n.jsx("div",{className:"pt-3 border-t border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[n.jsx(Zn,{className:"w-3 h-3 text-blue-600"}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Projects"})]}),n.jsx("div",{className:"text-lg font-bold text-[#1E1E1D]",children:r.length}),l>0&&n.jsxs("div",{className:"text-xs text-green-600",children:[l," active"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[n.jsx(ze,{className:"w-3 h-3 text-amber-600"}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Proposals"})]}),n.jsx("div",{className:"text-lg font-bold text-[#1E1E1D]",children:a.length}),c>0&&n.jsxs("div",{className:"text-xs text-amber-600",children:[c," pending"]})]})]})})]}),n.jsx(Of,{children:!e.user_id&&n.jsx(V,{size:"sm",className:"w-full",variant:"outline",onClick:d,children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ls,{className:"w-4 h-4 mr-2 text-green-600"}),"Copied!"]}):n.jsxs(n.Fragment,{children:[n.jsx(eb,{className:"w-4 h-4 mr-2"}),"Copy Invite Text"]})})})]})}function C0(){const[e,t]=h.useState(null),[s,r]=h.useState([]),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,d]=h.useState(""),[u,m]=h.useState(!0),[f,y]=h.useState(!1);h.useEffect(()=>{x()},[]);const x=async()=>{m(!0);try{const[b,S,_,P]=await Promise.all([_e.me(),bt.list("-created_date"),Oe.list("-created_date"),St.list("-created_date")]);t(b),r(S),o(_),l(P)}catch(b){console.error("Error loading data:",b)}m(!1)},p=()=>{y(!1),x()},g=b=>a.filter(S=>S.client_id===b),v=b=>i.filter(S=>S.client_id===b),w=s.filter(b=>{var S;return b.name.toLowerCase().includes(c.toLowerCase())||((S=b.company)==null?void 0:S.toLowerCase().includes(c.toLowerCase()))||b.email.toLowerCase().includes(c.toLowerCase())});return u?n.jsx("div",{className:"p-8",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-slate-200 rounded w-64"}),n.jsx("div",{className:"h-10 bg-slate-200 rounded w-full"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(3).fill(0).map((b,S)=>n.jsx("div",{className:"h-48 bg-slate-200 rounded-xl"},S))})]})}):(e==null?void 0:e.access_level)==="client"?n.jsx("div",{className:"p-8 text-center",children:n.jsxs("div",{className:"text-slate-500",children:[n.jsx(Ms,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Access Denied."})]})}):n.jsx("div",{className:"p-4 md:p-8 bg-gradient-to-br from-[#F2F2F2] to-gray-100 min-h-screen",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-[#1E1E1D] mb-2",children:"Clients"}),n.jsx("p",{className:"text-gray-600 font-medium",children:"Manage your business clients and their projects"})]}),n.jsxs(V,{onClick:()=>y(!0),className:"bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold shadow-lg",children:[n.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Add New Client"]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),n.jsx(q,{placeholder:"Search clients by name, company, or email...",value:c,onChange:b=>d(b.target.value),className:"pl-10 bg-white/80 backdrop-blur-sm border-gray-200 font-medium"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(b=>n.jsx(N5,{client:b,projects:g(b.id),proposals:v(b.id)},b.id))}),w.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Ms,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{className:"font-medium",children:"No clients found"})]}),f&&n.jsx(yx,{onClose:()=>y(!1),onClientAdded:p})]})})}function k0(){const[e,t]=h.useState(null),[s,r]=h.useState(null),[a,o]=h.useState(!0),i=hr();h.useEffect(()=>{(async()=>{try{const y=new URLSearchParams(i.search).get("proposalId");if(y){const[x,p]=await Promise.all([St.get(y),Ge.list()]);t(x),r(p.length>0?p[0]:null)}}catch(f){console.error("Error fetching data:",f)}o(!1)})()},[i.search]);const l=(s==null?void 0:s.primary_color)||"#72FD67",c=(s==null?void 0:s.secondary_color)||"#1E1E1D",d=s==null?void 0:s.company_logo_url,u=(s==null?void 0:s.company_name)||"Nex-a Tech Solutions";return a?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):e?n.jsxs("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:[n.jsx("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
          * {
            font-family: 'Bricolage Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;
          }
        `}),n.jsxs("div",{className:"w-full max-w-2xl mx-auto text-center",children:[d?n.jsx("img",{src:d,alt:u,className:"max-w-[200px] max-h-24 object-contain mx-auto mb-8"}):n.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-2xl flex items-center justify-center shadow-2xl mb-8 mx-auto",children:n.jsx("span",{className:"text-3xl font-bold",style:{color:l},children:"⚡"})}),n.jsxs("div",{className:"bg-white p-8 sm:p-12 rounded-2xl shadow-xl",children:[n.jsx(qs,{className:"w-16 h-16 mx-auto mb-6",style:{color:l}}),n.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:"Thank You!"}),n.jsx("p",{className:"text-lg text-gray-600 mt-4",children:"We've received your acceptance for the proposal:"}),n.jsxs("p",{className:"text-xl font-semibold mt-2 text-gray-800",children:['"',e.title,'"']}),n.jsx("div",{className:"my-8 h-px bg-gray-200"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"What Happens Next?"}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row items-center justify-center gap-6 text-left",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:l},children:n.jsx(wt,{className:"w-6 h-6",style:{color:c}})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900",children:"Initial Invoice Sent"}),n.jsxs("p",{className:"text-gray-600",children:["The invoice for the project deposit has been sent to ",n.jsx("strong",{className:"text-gray-800",children:e.client_email}),". Once paid, we'll kick off the project."]})]})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-8",children:"If you have any questions, please don't hesitate to reach out. We're excited to get started!"})]})]})]}):n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 text-center p-4",children:[n.jsx(ze,{className:"w-16 h-16 text-gray-400 mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Proposal Not Found"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"We couldn't find the proposal details. Please check the link or contact us."})]})}function _5(){const[e]=fm(),t=Ws(),[s,r]=h.useState(null),[a,o]=h.useState({username:"",email:"",password:"",password_confirm:""}),[i,l]=h.useState(!0),[c,d]=h.useState(!1),[u,m]=h.useState(""),[f,y]=h.useState("");h.useEffect(()=>{const p=e.get("email");if(!p){m("Invalid invitation link. Email parameter is missing."),l(!1);return}(async()=>{try{const v=await hi.validate(p);if(!v.valid){m(v.error||"Invalid or expired invitation. Please contact your administrator."),l(!1);return}const w=v.invitation;r(w),o(b=>({...b,email:w.email,username:w.email})),l(!1)}catch(v){console.error("Error fetching invitation:",v),m(v.message||"Failed to load invitation details. Please try again."),l(!1)}})()},[e]);const x=async p=>{p.preventDefault(),d(!0),m(""),y("");try{const g={username:a.username,email:a.email,password:a.password,password_confirm:a.password_confirm,full_name:s.full_name,role:s.role,phone:s.phone,specialization:s.specialization,hourly_rate:s.hourly_rate,access_level:s.role,from_invitation:!0};await dt.register(g),await hi.updateStatus(a.email,"accepted"),y("Account created successfully! Redirecting to login..."),setTimeout(()=>{t("/login",{state:{message:"Account created successfully! Please log in with your credentials.",email:a.email}})},2e3)}catch(g){console.error("Registration error:",g),m(g.message||"Registration failed. Please try again.")}d(!1)};return i?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#72FD67] mx-auto"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Loading invitation..."})]})}):u&&!s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(Z,{className:"w-full max-w-md",children:n.jsxs(ne,{className:"pt-6",children:[n.jsxs($e,{variant:"destructive",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:u})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx(V,{onClick:()=>t("/"),variant:"outline",children:"Go to Home"})})]})})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsxs(pe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center mb-4",children:n.jsx(yr,{className:"w-6 h-6 text-[#1E1E1D]"})}),n.jsx(xe,{className:"text-2xl font-bold",children:"Complete Your Registration"}),s&&n.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome ",s.full_name,"! You've been invited to join as ",s.role,"."]})]}),n.jsxs(ne,{children:[u&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:u})]}),f&&n.jsxs($e,{className:"border-green-200 bg-green-50 text-green-800 mb-4",children:[n.jsx(qs,{className:"h-4 w-4"}),n.jsx(Ve,{children:f})]}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"email",className:"flex items-center gap-2",children:[n.jsx(wt,{className:"w-4 h-4"}),"Email Address"]}),n.jsx(q,{id:"email",type:"email",value:a.email,disabled:!0,className:"bg-gray-100"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This email was pre-assigned in your invitation"})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"username",className:"flex items-center gap-2",children:[n.jsx(es,{className:"w-4 h-4"}),"Username"]}),n.jsx(q,{id:"username",value:a.username,onChange:p=>o({...a,username:p.target.value}),placeholder:"Choose a username",required:!0})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"password",className:"flex items-center gap-2",children:[n.jsx(Qn,{className:"w-4 h-4"}),"Password"]}),n.jsx(q,{id:"password",type:"password",value:a.password,onChange:p=>o({...a,password:p.target.value}),placeholder:"Create a secure password",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"password_confirm",children:"Confirm Password"}),n.jsx(q,{id:"password_confirm",type:"password",value:a.password_confirm,onChange:p=>o({...a,password_confirm:p.target.value}),placeholder:"Confirm your password",required:!0})]}),s&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:"Your Role & Details:"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Role:"})," ",s.role]}),s.specialization&&n.jsxs("p",{children:[n.jsx("strong",{children:"Specialization:"})," ",s.specialization]}),s.hourly_rate&&n.jsxs("p",{children:[n.jsx("strong",{children:"Hourly Rate:"})," $",s.hourly_rate]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can update additional details in your profile after logging in."})]}),n.jsx(V,{type:"submit",disabled:c,className:"w-full bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:c?"Creating Account...":"Create Account"})]})]})]})})}function S5(){const e=Ws(),[t,s]=h.useState({username:"",email:"",password:"",password_confirm:"",full_name:"",role:"staff",phone:"",specialization:"",hourly_rate:"",access_level:"staff",access_code:""}),[r,a]=h.useState(!1),[o,i]=h.useState(""),[l,c]=h.useState(""),d="nex-a25AutoLab",u=async f=>{if(f.preventDefault(),a(!0),i(""),c(""),t.access_code!==d){i("Invalid access code. Please contact your administrator for the correct access code."),a(!1);return}if(t.password!==t.password_confirm){i("Passwords don't match"),a(!1);return}try{const y={username:t.username,email:t.email,password:t.password,password_confirm:t.password_confirm,full_name:t.full_name,role:t.role,phone:t.phone,specialization:t.specialization,hourly_rate:t.hourly_rate?parseFloat(t.hourly_rate):null,access_level:t.role,from_invitation:!1};await dt.register(y),localStorage.removeItem("token"),localStorage.removeItem("auth_token"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),c("Account created successfully! Redirecting to login..."),setTimeout(()=>{e("/login",{state:{message:"Account created successfully! Please log in with your credentials.",email:t.email}})},2e3)}catch(y){console.error("Registration error:",y),i(y.message||"Registration failed. Please try again.")}a(!1)},m=(f,y)=>{s(x=>({...x,[f]:y}))};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-lg",children:[n.jsxs(pe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center mb-4",children:n.jsx(yr,{className:"w-6 h-6 text-[#1E1E1D]"})}),n.jsx(xe,{className:"text-2xl font-bold",children:"Create Your Account"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Join our platform and get started today!"})]}),n.jsxs(ne,{children:[o&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:o})]}),l&&n.jsxs($e,{className:"border-green-200 bg-green-50 text-green-800 mb-4",children:[n.jsx(qs,{className:"h-4 w-4"}),n.jsx(Ve,{children:l})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"access_code",className:"flex items-center gap-2",children:[n.jsx(da,{className:"w-4 h-4"}),"Access Code"]}),n.jsx(q,{id:"access_code",type:"password",value:t.access_code,onChange:f=>m("access_code",f.target.value),placeholder:"Enter the required access code",required:!0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contact your administrator if you don't have the access code."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"full_name",className:"flex items-center gap-2",children:[n.jsx(es,{className:"w-4 h-4"}),"Full Name"]}),n.jsx(q,{id:"full_name",value:t.full_name,onChange:f=>m("full_name",f.target.value),placeholder:"Enter your full name"})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"username",className:"flex items-center gap-2",children:[n.jsx(es,{className:"w-4 h-4"}),"Username"]}),n.jsx(q,{id:"username",value:t.username,onChange:f=>m("username",f.target.value),placeholder:"Choose a username",required:!0})]})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"email",className:"flex items-center gap-2",children:[n.jsx(wt,{className:"w-4 h-4"}),"Email Address"]}),n.jsx(q,{id:"email",type:"email",value:t.email,onChange:f=>m("email",f.target.value),placeholder:"Enter your email address",required:!0})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"phone",className:"flex items-center gap-2",children:[n.jsx(hn,{className:"w-4 h-4"}),"Phone Number"]}),n.jsx(q,{id:"phone",type:"tel",value:t.phone,onChange:f=>m("phone",f.target.value),placeholder:"Enter your phone number"})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"role",className:"flex items-center gap-2",children:[n.jsx(Bm,{className:"w-4 h-4"}),"Role"]}),n.jsxs(Se,{value:t.role,onValueChange:f=>m("role",f),children:[n.jsx(be,{children:n.jsx(Ce,{placeholder:"Select your role"})}),n.jsxs(we,{children:[n.jsx(X,{value:"staff",children:"Staff"}),n.jsx(X,{value:"manager",children:"Manager"}),n.jsx(X,{value:"admin",children:"Admin"}),n.jsx(X,{value:"contractor",children:"Contractor"}),n.jsx(X,{value:"consultant",children:"Consultant"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"specialization",children:"Specialization"}),n.jsx(q,{id:"specialization",value:t.specialization,onChange:f=>m("specialization",f.target.value),placeholder:"Your area of expertise"})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"hourly_rate",className:"flex items-center gap-2",children:[n.jsx(jt,{className:"w-4 h-4"}),"Hourly Rate"]}),n.jsx(q,{id:"hourly_rate",type:"number",step:"0.01",min:"0",value:t.hourly_rate,onChange:f=>m("hourly_rate",f.target.value),placeholder:"0.00"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"password",className:"flex items-center gap-2",children:[n.jsx(Qn,{className:"w-4 h-4"}),"Password"]}),n.jsx(q,{id:"password",type:"password",value:t.password,onChange:f=>m("password",f.target.value),placeholder:"Create a secure password",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"password_confirm",children:"Confirm Password"}),n.jsx(q,{id:"password_confirm",type:"password",value:t.password_confirm,onChange:f=>m("password_confirm",f.target.value),placeholder:"Confirm your password",required:!0})]})]}),n.jsx(V,{type:"submit",disabled:r,className:"w-full bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:r?"Creating Account...":"Create Account"}),n.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Already have an account?"," ",n.jsx("button",{type:"button",onClick:()=>e("/login"),className:"text-[#72FD67] hover:underline font-medium",children:"Sign in here"})]})]})]})]})})}function C5(){var p;const[e]=fm(),t=Ws(),[s,r]=h.useState(null),[a,o]=h.useState({username:"",email:"",password:"",password_confirm:"",full_name:"",company:"",phone:""}),[i,l]=h.useState(!0),[c,d]=h.useState(!1),[u,m]=h.useState(""),[f,y]=h.useState("");h.useEffect(()=>{const g=e.get("proposalId"),v=e.get("email");if(!g||!v){m("Invalid proposal link. Required parameters are missing."),l(!1);return}(async()=>{try{const b=await mi.validate(g,v);if(!b.valid){m(b.error||"Invalid proposal or email address."),l(!1);return}r(b.proposal),o(S=>({...S,email:b.proposal.client_email,username:b.proposal.client_email,full_name:b.proposal.client_name||""})),l(!1)}catch(b){console.error("Error fetching proposal:",b);let S="Failed to load proposal details. Please try again.";b.response?(console.error("Proposal fetch error response:",b.response.data),console.error("Proposal fetch error status:",b.response.status),b.response.data&&(typeof b.response.data=="string"?S=b.response.data:b.response.data.error?S=b.response.data.error:b.response.data.detail?S=b.response.data.detail:b.response.data.message&&(S=b.response.data.message))):b.message&&(S=b.message),m(S),l(!1)}})()},[e]);const x=async g=>{g.preventDefault(),d(!0),m(""),y("");try{const v={username:a.username,email:a.email,password:a.password,password_confirm:a.password_confirm,full_name:a.full_name,company:a.company,phone:a.phone,role:"client",access_level:"client",from_proposal:!0};await dt.register(v),await mi.accept(s.id,a.email),y("Account created and proposal accepted successfully! Redirecting to login..."),setTimeout(()=>{t("/login",{state:{message:"Account created successfully! Your proposal has been accepted. Please log in to view your project details.",email:a.email}})},2e3)}catch(v){console.error("Registration/acceptance error:",v);let w="Registration failed. Please try again.";if(v.response){if(console.error("Error response data:",v.response.data),console.error("Error status:",v.response.status),console.error("Error headers:",v.response.headers),v.response.data)if(typeof v.response.data=="string")w=v.response.data;else if(v.response.data.error)w=v.response.data.error;else if(v.response.data.detail)w=v.response.data.detail;else if(v.response.data.message)w=v.response.data.message;else{const b=[];for(const[S,_]of Object.entries(v.response.data))Array.isArray(_)?b.push(`${S}: ${_.join(", ")}`):typeof _=="string"&&b.push(`${S}: ${_}`);b.length>0&&(w=b.join("; "))}}else v.request?w="Network error. Please check your connection and try again.":v.message&&(w=v.message);m(w)}d(!1)};return i?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#72FD67] mx-auto"}),n.jsx("p",{className:"mt-2 text-gray-600",children:"Loading proposal..."})]})}):u&&!s?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(Z,{className:"w-full max-w-md",children:n.jsxs(ne,{className:"pt-6",children:[n.jsxs($e,{variant:"destructive",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:u})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsx(V,{onClick:()=>t("/"),variant:"outline",children:"Go to Home"})})]})})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-2xl",children:[n.jsxs(pe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center mb-4",children:n.jsx(ze,{className:"w-6 h-6 text-[#1E1E1D]"})}),n.jsx(xe,{className:"text-2xl font-bold",children:"Accept Proposal & Create Account"}),s&&n.jsx("p",{className:"text-gray-600 mt-2",children:"Create your account to accept this proposal and start your project."})]}),n.jsxs(ne,{children:[u&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:u})]}),f&&n.jsxs($e,{className:"border-green-200 bg-green-50 text-green-800 mb-4",children:[n.jsx(qs,{className:"h-4 w-4"}),n.jsx(Ve,{children:f})]}),s&&n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[n.jsxs("h4",{className:"font-medium text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx(ze,{className:"w-4 h-4"}),"Proposal Summary"]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Project:"})," ",s.title]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Type:"})," ",s.project_type]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Timeline:"})," ",s.timeline||"To be determined"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(jt,{className:"w-4 h-4"}),n.jsx("strong",{children:"Investment:"})," $",(p=s.total_fee)==null?void 0:p.toLocaleString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Description:"})," ",s.description]})]})]}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"full_name",className:"flex items-center gap-2",children:[n.jsx(es,{className:"w-4 h-4"}),"Full Name"]}),n.jsx(q,{id:"full_name",value:a.full_name,onChange:g=>o({...a,full_name:g.target.value}),placeholder:"Your full name",required:!0})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"email",className:"flex items-center gap-2",children:[n.jsx(wt,{className:"w-4 h-4"}),"Email Address"]}),n.jsx(q,{id:"email",type:"email",value:a.email,disabled:!0,className:"bg-gray-100"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This email was pre-assigned from the proposal"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"company",children:"Company (Optional)"}),n.jsx(q,{id:"company",value:a.company,onChange:g=>o({...a,company:g.target.value}),placeholder:"Your company name"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"phone",children:"Phone (Optional)"}),n.jsx(q,{id:"phone",value:a.phone,onChange:g=>o({...a,phone:g.target.value}),placeholder:"Your phone number"})]})]}),n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"username",className:"flex items-center gap-2",children:[n.jsx(es,{className:"w-4 h-4"}),"Username"]}),n.jsx(q,{id:"username",value:a.username,onChange:g=>o({...a,username:g.target.value}),placeholder:"Choose a username",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs(z,{htmlFor:"password",className:"flex items-center gap-2",children:[n.jsx(Qn,{className:"w-4 h-4"}),"Password"]}),n.jsx(q,{id:"password",type:"password",value:a.password,onChange:g=>o({...a,password:g.target.value}),placeholder:"Create a secure password",required:!0})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"password_confirm",children:"Confirm Password"}),n.jsx(q,{id:"password_confirm",type:"password",value:a.password_confirm,onChange:g=>o({...a,password_confirm:g.target.value}),placeholder:"Confirm your password",required:!0})]})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg",children:n.jsxs("p",{className:"text-sm text-green-700",children:[n.jsx("strong",{children:"By creating your account, you agree to accept this proposal."})," Once your account is created, the proposal will be automatically accepted and your project will begin."]})}),n.jsx(V,{type:"submit",disabled:c,className:"w-full bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:c?"Creating Account & Accepting Proposal...":"Accept Proposal & Create Account"})]})]})]})})}function k5(){const[e,t]=h.useState("processing"),[s,r]=h.useState("Processing Google authentication...");h.useEffect(()=>{(async()=>{try{const l=new URLSearchParams(window.location.search),c=l.get("code"),d=l.get("state"),u=l.get("error"),m=l.get("error_description");if(console.log("=== OAUTH CALLBACK DEBUG ==="),console.log("Full URL:",window.location.href),console.log("Authorization code:",c),console.log("State:",d),console.log("Error:",u),console.log("Error description:",m),u){let x="Google authentication failed";throw u==="access_denied"?x="Google authentication was cancelled by user":m&&(x=m),new Error(x)}const f=sessionStorage.getItem("oauth_state");if(d!==f)throw new Error("Invalid state parameter - potential security issue");if(!c)throw new Error("No authorization code received from Google");r("Exchanging authorization code for tokens...");const y=await dt.googleLogin(c);console.log("Authentication successful:",y),t("success"),r("Authentication successful! Redirecting..."),sessionStorage.removeItem("oauth_state"),window.opener?(window.opener.postMessage({type:"google-oauth-success",result:y},window.location.origin),setTimeout(()=>{window.close()},2e3)):setTimeout(()=>{window.location.href="/Dashboard"},2e3)}catch(l){console.error("OAuth callback error:",l),t("error"),r(l.message||"Authentication failed"),window.opener&&(window.opener.postMessage({type:"google-oauth-error",error:l.message||"Authentication failed"},window.location.origin),setTimeout(()=>{window.close()},3e3))}})()},[]);const a=()=>{switch(e){case"processing":return n.jsx(He,{className:"w-8 h-8 text-blue-500 animate-spin"});case"success":return n.jsx(qs,{className:"w-8 h-8 text-green-500"});case"error":return n.jsx(Kv,{className:"w-8 h-8 text-red-500"});default:return n.jsx(He,{className:"w-8 h-8 text-blue-500 animate-spin"})}},o=()=>{switch(e){case"processing":return"text-blue-600";case"success":return"text-green-600";case"error":return"text-red-600";default:return"text-blue-600"}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsx("div",{className:"w-full max-w-md bg-white shadow-lg rounded-lg p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:a()}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Google Authentication"}),n.jsx("p",{className:`text-sm ${o()}`,children:s}),e==="error"&&n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>{window.opener?window.close():window.location.href="/login"},className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md",children:window.opener?"Close":"Return to Login"})}),e==="success"&&n.jsx("div",{className:"mt-4",children:n.jsx("p",{className:"text-xs text-gray-500",children:"This window will close automatically..."})}),e==="processing"&&n.jsx("div",{className:"mt-4",children:n.jsx("p",{className:"text-xs text-gray-500",children:"Please wait while we complete your authentication..."})})]})})})}function um(){const e=Ws(),[t,s]=h.useState(1),[r,a]=h.useState(""),[o,i]=h.useState({token:"",newPassword:"",confirmPassword:""}),[l,c]=h.useState(!1),[d,u]=h.useState("");h.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("token");x&&(i(p=>({...p,token:x})),s(3))},[]);const m=async y=>{var x,p;y.preventDefault(),c(!0),u("");try{const g=await dt.forgotPassword(r);if(!g.token)throw new Error("Failed to generate reset token");const v={company_name:"Your App",primary_color:"#72FD67",secondary_color:"#1E1E1D",accent_color:"#F2F2F2",email_theme:"light",company_email:"",company_phone:"",company_address:""},w=`${window.location.origin}/reset-password?token=${g.token}`,b=v.email_theme==="dark",S=v.email_theme==="contrast";let _,P,k,j,E,B;b||S||(_="#F2F2F2",P="white",k="#1E1E1D",j="#666",E=v.accent_color,B="#E0E0E0");const I=`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200;12..96,300;12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&display=swap');
            body { 
              font-family: 'Bricolage Grotesque', -apple-system, sans-serif; 
              margin: 0; 
              padding: 20px; 
              background: ${_}; 
              line-height: 1.6;
            }
            .container { 
              max-width: 600px; 
              margin: 0 auto; 
              background: ${P}; 
              border-radius: 16px; 
              overflow: hidden; 
              box-shadow: 0 20px 50px rgba(0,0,0,0.1); 
            }
            .header { 
              background: ${v.primary_color};
              color: ${v.secondary_color}; 
              padding: 40px; 
              text-align: center; 
            }
            .logo { 
              width: 80px; 
              height: 80px; 
              margin: 0 auto 20px; 
              display: flex; 
              align-items: center; 
              justify-content: center; 
              border-radius: 16px;
              background: ${v.secondary_color}; 
              color: ${v.primary_color};
              font-size: 32px;
            }
            .content { 
              padding: 40px; 
            }
            .detail-box { 
              background: ${E}; 
              padding: 24px; 
              border-radius: 12px; 
              margin: 20px 0;
              ${S?`border: 1px solid ${B};`:""}
            }
            .reset-button { 
              display: inline-block; 
              background: linear-gradient(135deg, ${v.primary_color} 0%, #5DE055 100%); 
              color: ${v.secondary_color}; 
              padding: 16px 32px; 
              text-decoration: none; 
              border-radius: 12px; 
              font-weight: 700; 
              font-size: 16px;
              margin: 20px 0; 
              transition: transform 0.2s;
            }
            .reset-button:hover {
              transform: translateY(-2px);
            }
            .footer { 
              background: ${E}; 
              padding: 30px 40px; 
              text-align: center; 
              border-top: 1px solid ${B}; 
              ${S?`border: 1px solid ${B}; border-top: none;`:""}
            }
            h1 { 
              margin: 0; 
              font-size: 17px; 
              font-weight: 500; 
            }
            h2 { 
              margin: 0 0 10px 0; 
              font-size: 24px; 
              font-weight: 600; 
              color: ${k}; 
            }
            h3 { 
              margin: 0 0 15px 0; 
              font-size: 18px; 
              font-weight: 600; 
              color: ${k}; 
            }
            p { 
              margin: 0 0 12px 0; 
              color: ${j}; 
              font-size: 15px;
            }
            .highlight { 
              color: ${k}; 
              font-weight: 600; 
            }
            .security-note { 
              background: ${b?"#2d1b1b":"#fef2f2"}; 
              border: 1px solid ${b?"#4a2626":"#fecaca"}; 
              border-radius: 8px; 
              padding: 16px; 
              margin: 20px 0; 
              color: ${b?"#f87171":"#991b1b"}; 
            }
            .url-box { 
              background: ${E}; 
              padding: 16px; 
              border-radius: 8px; 
              margin: 20px 0; 
              border: 1px solid ${B};
              word-break: break-all;
              font-family: monospace;
              font-size: 14px;
              color: ${k};
            }
            ${S?`
            .content h2, .content h3 { color: #ffffff; }
            .content .highlight { color: #ffffff; }
            .content p { color: #cccccc; }
            .detail-box .highlight { color: #ffffff; }
            `:""}
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>Autolab Integration Studios</h1>
            </div>
            
            <div class="content">
              <h2>Password Reset Request</h2>
              
              <p>Hello,</p>
              
              <p>We received a request to reset the password for your account associated with <span class="highlight">${r}</span>.</p>
              
              <p>Click the button below to reset your password:</p>
              
              <div style="text-align: center; margin: 30px 0;">
                <a href="${w}" class="reset-button">Reset Your Password</a>
              </div>
              
              <div class="detail-box">
                <h3>Can't click the button?</h3>
                <p>Copy and paste this link in your browser:</p>
                <div class="url-box">${w}</div>
              </div>
              
              <div class="security-note">
                <h3 style="margin-top: 0; color: inherit;">🔒 Security Notice</h3>
                <ul style="margin: 10px 0; padding-left: 20px;">
                  <li>This reset link will expire in 24 hours</li>
                  <li>If you didn't request this reset, please ignore this email</li>
                  <li>Never share this link with anyone</li>
                  <li>For security, this link can only be used once</li>
                </ul>
              </div>
              
              <div class="detail-box">
                <h3>Need help?</h3>
                <p>If you're having trouble resetting your password or didn't request this reset, please contact our support team.</p>
                ${v.company_email?`<p><span class="highlight">Email:</span> ${v.company_email}</p>`:""}
                ${v.company_phone?`<p><span class="highlight">Phone:</span> ${v.company_phone}</p>`:""}
              </div>
            </div>
            
            <div class="footer">
              <p class="highlight" style="margin-bottom: 15px; font-size: 16px;">This is an automated security email from ${v.company_name}</p>
              ${v.company_address?`<p style="margin-bottom: 8px;">${v.company_address}</p>`:""}
              <p style="font-size: 12px; color: ${j};">
                This email was sent because a password reset was requested for your account. 
                If you didn't make this request, you can safely ignore this email.
              </p>
            </div>
          </div>
        </body>
        </html>
      `,R=`
Password Reset Request

Hello,

We received a request to reset the password for your account associated with ${r}.

Reset your password by clicking this link: ${w}

This link will expire in 24 hours.

If you didn't request this reset, please ignore this email.

Best regards,
${v.company_name} Team

---
This is an automated security email. If you need help, please contact support.
${v.company_email?`Email: ${v.company_email}`:""}
${v.company_phone?`Phone: ${v.company_phone}`:""}
      `.trim();await wE({to:r,subject:`Password Reset - ${v.company_name}`,body:R,html_message:I}),s(2)}catch(g){console.error("Password reset error:",g);let v="Failed to send reset email. Please try again.";(p=(x=g.response)==null?void 0:x.data)!=null&&p.error?v=g.response.data.error:g.detail?v=g.detail:g.error?v=g.error:g.message?v=g.message:typeof g=="string"&&(v=g),u(v)}finally{c(!1)}},f=async y=>{var x,p;if(y.preventDefault(),c(!0),u(""),o.newPassword!==o.confirmPassword){u("Passwords do not match"),c(!1);return}if(o.newPassword.length<8){u("Password must be at least 8 characters long"),c(!1);return}try{const g=await dt.resetPassword(o.token,o.newPassword);e("/login",{state:{message:"Password reset successfully. Please log in with your new password."}})}catch(g){console.error("Password reset error:",g);let v="Failed to reset password. The token may be invalid or expired.";(p=(x=g.response)==null?void 0:x.data)!=null&&p.error?v=g.response.data.error:g.detail?v=g.detail:g.error?v=g.error:g.message?v=g.message:typeof g=="string"&&(v=g),u(v)}finally{c(!1)}};return t===1?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsxs(pe,{className:"text-center",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(V,{type:"button",variant:"ghost",size:"sm",onClick:()=>e("/login"),className:"p-1",children:n.jsx(Jn,{className:"w-4 h-4"})}),n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center",children:n.jsx(Qn,{className:"w-6 h-6 text-[#1E1E1D]"})})]}),n.jsx(xe,{className:"text-2xl font-bold",children:"Reset your password"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),n.jsxs(ne,{children:[d&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:d})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(z,{htmlFor:"email",children:"Email Address"}),n.jsx(q,{type:"email",id:"email",value:r,onChange:y=>a(y.target.value),placeholder:"Enter your email address",onKeyDown:y=>{y.key==="Enter"&&r&&m(y)}})]}),n.jsx(V,{onClick:m,disabled:l||!r,className:"w-full bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:l?"Sending reset link...":"Send reset link"})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(V,{variant:"ghost",onClick:()=>e("/login"),className:"text-sm font-medium text-[#72FD67] hover:text-green-400 transition-colors duration-200",children:"Back to sign in"})})]})]})}):t===2?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsxs(pe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center mb-4",children:n.jsx(qs,{className:"w-6 h-6 text-[#1E1E1D]"})}),n.jsx(xe,{className:"text-2xl font-bold",children:"Check your email"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["We've sent a password reset link to ",n.jsx("strong",{children:r})]})]}),n.jsxs(ne,{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[n.jsx("p",{children:"If you don't see the email in your inbox:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-4",children:[n.jsx("li",{children:"Check your spam or junk folder"}),n.jsx("li",{children:"Make sure you entered the correct email address"}),n.jsx("li",{children:"Wait a few minutes for the email to arrive"})]})]}),n.jsx(V,{onClick:()=>s(1),variant:"outline",className:"w-full",children:"Try different email address"}),n.jsx(V,{onClick:()=>e("/login"),className:"w-full bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:"Back to sign in"}),n.jsx("div",{className:"text-center",children:n.jsx(V,{variant:"ghost",onClick:m,disabled:l,className:"text-sm font-medium text-[#72FD67] hover:text-green-400 transition-colors duration-200",children:l?"Sending...":"Resend email"})})]})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:n.jsxs(Z,{className:"w-full max-w-md",children:[n.jsxs(pe,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 bg-[#72FD67] rounded-full flex items-center justify-center mb-4",children:n.jsx(Qn,{className:"w-6 h-6 text-[#1E1E1D]"})}),n.jsx(xe,{className:"text-2xl font-bold",children:"Set new password"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your new password below."})]}),n.jsxs(ne,{children:[d&&n.jsxs($e,{variant:"destructive",className:"mb-4",children:[n.jsx(Ke,{className:"h-4 w-4"}),n.jsx(Ve,{children:d})]}),n.jsxs("div",{className:"space-y-4",children:[!o.token&&n.jsxs("div",{children:[n.jsx(z,{htmlFor:"token",children:"Reset Token"}),n.jsx(q,{type:"text",id:"token",value:o.token,onChange:y=>i({...o,token:y.target.value}),placeholder:"Enter the token from your email"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"newPassword",children:"New Password"}),n.jsx(q,{type:"password",id:"newPassword",value:o.newPassword,onChange:y=>i({...o,newPassword:y.target.value}),placeholder:"Enter your new password"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be at least 8 characters long"})]}),n.jsxs("div",{children:[n.jsx(z,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsx(q,{type:"password",id:"confirmPassword",value:o.confirmPassword,onChange:y=>i({...o,confirmPassword:y.target.value}),placeholder:"Confirm your new password",onKeyDown:y=>{y.key==="Enter"&&o.token&&o.newPassword&&o.confirmPassword&&f(y)}})]}),n.jsx(V,{onClick:f,disabled:l||!o.token||!o.newPassword||!o.confirmPassword,className:"w-full bg-[#72FD67] hover:bg-green-400 text-[#1E1E1D] font-semibold",children:l?"Resetting password...":"Reset password"})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsx(V,{variant:"ghost",onClick:()=>e("/login"),className:"text-sm font-medium text-[#72FD67] hover:text-green-400 transition-colors duration-200",children:"Back to sign in"})})]})]})})}const mm={Dashboard:Zi,Projects:x0,Proposals:v0,Invoices:b0,TimeTracking:w0,Team:j0,Books:N0,ProposalView:_0,Settings:S0,Clients:C0,ThankYou:k0};function P5(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(mm).find(r=>r.toLowerCase()===t.toLowerCase())||Object.keys(mm)[0]}function E5(){const e=hr(),t=P5(e.pathname);return n.jsx(g_,{currentPageName:t,children:n.jsxs(B0,{children:[n.jsx(Ie,{path:"/",element:n.jsx(Zi,{})}),n.jsx(Ie,{path:"/Dashboard",element:n.jsx(Zi,{})}),n.jsx(Ie,{path:"/login",element:n.jsx(l5,{})}),n.jsx(Ie,{path:"/Projects",element:n.jsx(x0,{})}),n.jsx(Ie,{path:"/Proposals",element:n.jsx(v0,{})}),n.jsx(Ie,{path:"/Invoices",element:n.jsx(b0,{})}),n.jsx(Ie,{path:"/TimeTracking",element:n.jsx(w0,{})}),n.jsx(Ie,{path:"/Team",element:n.jsx(j0,{})}),n.jsx(Ie,{path:"/Books",element:n.jsx(N0,{})}),n.jsx(Ie,{path:"/ProposalView",element:n.jsx(_0,{})}),n.jsx(Ie,{path:"/Settings",element:n.jsx(S0,{})}),n.jsx(Ie,{path:"/Clients",element:n.jsx(C0,{})}),n.jsx(Ie,{path:"/ThankYou",element:n.jsx(k0,{})}),n.jsx(Ie,{path:"/userInviteAcceptance",element:n.jsx(_5,{})}),n.jsx(Ie,{path:"/clientProposalAcceptance",element:n.jsx(C5,{})}),n.jsx(Ie,{path:"/Register",element:n.jsx(S5,{})}),n.jsx(Ie,{path:"/forgotpassword",element:n.jsx(um,{})}),n.jsx(Ie,{path:"/auth/google/callback",element:n.jsx(k5,{})}),n.jsx(Ie,{path:"/reset-password",element:n.jsx(um,{})})]})})}function T5(){return n.jsx(V0,{children:n.jsx(E5,{})})}const D5=20,A5=1e6,Qt={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let ni=0;function R5(){return ni=(ni+1)%Number.MAX_VALUE,ni.toString()}const ri=new Map,hm=e=>{if(ri.has(e))return;const t=setTimeout(()=>{ri.delete(e),Kn({type:Qt.REMOVE_TOAST,toastId:e})},A5);ri.set(e,t)},M5=(e,t)=>{switch(t.type){case Qt.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,D5)};case Qt.UPDATE_TOAST:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case Qt.DISMISS_TOAST:{const{toastId:s}=t;return s?hm(s):e.toasts.forEach(r=>{hm(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case Qt.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},oa=[];let ia={toasts:[]};function Kn(e){ia=M5(ia,e),oa.forEach(t=>{t(ia)})}function O5({...e}){const t=R5(),s=a=>Kn({type:Qt.UPDATE_TOAST,toast:{...a,id:t}}),r=()=>Kn({type:Qt.DISMISS_TOAST,toastId:t});return Kn({type:Qt.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:s}}function I5(){const[e,t]=h.useState(ia);return h.useEffect(()=>(oa.push(t),()=>{const s=oa.indexOf(t);s>-1&&oa.splice(s,1)}),[e]),{...e,toast:O5,dismiss:s=>Kn({type:Qt.DISMISS_TOAST,toastId:s})}}const P0=h.forwardRef(({...e},t)=>n.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));P0.displayName="ToastProvider";const E0=h.forwardRef(({...e},t)=>n.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));E0.displayName="ToastViewport";const F5=Ks("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),T0=h.forwardRef(({className:e,variant:t,...s},r)=>n.jsx("div",{ref:r,className:K(F5({variant:t}),e),...s}));T0.displayName="Toast";const L5=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));L5.displayName="ToastAction";const D0=h.forwardRef(({className:e,...t},s)=>n.jsx("button",{ref:s,className:K("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Vt,{className:"h-4 w-4"})}));D0.displayName="ToastClose";const A0=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("text-sm font-semibold",e),...t}));A0.displayName="ToastTitle";const R0=h.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:K("text-sm opacity-90",e),...t}));R0.displayName="ToastDescription";function $5(){const{toasts:e}=I5();return n.jsxs(P0,{children:[e.map(function({id:t,title:s,description:r,action:a,...o}){return n.jsxs(T0,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(A0,{children:s}),r&&n.jsx(R0,{children:r})]}),a,n.jsx(D0,{})]},t)}),n.jsx(E0,{})]})}function V5(){return n.jsxs(n.Fragment,{children:[n.jsx(T5,{}),n.jsx($5,{})]})}q0.createRoot(document.getElementById("root")).render(n.jsx(V5,{}));
